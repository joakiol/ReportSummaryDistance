SYNTHESIZING WEATHER FORECASTS FROM FORMATFED DATAR.Kittredge and A.Polgu~reD6partement de LinguistiqueUniversitd e Montr6alE.GoldbergAtmospheric Environment ServiceEnvironment Canada, TorontoAbstractThis paper describes a system (RAREAS) which synthesizesmarine weather forecasts directly from formatted weather data.
Suchsynthesis appem~ feasible in certain natural sublanguages with stereo-typed text structure.
RAREAS draws on several kinds of linguisticand non-linguistic knowledge and mirrors a forecaster's apparent ten-dency to ascribe less precise temporal adverbs to more remotemeteorological events.
The approach can easily be adapted to syn-thesize bilingual or multMingual texts.1.
Natural Language Report SynthesisWe use the term "natural language report synthesis" (NLRS) todescribe the process of creating well-formed text which summarizesformatted ata in a given domain using a style which mirrors the con-ventions of professional report writers for that domain.NLRS for highly reslricted omains was first demonstrated inthe work of Kukicb_ (1983) on "knowledge-based generation" of stockmarket reports.
Kukich's ANA system produces professional-sounding stock market stmlmaries using a daily trace of Dow Jones'half-hourly quoudions for the market average and major indices.Both ANA and the analogous FRANA system for French (Contant1986) have used a phrasal lexicon approach (Beeker 1975) which lim-its the generality of the linguistic component, but which seems tosuffice for small and stereotyped domains.
The work described belowrepresents a more modular approach to NLRS as well as a new appli-cation domain.2.
Synthesis of Arctic Marine Weather ForecastsThe RAREAS system was developed uring a five-month effortto explore the feasibility of synthesizing marine weather bulletinsfrom formatted weather forecast data.
The particular task was to pro-duce Arctic marine forecasts for five forecast areas to the east ofBaffin Island (known as FPCN25 forecasts).
Marine forecasts areone of several types of weather bulletin based on the same basicweather data, each type emphasizing the conditions of interest o aparticular corurrmnity of users.
In the case of marine bulletins,linguistic emphasis i  placed on wind direction and speed, dangerouswind and freezing spray conditions, etc.
RAREAS is designed to besufficiently modular and flexible so as to allow easy extension andadaptation to other types of weather bulletin (e.g., agricultural bul-letins, public weather forecasts).
Although the current project seemsto have proved the feasibility of automatically synthesizing weatherforecasts, extensive testing and refinement is required beforeRAREAS or any successor can be introduced into daily use.The RAREAS system is the natural anguage component of theMARWORDS project, which envisages automating the process ofcreating bulletins from meteorological information.
In the currentmanual procedure all the available meteorological information (obser-vations, radar and satellite imagery, and numerical weather predictionproducts) is made available to the weather forecaster.
The weatherforecaster must correctly diagnose the meteorological processes whichwill affect his particular area of interest throughout the forecastperiod, and then translate this knowledge into appropriate textual fore-casts for various users.In the proposed automated process, MARWORDS will usepredicted values for meteorological parameters such as wind speedand direction, cloud cover, and others.
In some cases, these predic-tions could be obtained directly from numerical weather predictionproducts.
In most cases though, they would still be the result of amanual (i.e., human) forecasting procedure.
MARWORDS willsignificantly reduce the workload on the forecaster, making it possibleto focus more attention on meteorological problems.In the normal course of events, the predicted values make up acontinuum in both time and space.
For simplicity, values are oftengiven at regular steps in time (e.g., hourly) and space (either at gridpoints, or at weather observing sites).
Alternatively, forecast parame-ters may be given in terms of significant changes only.
MAR-WORDS is flexible enough to accept both types of data description.In fact, the structure and nature of the required data is a problemwhich needs more work to resolw~.3.
Design of the RAREAS systemA major task in designing RAREAS was the definition of aninput data format which properly divides the work between the MAR-WORDS expert system, which computes predicted values of weatherparameters based on large-scale observations, and RAREAS itself,which interprets that data under local conditions for the purpose ofmarine forecasts.
The format and its permissible content should besufficiently rich in expressive power to reflect the nuances found innatural anguage forecasts.
Ideally, the expert system should be keptas independent of forecast purpose as possible.
RAREAS shouldtherefore take care of all matters related to subjective valuation ofthe data (e.g., importance of individual parameters of marine fore-casts), as well as the linguistic expression of data values and datarelations.In its current implementation RAREAS reads the formattedforecast data and carries out (sequentially) the following major opera-tions:- reading and parsing of formatted input data, with the interpre-tation of certain coded values;- checking of data for consistency and plausibility, using data-bases of geographical nd meteorological information;- insertion of default values when needed;- detection of conditions which are hazardous for marine opera-lions (e.g., freezing spray, calculated as a function of forecastwind speed and air temperature, and of a seasonally and region-ally adjusted water temperature taken from the database);- "merging of areas", namely, a check for similarity in the datafor contiguous forecast areas; when similarity threshold condi-tions are satisfied a single report formula is created for themerged areas under a header which lists those areas;563- suppression of data not sufficiently salient for explicit inclu-sion in the report (e.g., temperature is generally dropped after itsuse to check if freezing spray conditions are present);- synthesis of pre-linguistie ("logical") representation for eachsequence of weather events;- interpretation of transitions between weather events into samepre-linguistic form;- segmentation f logical structures into more.independent pre-linguistic lauses and sentences;- mapping of clausal form into English word strings, usingproper terminology and style.These diverse functions are carried out by relatively indepen-dent modules written in MProlog.4.
A Sample ReportThe following simplified example (figure 1) shows the inputformatted ata, using mnemonic descriptors, for the Frobisher Bayforecast area.
(Here, we leave aside the problem of possibly mergingreports from the seven areas or sub-areas that are consideredtogether).0400 mon 85/10/16 end.frob wind 0 10 &nt 6 dir 140 speed 15 &nt 9 dir 90 speed 30 &nt 6 dir 50 speed 35 &nt 12 dir 20 speed 40sky bknwea snow &fog per &mist pertemp - 1end.Figure 1.
Sample RAREAS formatted input.The formatted ata identifies the Greenwich time of report vali-dity, the date and area concerned, and then specifies initial values foreach important weather parameter.
Subsequent changes in the value ofa parameter are preceded by the number of hours until the forecastchange.
Localized exceptions to the general forecast are preceded bya coded sub-area specification.
At present, input data is limited to thesix most important parameters: (1) wind direction, (2) wind speed, (3)cloud cover classification, (4) precipitation types (if any), (5) precipi-tation frequency and intensity rating, and (6) air temperature.
Furtherforecast parameters which are functions of the input parameters (e.g.,warnings and visibility ratings) are calculated by the first non-linguistic module.After reading and analysis, the data is manipulated in clausalform through data checking, area unification and data suppressionstages mentioned above.
It is then translated into a "logical form"just before input to the linguistic modules.Linguistic modules first calculate the values of signficantsemantic features of incipient lexical items, particularly regardingdirection and degree of changes.
For example, winds which changedirection in a clockwise direction will be described lexically as "veer-ing" to the new direction, whereas winds which change in a counter-clockwise direction are described as "backing".
Initial lexical instan-tiation uses the most precise term available in the lexicon.
Subse-quent segmentation i to sentences may juxtapose clauses in such away that lexical variation is desirable.
Precise terms may then bereplaced by synonymic variants, or by more general (hyperonymic)lexemes.Figure 2 gives the final textual form of the marine forecastcorresponding to the data of figure 1 above.MARINE FORECASTS FOR ARCTIC WATERS ISSUED BYENVIRONMENT CANADA AT 9:00 PM MDT MONDAY 16OCTOBER 1985.VALID UNTIL MIDNIGHT TUESDAY WITH AN OUTLOOKFOR WEDNESDAY.FROBISHER-BAYGALE WARNING ISSUED ...WINDS LIGHT BECOMING SOUTHEASTERLY 15 EAKLYTUESDAY MORNING THEN BACKING AND STRENGTHEN-ING TO EASTERLY 30 TUESDAY AFTERNOON THENSTRENGTHENING TO NORTHEASTERLY GALES 35 TUES-DAY EVENING, MOSTLY CLOUDY WITH SNOW.
FOG ANDMIST PATCHES.
VISIBILITY FAIR IN SNOW, FAIR IN MISTAND POOR IN FOG.OUTLOOK FOR WEDNESDAY GALE FORCENORTHEASTERLIES BECOMING GALE'- FORCE NORTHER-LIES.Figure 2.
RAREAS output for data of fig.
1 above.5.Knowledge Sources for Report SynthesisThe RAREAS architecture isolates different ypes of linguisticand non-linguistic knowledge within appropriate modules.
Our gram-matical, lexical, rhetorical and stylistic description is based on anexamination of all the marine bulletins (manually) produced for theFPCN25 region during the 1983 and 1985 seasons (some 50,000words in all).Examination of this extensive corpus of English has led to afairly detailed grammar of this sublanguage (cf.
Harris 1968, Kit-tredge and Lehrberger 1982).Linguistic knowledge is broken down into several types:- lexical semantics, including conditions for appropriate usage ofwords in terms of corresponding data values, and frequencypreferences among synonymous terms in the subianguage ofmarine bulletins;- syntactic patterns, including the possible and preferred sen-tence patterns for expressing messages of given types; a secondtype of syntactic knowledge concerns the rules for deletingrepeated sentence constituents when two or more propositionsare fused into a single report sentence;- simple principles of text organization, specific to the variety oftext to be synthesized, and hence a function of the data saliencehierarchy (see below);Non-linguistic knowledge is of three types:- geographical knowledge for each forecast area including (1) itstime zone, (2) its limits of latitude and longitude, and (3) thenames of adjoining areas (to allow recursively merging adjacentareas in ease of similar meteorological regimes);- meteorological data including (1) mean temperature values forair and water during each month of the Arctic shipping season(June through October) and (2) record values for temperature &wind speed;- an "archive" of data from preceding reports, used to verify ifdangerous wind warnings or freezing spray warnings are ineffect.564Geographic knowledge is used primarily during tire attempt tomerge reports for adjoining areas.
However time zone data is used tocalculate local time associated with meteorological phenomena, ndhence allow attribution of appropriate temporal descriptors (e.g., "bylate afternoon").
Input data to the system has only the Greenwichreference time used by meteorologists.6.
Linguistic Treamtent of SalienceThe structure of marine weather forecasts shows severallinguistic correlates of data salience relations.
First, warnings ofdangerous conditions (strong winds and freezing spray in the FPCN25region) constitute separate headers preceding the normal text.
Onlywarnings are so positionally marked and informationally redundant.Within the normal text, sentence groups dealing with each forecastparameter are ordered by two principles: inlrinsic interest of the dataand implicit causal inks between the events or states described.
Thuswind direction and speed, as the critical factors in marine conditions,occupy initial position.
However visibility ratings, which should tbl-low in order of imt)ortance, occur last by virtue of their dependenceon fog/mist descriptions, which in turn are somewhat dependent onprecipitation, which in aim follow cloud cover ratings.
Sentencegroups are therefore ordered as follows:WINDS > CLOUD-COVER > PRECIP >FOG&MIST > VISIBILITYWithin each sentence group, sentences and clauses are firstordered according to the dichotomy "general vs. local exception", andthen chronologically within general and exceptional parts.
A finalcorrelate of data salience is the choice of marked Iexical items andmodifiers.
For example, particularly strong winds are classified as"gales" (at 35 knots), "storm force winds" (at 45 knots), etc.
Also,more specialized sense verbs such as "veering" and "backing" tend tobe used more for huge changes of wind direction.7.
Temporal Reference under b~creasing UncertaintyArt interesting problem arises in ascribing particular time adver-bials to points and intervals of (local) time.
There appears to be a ten-dency in reportS to "hedge" temporal descriptors slightly as referencetime becomes more remote from the forecast issue time.
For example,"Tuesday afternomf' or "by (Tuesday) evening" may be preferred forremote reference over the more precise "late Tuesday afternoon".This may reflect he increasing difficulty in predicting onset imes forremote meteorological events.
RAREAS incorporates two varieties oftemporal rules in order to generate more vague temporal descriptorsfor more remote vents.8.
Bilingual ReportsThe RAREAS system was designed to accomodate the syn-thesis of marine weather bulletins in French as well as in English.Only the final three components in the processing sequence arelanguage-dependent (a d only the last of these in a non-trivial way).Syntactic patterns and lexical enwies for French must of course befurnished on the basis of independent linguistic study of thecorresponding French sublanguage.
The exact semantics for French(correspondences between data configurations and specific lexemes)must be worked out separately, since there is no guarantee thatEnglish and French are lexically one-to-one, even in this narrowdomain.Canadian weather forecasts of all varieties are currentlytranslated into French by the METEO system (Chevalier et ,-d. 1978),developed at the Universit6 de Montr6al some ten years ago.Although METEO takes advantage of the relative closure and stereo.-typed style of forecasts, a cerxain percentage of forecast sentencesfails analysis and hence translation.
This is due not only to inputen'ors due to typing and line noise, but also to slight irregularities inthe usage of English grammar and lexicon on the part of forecasters,w/erich ave proved troublesome to foresee in a compact system.The automatic synthesis of marine forecasts, on the other hand,should eliminate the fuzzy edges of unpredictability in trumanlanguage production, by using a semantically complete and consistentsubset of language to cover all foreseeable data configurations.
Workon RAREAS thus prepares the ground ior an attractive alternaave tomachine translation of these forecasts.
The simultaneous synthesis ofEnglish and French forecasts directly from data would optimize thetransfer of information to speakers of both languages, in addition tobeing (in principle) more reliable.
Parallel synthesis of bilingual fore-casts bypasses translation altogether, and most of the system's workin fact serves for both languages.9.
ImplementationRAREAS is written in MProlog, and runs on a Vax underVMS as well as on PC/XT/AT compatible microcomputers.
Syn-thesis of a complete five-area forecast (about 150 words) takes abouthalf a minute for the Vax implementation a d a minute for the ATimplementation.
In either case, this is probably less than the timerequired to type or write the same forecast by hand, not to mentioncompose the same forecast from data.i0.
ReferencesBecker,J.
(1975) "The Phrasal Lexicon", Proc.
TINLAP 1.
Cam-bridge, Mass.Chevalier,M.
et al (1978) TAUM-METEO.
Groupe TAUM, Univer-sit6 de Montrdal.Contant,C.
(1986) "Gdn&atiou automatique de texte: application ausous-langage boursier", M.A.
thesis, Dgpt~ de Linguistique, Universit6de Montreal.Hanis,Z.
(1968) Mathematical Structures of Language.
Wiley-InterscienceKittredge,R.
and Lehrberger,J.
eds.
(1982) Sublanguage: Studies ofLanguage in Restricted Semantic Domains.
deGmyterKuldch,K.
(1983) "Design of a Knowledge-Based Report Generator",Proceedings of the 21st Annual Meeting of the Association for Com-putational Linguistics.McKeown,K.
(1982) "Generating Natural Language Text in Responseto Questions about Database Structure", Ph.D. thesis, University ofPennsylvania Computer and Information Science Department.565
