A TRANSFER MODEL USING A TYPED FEATURE STRUCTUREREWRITING SYSTEM WITH INHERITANCER6mi ZajacATR Interpreting Telephony Research LaboratoriesSanpeidani lnuidani, Seika-cho~ Soraku-gun, Kyoto 619-02, Japan\[zajac%atr-ln.atr.junet@uunet.un.net\]ABSTRACTWe propose a model for transfer in machinetranslation which uses a rewriting system for typedfeature structures.
The grammar definitions describetransfer elations which are applied on the inputstructure (a typed feaane structure) by the interpreter toproduce all possible transfer pairs.
The formalism isbased on the semantics of typed feature structures asdescribed in \[AR-Kaci 84\].INTRODUCTIONWe propose a new model for transfer in machinetranslation of dialogues.
The goal is twofold: todevelop a linguistically-based theory for transfer, and todevelop a computer formalism with which we canimplement such a theory, and which can be integratedwith a unification-based parser.
The desired propertiesof the grammar are (1) to accept as input a featurestructure, (2) to produce as output a feature structure,(3) to be reversible, (4) to be as close as possible tocurrent heories and formalisms used for linguisticdescription.
From (1) and (2), we need a rewritingformalism where a rule takes a feature structure asinput and gives a feature structure as output.
From O),this formalism should be in the class of unification-based formalisms such as PROLOG, and there shouldbe no distinction between input and output.
From (4),as the theoretical basis of grammar development inATR is HPSG \[Pollard and Sag 1987\], we want theformalism to be as close as possible to HPSG.To meet hese requirements, a rewriting system fortyped feature structures, based on the semantics oftyped feature structures described in \[AR-Kaci 84\], hasbeen implemented atATR by Martin Emele and theauthor \[Emele and Zajac 89\].The type system has a lattice structure, andinheritance is achieved through the rewritingmechanism.
Type definitions are applied by theinterpreter on the input structure (a typed featurestructure) using typed unification i  a non-deterministicand monotonic way, until no constraint can be applied.Thus, the result is a set of all possible transfer pairs.compatible with the input and with the constraintsexpressed by the grammar.
Thanks to the properties ofthe rewriting formalism, the transfer grammar isreversible, and can even generate all possible pairs forthe grammar, given only the start symbolTRANSLATE.We give an outline of the model on a very simpleexample.
The type inheritance mechanism is mainlyused to classify common properties of the bilinguallexicon (sect.
1), and rewriting is fully exploited todescribe the relation between a surface structureproduced by a unification-based parser and the abstractstructme used for transfer (sect.
2), and to describe therelation between Japanese and English structures ( ect.3).
An example is detailed in sect.
4.1.
LEX ICAL  TRANSFER AS AHIERARCHY OF BIL INGUAL LEXICALDEFINITIONSThe type system is used to describe a hierarchy ofconcepts, where a sub-concept inherits all of theproperties of its super-concepts.
The use of typeinheritance to describe the hierarchy of lexical types isadvocated for example in \[Pollard and Sag 1987, "chap.8\].We use a type hierarchy to describe propertieswhich are common to bilingual classes of the bilinguallexicon.
The level of description of the bilinguallexicon is the logico-semantic level: a verb for examplehas a relational role and links different objects throughsemantic relations (agent, recipient, space-location ....).Semantic relations in the bilingual lexicon arecommon to English and Japanese.Predicates can be classified according to thesemantic relations they establish between objects.
Forexample, predicates which have only an agent case aredefined as Agent-Verbs, and verbs which also have arecipient role are defined as Agent-Recipient-Verbs, asub-class of Agent-Verbs.
On the leaves of thehierarchy, we find the actual bilingual entries, whichdescribe only idiosyncratic properties, and thus are verysimple.The translation relation defined by TRANSLATEis described in sect.
3.
We shall concentrate on thepropositional part PROP defined here as a disjunction oftypes:PROP = SPEAKER I HEARER I REG-~mM I BOCK rASK I ~ I TCt~4 I NEGATIC~ ...The simple hierarchy depicted graphicallyFigure 1 is written as follows:VERB s \[japanese:JV\[relaticn:JPROP\],english:EJ \[relation:EPROP\] \].AG-VERB = VERB\[japanese: \[agant:#j-ag\],english: \[agent: #e-ag\],trans-ag: PR~P\[ japanese: #j-ag,english: #e-ag\] \].inThis definition can be read: an Agent-Verb is-aVerb which has-properties agent  for Japanese andEnglish.
We need to express how the arguments of arelation are translated.
This is specified using at ra r~ late -ag  slot with type symbol Pimp, whichwill be used during the rewriting process (see details insect 3 and 4).
Symbols prefixed with # are tags, whichare used to represent co-references (~sharing>O ofslructures.In this clef'tuition, we have a one-to-one mappingbetween the agent argument, and at this level ofrepresentation (semantic relations), this simple casearises frequently.
However, we must also describemappings between structures which do not have suchsimple correspondence, such as idiomatic expressions.In that case, we have to describe the relation betweenpredicate-argument structures in a more complex way,as shown for example in sect.4.AG-BEC-V = ~C--V\[ japanese: \[recipient: #j-recp\],english: \[recipient: #e-recp\],trans-recp: P~ \[japanese: #j-recp,english: #e-recp\] \].
;CJ-REC-OBJ-V ~ ~J-BEC-V\[japanese: \[object: #j-obj\],english: \[object: #e-obj\],trans-obj :PBOP \[ japanese: #j-obj,eng\] 18h: #e-obj \] \].NOUN-  \[japanese:JN, english:EN\].Actual bilingual entries are very simple thanks tothe inheritance of types.SE~D = ~69-REC-fBJ-V\[japanese: \[reln:OK~JRU-l\],english: \[reln:SEMD-I\] \].ASK - ~3-REC-V\[japanese: \[reln:OKIKI-l\],english: \[reln:ASK-l\] \].~ -NOUN\[japanese :~SHI - I ,english: REGISTRATIC~-FO~-I \].B-HEARER = NCE~\[japanese:J-HEARE~english:E-HEARER\].B-SPEAKER - ~ \[ japanese: J-SPEAKER,eng\]~ ~h: E-SPEAKER\].PROPI ?? '
' "SPEAKER HEARER REG-FORM ASK SENDFigure 1: a simple hierarchy of types.The type system is interpreted using the rewritingmechanism described in \[Ait-Kaci 84\], which gives anoperational semantics for type inheritance: a featurestructure which has a type ~3--v for example is unifiedwith the definition of this type:\[ japanese: \[agent: #j-ag\],english: \[agent: #e-ag\],trans-ag: PBOP \[ japanese: #j-ag,~glish: #e-ag\] \]and the type symbol AG-V is replaced with the super-type VERB in the result of the unification.
If type VERBhas a deC'tuition, the structure is further ewritten, thusachieving the operational interpretation f inheritance.Disjunctions like Pt~Dp create a non-deterministicchoice for further rewriting: the symbol E,I~Dp isreplaced with the disjunction of symbols of the right-hand-side creating alternative paths in the rewritingprocess.
This process of rewriting is applied on every2sub-structure of a structure to be evaluated, until notype symbol can be rewritten.As the rewriting system does not have any explicitcontrol mechanism for rule application, wheneverseveral rules are applicable all paths are explored, andall solutions are produced in a non deterministic way.This could be a drawback for a practical machinetranslation system, as only one translation should beproduced in the end, and due to the non deterministicbehavior of the system, this could also lead to severeefficiency problems.
However, the system is primarilyintended to be used as a tool for developing a linguisticmodel, and thus the production of all possiblesolutions is necessary inorder to make a detailed studyof ambiguities.Furthermore, according to the principles of secondgeneration MT systems \[Ynvge 57, Vauquois 75,Isabelle and Macklovitch 86\], a transfer grammarshould be purely contrastive, and should not includespecific source or target language knowledge.
As aresult, the synthesis grammar should implement allnecessary language specific constraints inorder to ruleout ungrammatical strucmr~ that could be producedafter transfer, and make appropriate pragmaticdecisions.2.
RELATING SURFACE AND ABSTRACTSPEECH ACTSA problem in translating dialogues is to translateadequately the speaker's communicative strategy whichis marked in the utterance, a problem that does notarise in text machine translation where a structuraltranslation is generally found sufficient \[Kume t al.88\].
Indirectness for example cannot be translateddirectly from the surface structure produced by asyntactic parser and needs to be further analyzed interms independent of the peculiarities of the language\[Kogure et al 1988\].
For example, take therepresentation produced by the parser for the sentence\[Yoshimoto and Kogure 1988\]:watashi-ni tourokuyoushi-wo o-okuri jtadake, masu kaI-dative registration-form-acc honor-send can-rT.eive-a-favor polite interrFigure 2: example of a Japanese sentenceThe representation has already categorized to acertain extent surface speech acts types.
The level ofanalysis produced by the parser is the level of semanticrelations (relation, agent, recipient, object,...).
Therepresonmfion reduced to re lat ion fean~es is:( ~ - ~  (CAN (RECEIVE-FA%~3R (OKL~J-1(~Xm~2~S~- I ) )  ) ) )The level of representation wewant for transfer canbe basically characterized by(1) an abstract speech acttype (request, declaration, question, promise .... ), (2) amanner (direct, indirect,...), and (3) the propositionalcontent of the speech act \[Kume t al.
88\].
A grammar,written in the same formalism, abstracts the meaningof the surface structm'e to:JhEA \[ speech-act -type: REQUEST,manner: I~DIRECT-ASKINC--POSSIBrLTTY,speaker: #~ker-J-SPF,~'~%hearer: #hea~r- J -~s-act: JVC~elaticn: O~J~J-1,agent: #hearer,recipient: #speaker,object: ~ - i \ ] \ ]and this is the input for the transfer module.3.
DEFINING THE TRANSFER RELATIONAT THE LOGICO-SEMANTIC LEVELEach structure which represents an utterance has(I) an abswact speech act type, (2) a type of manner,and (3) a propositional content Each sub-structure ofthe propositional content has (I) a lexical head, (2) aset of syntactic featur~ (such as tense-aspect-modality,determination, gender .... ), and may have (3) a set ofdependents which are analyzed as case roles (agent,time-location, condition .... ).The manner and abstract speech act categories areuniversals (or more exactly, common to this languagepair for this corpus), and need not be translated: theyare simply stated as identical by means of tag identity.The part which represents the propositionalcontent is language dependant, and the translationrelation defined between lexical heads, syntactic featuresand dependents of the heads is defined indirectly bymeans of transfer rules.
Thus, this approach can becharacterized as a mix of pivot and wansfer approaches\[Tsujii 87, Boitet 88\].speech-act.type REOUESTmanner INDIRECT-ASK.POSSIBILITYspeaker #0=J-SPEAKERhearer #1=J-HEARERs-act relation OKURU-1agent #1recipient #0object TOUROKUYOUSHI-1Figure 3:directmappingby taggingIndirectmapping byruleapplicationspeech.act-type REOUESTmanner INDIRECT-ASK.POSSIBILITYspeaker #2=E-SPEAKERhearer #3:E-HEARERs-act relation SEND-1agent #3recipient #2object REGISTRATION-FORM-1the translation relation.The definitions of the transfer grammar can bedivided into three groups:1) definitions that state equality of abstract speech acttype and manner (the language independent parts),2) lexical def'mitions that relate predicate-argumentstructures,3) definitions that relate syntactic features (not yetincluded in our grammar).sub-class of lexemes.
For example, one can writedirectly SP~ instead of PROP in the trans-spk slotof the above definition.
Another possibility for amono-directional system is to access the bilinguallexicon using the Japanese ntry during parsing.
Thismeans that the dictionaries of the system would have tobe organized as a single integrated bilingual lexicalrhtabas~.Starting from the abstract speech act description,we need only one definition for specifying the directmapping of Abstract Speech Acts by tagging, whichalso introduces the type symbol PROP that will triggerthe rewriting process for the transfer grmnmar:.~LA.~ -\[ japanese: JASA\[speech-act-type: #sat,manner: #manner,speaker: #J-spk,hearer: #j-hrr,s-act: #j-act-u-PROP\] \],englimh: EASA\[speech-act-type: #sat,manner: #manner,speaker: #e-spk,hearer: #e-hrr,s-act: #e-act=EPROP\] \],trans-act: PI%0P \[ japanese: # j-act,english: #e-act \] \],trans-spk: PIK)P \[japanese: # j-spk,english: #e-spk\] \],trans-hrr: PROP \[japanese: #j-hrr,english: #e-hrr\] \] .In this simple example, the definition of thesymbol PR3P contains the full bilingual dictionary.Unifying a structure with ~,l~Zi, means that a structureis unified with a very large disjunction of clef'tuitions.There are several possible ways to overcome thisproblem.
One can use the hierarchical type system torestrict the set of candidates to a small sub-set ofdefinitions and instead of using pROP, use the mostadequate specific symbol for translating an argument:such a symbol can be viewed as the initial symbol of asub-grammar which describes the transfer relation on a4.
A STEP BY STEP EXAMPLEWe give in this section a trace of a simpleexample for the sentence in Figure 4.
For translating,we need to add to the definition of PRimP, the followingbilingual lexical definitions:BOCK-  hU3N\[japanese:HCN-l, english:BOOK-l\].-IggXlq\[japanese: TE-1, en~\]tqh:HAlXD-l\].
(japanese: (relation: ~JRERU-I,object: TE-I,spatial-destination: #0\],eng\]L-h: \[relation: TOUCH-I,object: #i\],trans0:Pl~P\[japanese: #0, english:#1\]\].hon-ni te-wo fure-naide kudasai Ibook-obl2 hand-ob/1 touch-neg pleaseFigure 4: don't touch the books!A lexical definition introduces the PPJ3P symbolfor the arguments of a predicate, and the translationrelation is defined recursively between argument sub-structures.
There could be one-to-one mapping betweentwo substructures, but as in the example of 2~.X2H, therelation is in general not purely compositional, and notone-to-one, and argument description can be as refinedas necessary.
Here, the object TE-1 (<~hand>>) is a partof the meaning of ~touch~ in this kind of construction,and the semantic relation that links the predicate andthe object being touched is a spatial destination inJapanese (perceived as a goal or a target) and an objectin English.INPUT : a structure representing a deep analysis ofthe sentence in Figure 4.
The initial symbol that willbe rewritten is ~ .
- - 'g  (symbols to be rewritten arein bold face).TRANSLATE\[japanese: JASA\[speech-act-type: #sat=RE~T,manner: #mam~IRECT,speaker: #j-m~J-SPEAmm,h~&r :  # j -hZ--q-HEABER,s-act: #j-act~\[relation: ~3ATEobject:\[relaticn: Ft~ERU-I,object: TE-1,spatial-dest/naticn: HCN-1\] \] \]STEP 1 : rewrite TRANSLATE which adds to theinput structure the English 2a~Aarld new PROP symbolsin the translate.act, txans-speaker and trans-hearer slots.\[ japanese: JASA\[speech-act-type: #sat~EQUEST,manner: #man=DIRECT,speaker: # j-sp-J-SPEAK~hearer: # j -~-HEARER~s-act: # j-act~J-PRfP\[relation: NEGATEabject:\[relatiQn: ~ l - I ,object: TE-1,spatial-dest/nation: HON-1\] \] \]english :EASA\[speech-act-type: #sat,manner: #man,~er :  ~ ,hearer: #e-hearer,s-act: #e-act-EPROP\],t rans-act: P ~X)P\[ japanese: #j-act,engl/sh: #e-act\], ..\]STEP 2 and 3 : the new PINUP symbols are rewrittenas disjunctions.
For the s-act slot, the unification withNE~ZON is successful.
It adds a new PROP symbolwhich is in turn rewritten and this time the unificationwith ~ succeeds: it adds the English object and anew translate slot for 1~0I?.\[japanese: JASA\[speech-act-type: #sat~B~ST,manner: #man-DIBECT,speaker: # j -sp-J-SPEAKER~b~arer: # j-hr=J-HEARER,s-act: #j-act-~7-PRCP\[ relation: # j-neg--J-NEGobject: #-objl\[relation: FURE~J-1,cb~ct: #j-obj2--TE-l,spatial-destination: #sd=HC~-I \] \]english :EASA\[speech-act-type: #sat~T,manner: #man=DIRECT,speaker: #j-sp=E-SPEA~Lhearer: # j -hr--E-HEABER,s-act: #e-act--EV\[relation: #e-neg=E-NEG,object: #e-cbj=\[relation: TOUCH-I,object: #e-obj2\] \],trans-act :..,trans-obj: \[japanese: #j-objl,english: #e-obj,trans0 :PROP \[ japanese: #sd,english: #e-obj2\] \] \]STEP 4 : the new ~ symbol is in turn rewrittenas ~ which finally translates the last argument.
Thefinal structul'e produced by the interpreter is:\[ japanese: JASA\[ speech-act -type: #sat=REQJEST,manner: #marmOIRECT,~aker :  J -S~A~hearer : J~s-act: J-PROP\[relatic~: J-NEGobject:\[ relation: FURERU-I,object :TE-1,spatial-destination:FEN-l\] \],english :EASA\[ speech-act -type: #sat,n~nner: #man,speaker:E-SPEAKER,hearer :E-HEARE~s-act: E-PBOP\[relation: E-NEG,object:\[relation: TCXX~-I,object :BOOK-I\] \],..\]5CONCLUSIONThe rewriting formalism has been implemented inLISP by Martin Emele and the author at ATR in orderto develop transfer and generation models of dialoguesfor a machine translation prototype \[Emele and Zajac89\].
The two main characteristics of the formalism are(1) type inheritance which provides a clean way ofdefining classes and sub-classes of objects, (2) therewriting mechanism based on typed unification offeature structures which provide a powerful andsemantically clear means of specifying (and computing)relations between classes of objects.
This latex behavioris somehow similar to the PROLOG mechanism, andgrammars can be written to be reversible, which is thecase for our transfer grammar.
We hope this featurewill be useful in the future development of thegrammar, allowing for a precise constrastive analysisof Japanese and English.At present, he transfer grammar is in a very earlystage of development but nevertheless, capable oftranslating a few elementary sentences.
It covers basicsentence patterns; compound noun phrases andcoordination of noun phrases; verb phrases includingauxiliaries, medals and adverbs; sentence adverbials;conditionals.The transfer module and the generation module\[Emele 89\] use the same formalism and integration isthus simple to achieve.
As for efficiencyconsiderations, the transfer and generation of thesentence in Figure 2 takes approximately 5 seconds ona Symbolics with our current implementation.However, this figure is not very meaningful becauseour dictionaries and grammars are still very small, andthe implementution f the interpreter itself is stillevolving.Full integration with the analysis module (aunification-based parser which produces a set of featurestructures) remains to be worked out, but should notcause major problems.
In this respect, the closestrelated works are a transfer model proposed by \['Isabelleand Macklovitch 86\] and a model in the LFGframework proposed by \[Kudo and Nomura 86\] (seealso \[Beaven and Whitelock 88).There are two major topics for further research:I) the extension of the formalism to include fulllogical expressions, as described for example in\[Smolka 88\], and some kind of control mechanism inorder to treat default values and prune some solutions(when an idiomatic expression is found for example);(2) the development of a transfer grammar for a largerlanguage fragment, using outputs of the parser alreadyavailable described in \[Yoshimoto and Kogure 1988\].REFERENCESHassan AIT-KACI.
1984.
A Lattice TheoreticApproach to Computation Based on a Calculus ofPartially Ordered Type Structures.
Ph.D. Thesis,University of Pennsylvania.John L. BEAVEN and Pete WHITELOCK.
1988.Machine Translation Using Isomorphic UCGs.Proceedings ofCOLING-88, Budapest.Christian BOITET.
1988.
Pros and Cons of the Pivotand Transfer Approaches in Multilingual MachineTranslation.
Prec.
of the Intl.
Conf.
on NewDirections in Machine Translation, BSO, Budapest.Martin EMELE.
1989.
A Typed Feature StructureUnification-based Approach to Generation.Proceedings of the WGNLC of the IECE, OitaUniversity, Japan.Martin EMELE and R~mi ZAJAC.
1989.
RETIF: aRewriting System for Typed Feature Structures.ATR Technical Report TR-I-0071.Pierre ISABELLE and Eliot MACKLOVITCH.1986.
Transfer and MT Modularity.
Proceedings ofCOLING-86, Bonn.Kiyoshi KOGURE, Kei YOSHIMOTO, HitoshiI IDA, and Teruaki AIZAWA.
1988.
TheIntention Translation Method, A New MachineTranslation Method for Spoken Dialogues.Submitted for IJCAI-89, DctrOiLIkuo KUDO and Hirosato NOMURA.
1986.Lexical-Functional Transfer.
A Transfer Frameworkin a Machine Translation System based on LFG.Proceedings ofCOLING-86, Bonn.Masako KUME,  Gayle K. SATO and KeiYOSHIMOTO.
1988.
A Descriptive Framework forTranslating Speaker's Meaning.
Proceedings of the4th Conference ofACL-Europe, Manchester.Carl POLLARD and Ivan A.
SAG.
1987.Information-based Syntax and Semantics.
CSLI,Lecture Notes Number 13, Stanford.Gert SMOLKA.
1988.
A Feature Logic with Subsorts.LILOG-REPORT 33, IBM Deutschland GmbH,Stuttgart.Jun-Ichi TSUJII.
1987.
What is pivot?, Proceedingsof the 1st MT Summit, Hakone.Bernard VAUQUOIS.
1975.
La traduction automatiqued Grenoble.
Document de Lingnistique Quantitative29, Dunod, Paris.V.M.
YNVGE.
1957.
A Framework for SyntacticTranslation.
Mechanical Translation 4/3, 59-65.Kei YOSHIMOTO and Kiyoshi KOGURE.
1988.Japanese Sentence Analysis by means of PhraseStructure Grammar.
ATR Technical Report TR-I-0049.
