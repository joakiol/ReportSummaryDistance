The t reatment  of noun phrase queries in a natura l  languagedatabase  access sys temAlexandra  K le in  and Johannes  Mat iasek  and Hara ld  T ros tAustr ian Research Institute for Artificial Intell igenceSchottengasse 31010 ViennaAustr ia{alexandra, john ,harald}~ai.
univie, ac.
atAbst ractIn this paper, we are going to describe someaspects of the TAMIC-P system for German,which interprets natural-language queries todatabases in the social insurance domain.
Thesenatural anguage queries are complex NPs, con-sisting of clusters of NPs and PPs.
The parseruses information about co-occurence and domi-nation of linguistic elements as well as concepthierarchies in the domain to construct a parsetree and, subsequently, a derivation in quasi-logical form.
This derivation can be translatedinto a database access query.1 In t roduct ionSystems which map natural language queryphrases onto database access query statements,(Trost et al, 1987), (Androutsopoulos et al,1995), provide a natural communication envi-ronment.
Yet this means that they must be ableto handle vagueness, incompleteness or even un-grammaticality as these phenomena tend to beassociated with language use under specific ex-ternal constraints as e.g.
in situations con-cerned with database access.
In this paper, weare going to describe the natural anguage un-derstanding component of the TAMIC-P 1 sys-tem for German, which interprets natural an-guage queries addressing the databases of theAustrian social insurance institution for farmers(Sozialversicherungsanstalt der Bauern, SVB).The input queries are parsed and mapped ontoa representation i quasi-logical form whichserves as basis for the required database ac-cess.
Simultaneously, the queries are searchedfor domain-specific cue words which are part1Research in this project is funded by the Europeancommunit.y under contract no.
LE-4253.
Financial sup-port for OFAI is provided by the Austrian Federal Min-istry of Science and Transport.of a lexical knowledge base (cf.
e.g.
(Christ,1994)) This knowledge base is also accessiblefrom the user's query interface.
Additionally,many legal terms which occur in the queriesmay be linked to the underlying legal regula-tions.
These regulations are available in hyper-text format and allow for browsing via the userinterface.
Domain-specific help files will eventu-ally also be integrated in the data to be accessedvia the user interface.An evaluation of the user requirements in thisspecific natural anguage task yielded the resultthat the prospective users of the system, socialinsurance clerks at local information days, feelmost comfortable if they have the possibility toinput their queries as noun phrases.
For thenatural anguage query interpretation task, thisimplies that complex and heterogeneous nounphrases have to be interpreted adequately.In the following sections, we are going to de-scribe the general aim of the TAMIC-P system,the system scenario, the kind of input the sys-tem has to be able to deal with and the parsingprocess.
We will then give an outline of howsome complex queries are treated in parsing,and finally, we are going to conclude with obser-vations (including their implications for furtherwork) derived from the current system settingand its application in the process of parsing NPqueries in the TAMIC-P domain.2 The  TAMIC-P  sys tem for  Germanin the  Aust r ian  scenar ioThe TAMIC-P system is realized in collabora-tion with Italian and German 2project partners.2DFKI GmbH, Saarbr/icken, Germany, has con-tributed to the German language module and the asso-ciated knowledge sources.
The authors would thereforelike to thank Stephan Busemarm for his work in this area,particularly the development of the grammar.39It consists of two language components; one forItalian in the Italian scenario and one for Ger-man in the Austrian scenario.
While the inter-face structure (developed by the Italian part-ner) and the configuration of the main modulesare mostly identical in the two scenarios andwhile both applications aim at interpreting NPqueries, the two natural language componentsrepresent two distinct approaches to the queryinterpretation task.
In this paper, we will focuson the query interpretation module as well asthe required knowledge sources for dealing withGerman NPs.The scenario- and language-specific part ofthe system consists mainly of the actual pars-ing component, a lexical knowledge base (LKB)representing the entities denoted in the queriesand their relations to each other, the conceptualdata model (CDM) specifying which entities canbe found in the various databases, and the logi-cal data model (LDM) which approximates theactual data as they occur in the domain.I QUERY IQUERYINTERPRETATIONPERSONALRECORD MODELEGALNORMS MODELEXICALSTRUCTUREMODEfigl: Architecture of theinterpretat ion module for Germanqueries in the Austr ian scenarioThe parsing component and the knowledgesources are connected closely.
In order to con-struct a quasi-logical-form expression for a nat-ural language query encountered as system in-put, the parsing component has to consult therelations between the denoted entities as theyare represented in the database.
These relationsare modelled in the CDM, which is a unifiedand simplified version of the logical data modelrepresented in the database.
Yet it is not suf-ficient to construct he QLF representation: ascue words have to be identified in the queriesin order to present legal norms and domain-specific lexica\] relations, these contexts have tobe built and embedded in the framework of le-gal regulations and concept structures.
Conse-quently, there are three output modes (personalinformation, legal texts, legal lexicon) which arepresented on the interface as a card-index dis-play.
A fourth output mode (domain-specifichelp files) will eventually be added to the sys-tem.3 The  TAMIC-P  scenar ioQueries which have to be interpreted in theTAMIC-P domain concern all areas of social se-curity, i.e.
pension, health and accident insur-ance.
In order to provide the required informa-tion, several databases have to be consulted.
Associal insurance mployees in advisory dialogueshave to work under extreme cognitive pressuredue to limited time and other situational con-straints, it is the aim of the TAMIC-P project osimplify this advisory process by providing oneinterface for the various different tasks whichhave to be performed:?
consult citizen's insurance data in severaldatabases?
consult the relevant laws arid regulations?
consult a legal glossary for related termsand conceptsIn TAMIC-P, these tasks are based on the in-terpretation of natural anguage queries and theinteraction with the interface.
For the user, thisverbal and graphical interaction faciliates ob-taining the requested results from the databasesas well as the norms and the compilation of le-gal terms.
At the same time, clients using thesystem have to rely on great robustness in thequery interpretation task so that queries do notresult in the distribution of false, inadequate orincomplete information.4 The  corpusAs it has already been mentioned, queriesentered into TAMIC-P by SVB clerks concern40personal data as well as legal affairs.
A fairlytypical query would be for instanceErsatzzeiten wegen Kindererziehung'Exemption times because of child raising'At the present state of the system, thisquery has three dimensions with regard to itsinterpretation: First, it concerns the personalinsurance records stored for a specific persion(this person is determined by the context) whomay or may not have acquired the requestedtype of insurance months.
Second, it refers toa special official status of insurance monthswhich is defined in legal texts describing thebenefits which can be derived from differentkinds of insurance times.
Third, the query andits underlying concepts have to be comparedto related queries and concepts: I.e.
in awordnet-type structure, Ersatzzeiten ('exemp-tion times') is in this specific use synonymousto Ersat=monate ('exemption months') andbelongs to the category of Versicherungszeiten('insurance times').
Furthermore, there areseveral different types of specific 'exemptiontimes because of child raising' (e.g.
raisingadopted children, grandchildren etc.)
whichhave to be considered in an evaluation of theinsurance records, particularly if a citizenapplies for retirement pension.An evaluation of user queries has shownthat the SVB clerks were reluctant to formfull, grammatically elaborate sentences; in-stead, they preferred to rely on noun phrasesdenoting the requested concepts from the socialinsurance domain.
Regarding the example, thisdoes not come as a surprise as - apart from theadditional cognitive effort which is required inusing a complete sentence - using an NP seemsto be a natural way of including the three di-mensions of the specific personal informationfrom the insurance records, the legal norms, andthe lexical knowledge base in the noun phrasequoted above.
In contrast, three complete sen-tences have to be formed to refer to the samedimensions if noun phrases are avoided.
Thecorresponding English phrases for the Germanfull examples are:?
Which exemption times because of childraising are stored for Mrs/Mr x??
What are the legal regulations concerningexemption times because of child raising??
What are the relevant lezical properties as-sociated with exemption times because ofchild raising?Note that the second and the third exampleuse some kind of metalanguage to link 'exemp-tion times because of child raising' to the re-quired dimension.
In contrast o this, the nounphrase 'exemption times because of child rais-ing' needs no metalanguage und points ellipti-cally to all three dimensions.
Therefore, if onlynoun phrases are used, their inherent vaguenessand incompleteness at least provide means toconsult all the relavant information sources i-multaneously.For the NP analysis, this implies that mucheffort has to be invested in modelling theentities and relations denoted by the linguisti cexpressions, and certainly also the mappingbetween the linguistic and the conceptuallevels.
Tighly packed linguistic structuresrefer to complex conceptual structures.
Thedependencies in the conceptual model aremirrored in the linguistic expressions.
As weare dealing with noun phrase queries, it is notpossible to regard verbs as assigning the keystructural dependencies.
Yet it can be said thatcertain conceptually pivotal nouns 'subcatego-rize' (to use this term loosely for illustrationpurposes) for specific linguistic objects whichare determined by the underlying conceptualdata model as well as certain conventions ofuse.
These 'subcategorization relations' areoften confirmed by prepositions with weaksemantics:Ersatzzeiten wegen Kindererziehung'Exemption times because of  child raising.
'The function of the preposition is to indi-cate the relation.
In German, these types ofnoun phrase are often turned into a compoundwith the meaning remaining unchanged:Kinde rerziehu ngse rsa tzzeite n'child raising exemption times'These remarks already describe the NPtypology encountered in queries: complex NP41clusters, NP-PP clusters (with faded preposi-tional semantics) and complex compounds.
Ofcourse, any combinations of the three typesmay also occur.5 Pars ing  IWP quer ies5.1 Compos i t iona l i ty  andnon-compos i t iona l i tyGenerally, the parsing process in the TAMIC-P query interpretation component for the Aus-trian scenario relies strongly on the hypothesisthat the semantics of a phrase (represented forexample in quasi-logical form) can be derivedby composition of the QLFs of the parts thephrase is composed of.
This implies that linguis-tic paraphrases which denote the same object orset of objects have to eventually end up in iden-tical representations.
As we are dealing witha limited domain, which usually restricts thenumber of options available for interpretation,this approach is feasible.
"2ht so far, we have nopossibility of dealing with queries beyond thefield of social-insurance.
The domain also en-sues that the conceptual data model, represent-ing entities and relations in the actual database,often contains imple objects, attributes or at-tribute values which are referred to by complexquery elements on the natural-language level.In order to tackle this problem, a filter mecha-nism is used which?
treats all natural anguage utterances in acompositional manner, possibly involvingQLF prediates (originating from the lexi-con) that do not denote a CDM object and?
applies a set of substitutions to the QLFresulting from the parse that transform thecomplex description into the simplistic onecontained in the CDM.Since the number of such 'noncompositional'objects in the CDM is limited and their 'compo-sitional' meaning in terms of a QLF is unique,not very many substitution definitions are re-quired, and it is not difficult to come up withthem.
At the same time, we are aware ofthe fact that a larger domain might require abroader analysis approach (Rayner, 1993).5.2 Lexical resourcesAs far as lexical resources are concerned,the query interpretation module for Germanuses two resources of lexical data: a smallmorphological lexicon, which can be employedfor morphological nnotation, and a repositoryof semantic and 'subcategorhation' informationincluded in the lexical knowledge base (LKB).In the LKB, each entry represented as a synsetin a wordnet-style structure contains slots forsynonyms, hyponyms and hypernyms, as wellas a specification of the quasi-logical form as itcan be derived from the conceptual data model.Returning to the example of Ersatzzeit wegenKindererziehtmg ('exemption time becauseof child raising'), from the LKB we obtainbasically the following structure:ERSATZZEIT WEGEN KINDERERZIEHUNGCATEGORY: n-fillerSYNONYMS: Ersatzmonat wegenKindererziehungHYPERNYMS: Ersatzzeit, KindererziehungHYPONYMS:QUASI-LOGICAL FORM: :ARG (BEITRAG ?X),:RESTR (HAS-QUAL ?X <K>), :VAR (?X)DESCRIPTION: Typ yon Ersatzzeit, deraufgrund yon Kindererziehungszei=enangerechnet werden kannCATEGORY indicates whether we are deal-ing with an object, an attribute or an attributevalue ('n-filler' indicates that this is an at-tribute value).
SYNONYMS, HYPERNYMS andHYPONYMS each list related lexical conceptsaccording to the conceptual data model.
TheQUASI-LOGICAL FORM describes the combi-nation of the elements which are needed formapping the query representation onto theappropriate database access statement, andDESCRIPTION documents a legal explanation ofthe term.5.3 The  parserThe parser uses the information stored in thelexical resources for assigning a structure tothe linguistic expression.
This information ismatched and combined according to grammat-ical knowledge (encoded in the grammar andthe morphological lexicon) as well as domainknowledge inherent in the lexical knowledgebase.
From the parser's point of view, it isdesirable to obtain a single feature structurecontaining both subcategorization information42and logical form from the lexicon lookup.How semantic information has to be combinedduring parsing may not only depend on theQLFs in the CDM for the signs to be combined,but also on lexical features of the head and thesyntactic role that is filled by the argument (ormodifier).
In the sentenceJohn beats Paulfor example, the meaning depends cru-cially on whether John or Paul fills thesubject slot.
Although these differences occurmuch more frequently with verbs, which arerather irrelevant in the TAMIC-P corpus, thisbehaviour can also be observed with nouns.Therefore, the following decisions for the en-coding of semantic and subcategorization infor-mation have been taken:1.
All substantive categories (nouns, adjec-tives, verbs) provide subcategorization in-formation for both arguments and modi-fiers they may take (modifiers/adjuncts areviewed as kind of optional arguments).2.
For each element subcategorized for, syn-tactic and semantic information is pro-vided, restricting the possible fillers.3.
In order to explicitly specify the semanticrelationship of the head and the argumentin the CDM, 'glue' predicates may be spec-ified which bind the quasi-logical forms ofthe head and the argument.5.4 GrammarBased on the analysis of a small corpus, gram-matical rules were derived.
At this point, thegrammar consists of 9 context-free rules.
Theycover to whole range of queries Which have beenencountered so far.
In the first version, com-plex prenominal modifiers and relative clausesare not implemented, but the corpus suggeststhat these are added benefits rather than ur-gent needs.For the expression Ersatzzeit wegen Kinder-erziehung, we use the following rules:GRAMMAR FRAGMENT:TOP -> DerP AP N NP PP*NP -> NPi NargNPI -> DeZP A* NPP -> P NPCategories in curly brackets are optional.The asterisk represents the Kleene star.
Un-derlined categories are heads.
PP can be atemporal modifier.
DetP can be a complexdeterminer, corresponding e.g.
to between threeand six , up to five, more than sis, at mostthree, or a simple article like the or a. Lexicalcategories other than determiners include N,A, P.The derivation with the above grammarfragment is as follows:Ersatzzeiten wegen Kindererziehung'Exemption times because of child raising'DERIVATION:TOP(NP (NPI (N (Ersatzzeiten))),PP (P (wegen), NP (NP1 (NKindererziehung))))Lookup in the LKB resulted in a struc-ture which has already been described in theprevious chapter:EKSATZZEIT WEGEN KINDEREKZIEHUNGCATEGORY: n-fillerSYNONYMS: Ersatzmona~ wegenKindererziehungHYPERNYMS: Ersatzzeit, KindererziehungHYPONYMS:QUASI-LOGICAL FORM: :AKG (BEITKAG ?X),:RESTK (HAS-QUAL ?X <K>), :VAR (TX)DESCKIPTION: Typ yon Ersatzzeit, deraufgrund von Kindererziehungszeitenangerechnet werden kannBy combining the grammar rules with theinformation from the LKB as well as the CDM,we obtain the following result:RESULT OF PARSING (QLF):((:ARG (CDM::BEITKAG ?FS18561)) (:VAK?FS18561) (:SEL)(:KESTK (CDM::BEITRAGQUAL ?FS1856143?FS18379) (QUAL-VALUE ?FS18379)(IN ?FS18379 (43E3))(CDM::PERSONIONTEXT ?FS18561?FS19601)))During the parsing process, it was cor-rectly recognized that the query concerns atype of BEITRAG ('contribution'), with a certainqualification associated with the contribu-tion.
The codes 43 and E3 indicate whichcategories are assigned to the qualifications ofthe contributions in the database.
From theparser output, a database access query canbe constructed, which retrieves the requiredelement from the person's insurance records inthe database.
The person is identified in thequasi-logical form with the PERSON_KONTEXTpredicate.6 Dea l ing  w i th  complex  quer ies  inpars ingOne example for a more complex query is thephraseKindererziehungszeiten der Person mit derVersicherungsnummer 1001050610'child raising times of the person with socialinsurance number 1001050610'This query is asking more generally forany insurance times associated with childraising.
In the Austrian social insurancesystem, citizens are often identified by theirinsurance number, as it is the case in thisquery.
The syntactic analysis according to thegrammar yields the following derivation wherethe social insurance number has been omittedfor simplification:DERIVATION:TOP(NP (NPi (N Kindererziehungszeiten))),(NP (NPI (DetP der), (N Person)),(PP (P mit), NP (NPI (DetP der), (NVersicherungsnummer ...))))The parser uses co-occurence rules to grasp thephenomenon of nominal 'subcategorization'.In the example cited above, there is an entrywhich specifies that 'insurance number' tendsto occur (sometimes connected by yon, 'of')with a 'person' who has an insurance numberand with the actual 'number'.
The SUBCATentry looks as follows:SUBCAT :(def_subcat (cdm::PERSONVSNR ?x ?y)((:syn ((car (np pp)) (prep .
"von")) :sem (cdm::PERSON ?x))(:syn ((cat (cardinal string)))(= ?y ?z)))):semThese pieces of information are used tobuild up the parse tree:TOPITOP-DETITOP+3PPITOP+2PPITOPiPP ~QUERYHEAD NPI ANX DET NP-DETI I IKindererzlehungszeiten der NP-ADJANOUN XPI IPerson PPmit Versicherungsnummer ...fig2: (Simplified) parse treeThis parse tree is then mapped onto the?
quasi-logical form:RESULT OF PARSING (QLF):44((:ARG (CDM::BEITRAG ?FS18561)) (:VAR7FS18561) (:SEL)(:RESTR (CDM::BEITRAGQUAL ?FS18561?FSi8379) (QUAL-VALUE ?FSI83Z9)(IN ?FS18379 (43 51 87 A8 A9 El E3 E5E6 E7 E8 E9))(CDM::PERSON ?FS19601) (CDM::PERSSNVSNR?FS19601 ?FS18419)(= ?FS18419 "1001050610")(CDM::PERSON_KONTEXT 7FS18561?FS19601)))As Kindererziehungszeiten s a hypernym forErsatzzeiten, there are more different ypes ofqualification available.The compositional aspect of this approachalso allows the analysis of phrases likeKinderer.dehungszeiten der Person mit tierVersicherungsnummer 1001050610 nach 1940('child raising times of the person with insur-ance number 1001050610 after 1940'), Kinder-erziehungszeiten der Person mit dem Nachna-men Huber nach 1940 ('child raising times ofperson with last name Huber after 1940') etc.The analyses for these complex phrases are car-ried out in the same manner as for the simplerexample described above.7 Conc lus ion  and  fur ther  workSo far, this approach seems to work efficiently inthe limited domain of social insurance informa-tion.
The integrated treatment of NP 'subcat-egorization' allows for an analysis of syntacticattachment as well as the interpretation of se-mantic structure.
The mapping of parse treesonto quasi-logical form also combines yntac-tic and semantic representation.
This way, in-formation eeded for constructing the databaseaccess query does not get lost in the analysisprocess.
The analysis also provides informationwhich can be used in determining the appropri-ate legal norms and the concept hierarchy as itis represented in the LKB.As it was mentioned above, a problem whichhas not yet been tackled is the treatment ofqueries from outside the domain.
As the usersof the system are insurance clerks, they tend tobe very cooperative.
Therefore we have not en-countered uncooperative b haviour in our userstudies.
Within the actual domain, work oncovering the whole range of user queries is beingcarried out.
There are some possible types of ex-tremely complex relations for farmers cultivat-ing property owned by someone lse.
These re-lationships have be be modelled in the databasefor the computation of social insurance contri-butions and may lead to complex queries.
Addi-tionally, it would be useful to include an analysisof compounds, which - as it is well-known - canbe rather complex in German.
From the evalua-tion of these types of possible queries, however,we have gained the impression that they canbe fully analyzed in the compositional pproachdescribed in this paper.Re ferencesIon Androutsopoulos, Graeme D. Ritchie, andPeter Thanisch.
1995.
Natural Language In-terfaces to Databases - An Introduction.
Nat-ural Language Engineering, i(1):29-81.
DAIRP-709.Oliver Christ.
1994.
A Modular and FlexibleArchitecture for an Integrated Corpus QuerySystem.
In COMPLEX'94.Manny Rayner.
1993.
Abductive EquivalentialTranslation and its Application to NaturalLanguage Database Interfacing.
Ph.D. thesis,University of Stockholm.Harald Trost, Ernst Buchberger, WolfgangHeinz, Christian Hoertnagel, and JohannesMatiasek.
1987.
'Datenbank-DIALOG'a German language interface for relationaldatabases.
Applied Artificial Intelligence,1(2):181-203.45
