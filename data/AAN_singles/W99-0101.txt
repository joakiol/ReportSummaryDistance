,O@OOOOO@OOOOOOOO@OOO@OOOOOOO@OOOOOOOOOOAn Integrated Approach to Reference and PresuppositionReso lu t ionRober t  T. Kasper ,  Pau l  C. Davis~ and Cra ige  Rober tsDepartment of LinguisticsOhio State University222 Oxley Hall1712 Neil AvenueColumbus, OH 43210"e-mail: (kasper~ pcdavis, croberts}@ling.ohio-state.eduAbstractWe describe an approach to resolving definite de-scriptious and pronominal anaphora s subcases ofa general strategy for presupposition satisfaction.Generally, apresupposition is satisfied in a contextif the context contains aspecific type of informationand is organized in such a way that this informationcan be retrieved by the interlocutors.
The modelof discourse context we develop assumes that dis-course structure is organized around astack of ques-tions under discussion, which plays a crucial role innarrowing the search for referents and other presup-posed information.
The algerithmA for maintainingthe discourse structures and retrieving presupposedinformation are presented and illustrated by severalexample dialogues in which human users interactwith an agent omake hotel reservatious.I In t roduct ion"Any theory of referring expressions must take intoaccount the discourse context in which they ot~ur.Indeed, previous research as shown that the hier-archical organization of discourse is fundamentallyrelated to the rderence resolution process.
In thispaper, we show how a highly structured discoursemodel, in conjunction with a treatment ofreferringexpressions as presuppmitional, enables us to de-velop a common strategy for z~olving a number ofreference resolution problems, such as pronominalanaphora nd definite descriptions.
We also out-line how this approach extends to a larger group ofphenomena which we take to be presuppositional,.including domain restriction, ellipsis, and lexicallyand syntactically triggered presuppositions.
All ofthese constructions are presuppositional in a broadsense, in that their use assumes that certain infor-marion can be retrieved from the discourse context.RecoL, nlzing the structure of the discourse will there-fore play a crucial role in narrowing the searchfor referents and other presupposed information.We will illustrate our approach with four examplehuman-computer dialogues, hown below.
SYS in-dicates the utterances spoken by the computer sys-tem.Example I illustrates a case of pronominalanaphora resolution (it in (8)), in which recowniT.ingthe hierarchical structure of the discourse is crucialfor identifying the antecedent, which was introducedmany utterances earlier.
The overall topic of theconversation is the question of where the usercan find a hotel for June 15th in New York, andth|8 snper-question both facilitates and constrainsthe intexpretafion of fl in (8).
This example issimilar to the well-known examples of long-distanceanaphora in task-oriented dialogues described byGrosz (1981).
Our approach is consistent with pre-vious research that uses the intentional structure ofdiscourse to determine a set of potential antecedentsfor pronominal  anaphora.
The following exampleswill illustrate how a broader ange of referenceand presuppositional constructions may also beaddressed by using the discourse structure to guidethe search for relevant information.Example L1) USER: rm lookln~ for a hotel for June lSth inNew York.2) SYS: What part of the city would you prefer?3) USEI~ Manhattan, ear Central Park.4) SYS: How many nights?5) USF~ Just 1.6) SYS: Will anyone be traveling with you?7) USEI~ No.8) USEP~ Oh, I want it to have a swimming pooltoo."
Paul C. Davis is the recipient et ~ a Motorola Partnemhipein Research Grant.Example II shows a definite description, thehotel in (7), whose referent can only be uniquelydetermined with respect o the indefinite hotel de-scription (a hotel close to Madison Square Garden)in the question under discussion (1):Example II.1) USER: I want to make a reservation at a hotelclose to Madison Square Garden.2 )  SYS: What dates will the reservation be for?3) USER: March 3rd and 4th.4) SYS: Wouldyou like a single room?5) USER: Yes.6) USER: Also, I'll need a conference room onthe 4th.7) USER: I'd prefer it if the hotel had one.Example HI involves a contextually determineddomain restriction, with a quantificationai deter-miner every, innstrating that domain restrictionmust be handled in a ~imilar way for a broaderclass of expressions than those which are normallyregarded as rderring expr_~-_qjons or presuppositiontriggers.Example HI.
"I) USEI~ Does the Holiday Inn have any vacan-cies fora) Tuesday, 12/4- Friday 12/7?b) Thursday, 12/6 - Saturday 12/872) SYS: Yes, several.3) USER: Do they have a breakfast buffetevery mor~;=g?
4) SYS:a) Yes, Monday through Friday.b)  No.
There's a breakfast buffet MondaythroughFriday, but none on Saturday.Finally, in example IV we give a glimpse intoour larger research program, where an ellipticalquestion (3) must be resolved with respect o thequestion under discussion, in addition to estab-lishing the reference of the deflm'te description theMarrio~ where the context might contain morethan one hotel with that name~E~-mple IV.I) USER: Which hotels near the airport havevacancies?2) SYS: The Holiday Inn and Sheraton havevacancies.3) USER: How about the Marriott74) SYS: No, the airport Marriott doesn't have anyvacancies.The remainder of the paper is organized as follows.In section 2 we discuss our assumptions about thestructure Of discourse and the related backgroundliterature.
In section 3, we present algorithms whichwe have developed in a partially completed imple-mentation of a natural language dialogue systemwhere users interact with an automated hotel reser-vation booking system.
In section 4, we discuss theuse of the algorithms and discourse structures toresolve the reference and presupposition problemsshown in the above examples.
In the final section,we highlight he contributions of our approach anddiscuss future plans related to this research.2 Background: Discourse StructureWe assume the general theoretical framework ofRoberts (1996), where discourse is formally charac-terized as a game of intentional inquiry.
As in Grosz& Sidner (1986), discourse is organized by the in-terlocutors' goals and intentions and the plans, orstrategies, which conversational participants developto achieve them.
Following Stalnaker (1979), the pri-mary goal of the language game is communal inquiry,i.e., interlocutors attempting to share informationabout heir world, with the repository of that sharedinformation characterized asthe interlocutors' com-mon groun~ CG.
The set of acceptable moves in thegame are defined by the (conventional nd conver-sational) rules of the game, and are classified on thebasis of their relatio_n~blp to the goals.
Ignoring im-peratives, there are two main types of moves (seealso Carlson 1983): questions and assertions.
If aquestion is accepted by the interlocutors, this com-mits them to a common dis(x)ur~ goal, l~lding a sat-isfactory (asserted) answer; like the commitment toa goal in Planning Theory, thiA strong commitmentpersists until the goal is satJ'~ed or else shown to beunsatisfi~le.
The accepted question becomes theimmediate topic of discussion, the quest/on underdiscussion.
An assertion is a move which proposesan addition of information to the CG.Roberts defines the structure of a discourse ata given point, its Information Structure, as a tu-pie which includes (among other things) the orderedset of moves in the discourse (M), CG, and the setof the questions currently under discussion at thatpoint (QUD).
The QUD is ordered by order of ute?
terance and is updated in a stack-!i!~ f~b!on, I withquestions popped when they are answered (or de-f.-mined to be practically unanswerable).
The or-dered set of questions under disc~-_~f~on correspondsto the hierarchical intentional structure of the dis-course.
The QUD in this structure constitutes theset of d/sco,rse goa/s of the interlocutors; the dis.course goals are only a subset of the set of common.goals of the interlocutors, their domain goals, and1 However, all elements ofthe QUD list are accessible dur.ing the interpretation f an utterance.
Only the top elementis wr/table, but any entry is readable.2@000O0O00000@0@0@000@0000O000000000the discourse goals ar e subordinate to, and subservethe domain goals.
Hence, the requirement that in-terlocutors stick to the question under discussion isjust an instance of the more general commitmentto plans; and in turn, in a fully integrated theorywe would expect hat domain goals and plans wouldinfluence interpretation as directly as the discoursegoals represented by the questions under discussion.Any move in a discourse game is interpreted withrespect to the Information Structure of the discourseat that point.
There are two main aspects to theinterpretation of any given move: its presupposedcontent and its proffered content, the latter includ-ing what is asserted in an assertion and the non-presupposed content of questions and commands.When an utterance presupposes a proposition p,then in order for the utterance to be felicitous in thecontext, p must be entailed by the CG (Staluaker1979).
But in addition, any move in a discourseis interpreted by interlocutors under the Griceanmet, a-presupposition f Relevance, with Relevanceformally defined as follows in Roberts' framework:(1) A move m is Relevant o the question underdiscussion q iff (i) m is an assertion such thatCGU{m} entails a partial answer to q, or (ii) mis a question whose complete answer contextu-ally entails a partial answex to q.
(10)) tells us that the interpretation of an as-sertion will be constrained so as to yield a partialanswer (possibly via contextual entailment) o thequestion under discussion.
(l(ii)) tells us that theQ UD in a felicitous Information Structure is con-strained by Relevance so that each question on theQUD must address the (prior) question below it onthe stack.
Of course, (1) correctly predicts a vari-ety of classical Gricean conversational implicatures,now characterizable as contextual entailments.
ButRoberts argues that Relevance is also crucial in pre-supposition resolution, broadly construed to includeanaphora resolution, the interpretation of ellipsis,and domain restriction (Roberts 1995), as well aslexically and syntactically triggered presuppositions.We will also assume the general approach toanaphora resolution argued for in Roberts (1999).The CG is augmented with.a set of discourse refer-ents familiar to the interlocutors, the Domain of thediscourse context.
All definite NPs, including pro-nouns and demonstratives as well as definite descrip-tions using the, presuppose both weak \[amiliariQIand informational uniqueness.
Weak famifiarity (cf.the slightly different notion of familiarity in H_m'~1982) is the theoretical realization of anaphoricity,and is licensed by existential entailments ofthe com-mon ground, not requiring an explicit NP antecedentor even perceptual salience of the intended referent:(2) Weak Familiarity: A discourse referent i i sweakly familiar in a context C (i E Domain(C)and C encodes the information that i has prop-erties Pi .
.
.
.
, Pk) iff the Common Ground of Centails the existence of an entity with propertiesP~, .
.
.
, Pk.Informational uniqueness only requires that thediscourse referent which satisfies the defmite's famil-iarity presupposition be unique among the discoursereferents in the context in satisfying the definite'sdescriptive content.
These two constraints sufllce tocharacterize the presuppositional content of definitedescriptions:(3) Presupposit ions of  Definite Descriptions(informal): Given a context C, use of a definitedescription NPi presupposes that there is a dis-course referent weakly familiar in C which is theunique weakly familiar discourse referent whichsatisfies the (possibly contextually restricted)descriptive content of NP/.Unlike Russell's (1905) theory, this does not gen-erady entail semantic uniqueness, although in cer-tain special contexts it will yield the same effect viapragmatic means.
Definite descriptions may havetheir descriptive content contextually enriched in thesame way that domain restriction works for oper-ators generally, i.e., via Relevance to the questionunder discussion.
This will be illustrated in our dis-cussion of example 4below.
Many apparent counter-examples to the presupposition f uniqueness for def-inite descriptions are solved by appeal to this prin-cipled contextual enric\]~ment, as discussed at lengthin Roberts (1999).
Pronouns carry an additionalpresuppomtion f maxima\] salience:(4) Presupposit ions o f  Pronmmm (informal):Given a context C, use of a pronoun Pros pre-suplz3ses that there is a discourse referent i inC which is the unique weakly familiar discoursereferent that is both maximally salient and sat-isfies the descriptive content suggested by theperson, number and gender of Proi.This amounts to an additional, conventional re-striction on the search space for pronominal an-tecedents, implemented along the general lines sug-gested by Grosz & Sidner, and explains the differ-ential distribution of pronouns and definite descrip-tions.
We will discuss how m~-~dmal s lience is im-plemented in terms of the QUD stack in ?4.
Thesepresuppositional constraints result in a straightfor-ward theory of anaphoric reference which explains abroad range of data and can be extended to a treat-ment of demonstrative NTs as definites, as well.- 3process_utterance (U)"/:1:1.
1.
Determine contextual ly  in terpreted meaning.ULF = parse(U)(CULF, CDRS) = determine.L'ULF(ULF, Level)7.Y.~ 2.
Update discourse s t ructures .I f  presupposi t ions remain,attempt o accommodate hem by adding information from system database to  CG.I f  accommodation fa i l s  (sys?em has no information or system informat ion i sincons is tent  g i th  CG), indicate non-acceptance of move.I f  U is  an asser t ion:assert CULF to  CG,update QDL of C~D\[top\] (i.e., merge CDRS into CDRS of QDL)If U is a question:push new QDL entry <ULF, CULF, CDRS> onto QUD~7, 3.
Call back-end appl icat$on.Perform SYSTEM act ion (e .g .
,  query or update database)Perform SYSTEM dialogue move i f  necessary (e. g .
,  generate a response)OOOOOOOOOOOO@OOOOdetermine~lLF (U, Level)i f  atomic_formula(U) 7, contains no presuppos i t ional  operatorsre~urn (U, {})e lse (U must contain an operator)return resolve_term(U, Level ?
1)Figure 1: Presupposition resolution algorithm3 Reso lu t ion  A lgor i thmsIn Figures I, 2, and 3 (shown later in ?4.4), weshow simp/ified, pseudo-coded versions of the al-gorithm~ which drive the presupposition resolutionprocess.
Of central importance in this process isthe maintenance of the QUD stack.
Each entry onthe stack is represented by a Question Data Log(QDL), an ordered triple which contains the utter-ance's logical form (ULF), its Contextually Under-stood LF (CULF), and a set of current discoursereferents (CDRS).
QDL entries represent i~orma-tion about units of discourse structure which roughlycorrespond to the discourse segments developed byGrosz and Siduer.Process.utterance is the top-level function in-yoked for each discourse utterance.
The utteranceis parsed to yield a logical form representing itscontext-independent meaning (ULF).
This ULF isfurther processed by det~e-CULF ,  the.
goal ofwhich is to produce a refined logical form (CULF)and a set of discourse referents (CDRS) by.resolv-ing presuppositions with respect o the current con~text.
Presuppositions are represented in the logicalform by certain operators~ including def ,  pronoun,(for wh-questions), and WH.EllJ.peis.
The termsintroduced by these operators, as., well as othergeneral i~ quantifier terms, are processed by theresolve_~erm function (see Figure 2).
The set ofpresuppesitional operators listed in this algorithmcovers the exmnples tlmt we will discuss, but is notintended to be exhaustive.
After resolve_term hasprocessed a presuppositional term, the variable thatit binds will appear on the CDRS list, and will ei-ther be identified with a set of referents from thecommon ground or be tmanchored (indicated by theempty set or '?').
Once the CULF and CDRS aredetermined, the discourse structures, including theCG and QUD, are updated, depending.on the type ofconversational move (i.e., assertion or question).
Af-ter the dialogue model has been updated, the CULFis sent to the back-end application (e.g., to query orupdate its database), and the system may generateutterances as need~LThe algorith _,~ presented here have been hnple-mented in Common Lisp, using the Loom knowl-edge representation framework (MacGregor (1991))to maintain the common ground and backgroundknowledge of the hotel application domain.
Sev-eral components, e.g., the emtchtsubst i tu te  andadd_domain.resCriction functions, have not yetbeen implemented in a fully general way, and cur-rently handle only simplified cases.
The e~amp\]esdiscussed in the next section demonstrate how ther~olution procedure works.4OOOOOeOOOOOOOOOOOOresolve_term(Term, Level) .Let OP = top- level  operator of TermVAR = top- leve l  var iable of TermRESTR = top- level  res t r i c t ion  of TermNS = top- leve l  nuclear scope of Term~ Process embedded formulas ins ide-out(RESTR1, CDRS.R) = determine_CULF(RESTR, Level)(NS1, CDRSJS) = determine_CULF(NS, Level)i f  OP i s  a non-presupposttional operator: -.-DomainRestr = add_domain_restriction(VAR, RESTR1, QUD)return (OP\[VAR,DomainRestr,NS1\], CDRS.R U CDRS.NS)else (handle according to OP type)case OP=pronoun: ~ must be anaphoric referenceRANKEDJIEFERENTS = r~-k~ccessible.referents(QUO, RESTR1)REFERENT3ET=mmx4mAI.elements(RANKEDJIEFERENTS)I f  sinKleton(REFERENT.SEr),~assume REFERENT.SET= {INST}, subst i tu te  INSTfor VAR in NS1reEurn(NSI\[VAR->INST\], {(VARREFERENT.SET)} U CDRS.NS)?
else report no sa l ient  re ferents  or fa i lu re  of Uniqueness presupposit ioncase OP=def: Z possible anaphoric referenceREFERF2tT~'ET = all_accesstble~eferents(QUD, RESTRI)I f  singleton(REPEBENT.qET),return(NSI\[VAR->INST\], {(VAR~.SL~r)}U CDRS_NS)else i f  I~_SL~\ [  > 1,repor?
fa i lu re  of uniqueness presupposit ionelse Z no sa l ient  antecedent, re t r ieve  re ferent  from common groundDomatnRestr : add.domaiu.restrictton(VAR, P~..~I'R1, QUD)REPERENT.qET : retrieve_referents(VAR, DomainRestr, CG)I f  singleton(REFERENT.SET),return (0P\[VL~,DomaLuRestr,NS1\], {(VAR REFE:RFJ~_qL~I')} U CDRS?
U CDRSJ~S)else i f  laUEaE~r.S~I > I ,report fa i lu re  of uniqueness presupposit ionelse ~ attempt ?o acco,-,odate la terreturn (OP\[VAR,DomainRestr,NS1\], {(VAR {})} U CDRS.RU CDRSJ/S)case ~:DomLinRestr - add.domatn_restriction(VAR, RESTR1, QUD)case non-top- levelORnon-question: X non-prasupposRionalreturn (OP\[VAR,DomdnRestr,NS1\], CDRS.RU CDRS_NS)case eh-question: ~presupposes some object sa t i s f ies  DomatnRestr~-qET  = retrieve_referents(VAR, DomatnRestr, CG)return (OP\[VAR,DomainRestr,NS1\], {(Vat REFEREMT-qET)} U CDRS.R U CDRS_NS)case polar-question:return (OP\[VAR,DoBainRestr,NS1\], CDRS_NS)case WHll ltpsis:resolveJ~H_Ellipsis(Term, Level)shown in Figure 3Figure 2: resolve_term a/gorithm.
, L4 Discussion of ExamplesIn this section, we discuss the examples given inthe introducti6h, and highlight how the presuppo-sition resolution algorithms can be used to resolvepronouns, definites, and quantifiers in general (i.e.,reference related presuppositions, under our view)as well as other presuppositional phenomena, suchas elliptical questions.
2 We illustrate the crucialchanges which take place to the QUD data struc-tures, allowing effective resolution of referents andpresuppositions.While the Utterance LF (ULF) describes only theliteral content of an utterance, the CULF, along withthe CDRS, can be thought of as a record of whatthe utterance r ally means, in the context in whichit is said.
For example, the following (ULF, CULF,CDRS) triple illustrates the QDL structure that re-suits from question (2) of Example II (What dateswill the resereation be for.~:(A\[z, date(z), d~/\[I/, reserv,ztion(y),/or.time(y, z)\]\],Air, date(z),def\[y, re,ervat/on(y) A3\[z, hotd(z) ^  r~.ar(z, ~SG), atJoc(zl, z)\],fo~+me(m =)\]\],{(x:,hte ?)(y.
'mm-mtion ?
)})Each disc?urse referent in the set of CDRS isshown in the form (var iable:type insCance).One fact to keep in mind when viewing the examplesis that questions always produce a new QDL entry?
on top of the QUD stack, and therefore a new CULFand CDRS, while answers may update the CDRS ofthe current entry on top of the QUD stack, but neverproduce a new one.4.1 Pronomhm!
Anaphora: Example IWe will focus on the resolution of the pronoun itin the final utterance (8).
We claim that at anytime there is a set of accessible entities in the dis-course, and when a pronoun is used in a discoursefelicitously (i.e., as constrained by Relevance), thereneeds to be a unique maximally salient discourse ref-erent for the pronoun belonging to this set of acces-sible entities.
Under our approach; the set of ac-cessibh entities is represented by the union of theCDRS sets of all entries on the QUD stack.
Salienceis a partial ordering on this set determined primarilyby two factors.
First, the members of the CDRS of" each entry on the QUD stack are more salient thanthose for all entries below it on the stacL Second,the relative salience of discourse referents within theCDRS of a single QDL entry is determined by localconstraints, uch as those given by centering theory(cf.
Grosz, et.al.
(1995)), or the theory of focusing~The careful reader will note that these dialogues con-taln additional reference r solution problems, uch as one-anaphora (example II) and a nonplural ntecedent forthe~/(example III), etc., not discussed here for brevity.developed by Suri and McCoy (1994).
Our overallapproach could be adapted to use any theory of localcoherence to determine a partial ordering over theCDRS within a discourse segment corresponding toa single QUD,  but it is similar to Suri and McCoy'sapproach in allowing the CDRS of prior questionsto be stacked.
Further explanation of how center-ing constraints can be integrated with our approachis given by Roberts (1998).
In our implementa-tion of pronoun resolution (see Figure 2), the func-tion r=-lr .accessible_referents gives the partialordering of the accessible entities from the QUD, fil-tering out all entities that are incompatible with theagreement features of the pronoun, which are rep-resented in the restriction component of a pronounterm.In processing this dialogue, the system treats (I)as a question (requests and statements ofneed anddesire should be coerced to questions), and produces(CDRS I), which is the set of discourse referentsmentioned in sentence (1).
(CDRS 1){(x:person user)(y:hotel ?
)(z:date D1)(w~.city NYC)}As the system attempts to find out more specific in-formation (imagine that it is filling out a template),it asks subquestions, such as (2), (4), and (6).
Aftereach subquestion, a new entry is added on top of theQUD stack, and therefore a new CDRS as well, e.g.,the set of discourse referents in the top QUD entryaRer (2) is (CDRS 2).
(CDRS 2) ((w:city NYC)(x:area ?
)(y.-perso n nser)}When a subquestion is answered, as in (3), theCDRS of the current QUD is updated, e.g., the ref-erent (x:area ?)
becomes (x:area Manhattan), anda new referent introduced in the answer is added:(z:area CentralPark).
However, once a questionis completely answered it is popped off the stack.Thus, after (3) is completely processed as an answerto (2), the stack is popped, and subquestious arealso popped after processing (5) and (7).
Therefore,when we arrive at (8), the QUD stack is just as it wasaRer (I), since all of the intervening subquestionshave been popped.
This approach accounts for theobservation ~ more recently mentioned entities,such as Manhattan or Centre/Park, are less likely asantecedents for/t  than those from (CDRS 1), whichare closer in terms of hierarchical discourse struc-ture.In order to determine the antecedent for it,r~-k~ccess ib le .
re ferents  only has to consider(CDRS I), returning a subset from which (x:personuser) is removed, because a person, being animate,does not match the restrictions of /L Thus,  thesearch for possible antecedents has been significantiy000OO00@@@00OO@0O000O6OOOO@OOO@OO@OOO@OO@OOOOOOO@0constrained by using the CDRS associated with theQUD.
Among the remaining .elements, the mostlikely antecedent is (y:hotel ?
), which we call anunanchored iscourse referent, since it is not yetbound to an actual instance of a hotel.
This mightbe ranked highest by some versions of centering the-ory, because it is a direct complement of the verb,while the other referents were introduced by adjunctphrases (for June 15th and in New York).
In general,however, pragmatic plausibility must be consideredas an additional filter when determining whether acandidate is a potential antecedent.
For example,(z:date D1) can be ruled out because it is not plau-sible for dates to have swirpmlng pOOlS.4.2 Definite Descriptions: Examples I I - IVAlthough definite descriptions can often be identi-fied with antecedents from the CDRS in essentiallythe same way as pronouns (since the set of CDRS isa subset of the CG Domain), they are not requiredto corder with a maximally salient discourse refer-ent.
Therefore, our algOrithm specifies three waysfor a definite reference to be resolved.
First, we checkwhether the CDRS accessible on the QUD stack con-rains a unique element that matches the restrictionof thedefinite operator.
Second, if there is no salientantecedent ofthe appropriate type, then we attemptto find a unique entity in the CG which satisfies therestriction.
Third, if this fails, we use acco_m_moda-tion where possible to introduce an entity from theapplication's databs-qe into the CG.In example II, we focus on the resolution of thehotel in sentence (7).
We first look for an appropri-ate antecedent in the CDRS ac _ce_~J'___'ble on the QUDstack, as in our treatment of pronominal anaphora,so we need to trace the stack for this dialogue.
A re-quest is made by the user in (1), followed by a seriesof specific questions generated by the system.
TheQUD after (1) has the following CDRS:(CDRS 1) ((x.person user) ~ o n  ?
)(,:hotel ?)
(w~.place MSG)}Subquestious are asked in (2) and (4) and an-swered in (3) and (5), respectively, so the QUD stackis pushed and popped, but at (6), it is at the samestate as it was after (1}.
(6) is interpreted as a re-quest, so a new entry with (CDP~ 6) is pushed ontothe QUD on top of the QDL for (1).
(cvRs  e} '{(x:pe~son user) (v:conf-room ?)
(u:date D4)}In order to interpret the d~finlte descriptionanaphorically, we search for discourse referentswhose type satisfiesthe xplicit hotel restrictionwithin the set of all accessible CDRS, viz., the unionof CDRS 6 and CDRS 1.
Since this set contains ex-actly one referent (z) which matches the hotel type,the uniqueness presupposition is satisfied" and z isselected from CDRS 1 as the antecedent.It is also possible for a definite description tohave no explicit antecedent, as in the Marriottin sentence (3) of example IV.
In such cases,an empty set of referents will be retttrned byall_accessible-referents, and our algorithm willattempt to retrieve a referent from the commonground.
Before resolution, the content of this de-scription is DEF 3, in which the variable ?NS is aplaceholder for the unspecified nuclear scope of thedef operator.
(DEF 3)de/\[y, Hotel(y) ^ Na..ed(~, M a,','iotO, ?.s\]The restriction of this term is obtained from thelexical entry for Marriott, which contains the infor-mation that it refers to a hotel, in addition to speci-fying its name.
Although we rely on domain-specificknowledge in assuming that it refers to a hotel, webelieve this assumption is reasonable, because theproper names for hotels can be automatically ac-quired from the hotel database used by the applica-tion.Now suppose that there are a number of Mar-riotts in the area.
In an empty discourse context,this reference would have an unsatisfied uniquenesspresupposition, so the system would need to askthe user which Marriott was intended.
However, inthis case, uniqueness can be established by search-ing the QUD for an appropriate domain restriction,which can be conjoined with the explicit restrictiongiven in (DEF 3).
Since doma/n restrictions canbe contextually supplied for most restricted oper-ators, we interpret (DEF 3) as if there were an addi-tional conjunct, which is schematically representedby Qvn.arara(z) in (DF.~" 3')3(DEF 8')cle/~, (Hotel(y)ANamed(y, Ma~/at"t)AQUD.REST.
(Z)),?Ns\]As in our treatment of anaphora, the key to con-straining the search for an appropriate domain re-striction is the QUD structure of the discourse.
Theentry on top of the QUD corresponds to question (I)of example IV, whose CULF is (simpli~ed):(CD~F 1) A\[z, Hotd(z)^Ne~r(z, Airport),3Iv, De~(y), So~V~=~uO-(-, y)\]\]To determine whether any implicit domain restric-tion can be added to the Marriott, our algorithmCalls add.domain_resl:r$ction t  search the QUDfor predicates that match the same basic type as theSWe do not actually include an explicit conjunct for thedomain restriction i our implemented logical forms, becausean implicit domain restriction may be added to virtually anyrestricted operator, as motivated by Roberts (1995), and itis of course possible for no new information to be added bydomain restriction.7explicit restriction, HOteL In (CULF 1) it finds therestriction Hotd(z) A Near(z, Airport), which canbe added in place of the virtual QUD_RESTR(X) con-junct in (DEF 3') to further restrict he domain forthe Marriott.
This restriction (DEF 3") is then usedby ret r ieve .
re ferents  to find a matching referentin the CG.
(DEF 3") clef\[y, Hotel(y) A Named(y, Marriott)^ Near(y, Airport),?NS\]It is important o note that the familiarity pre-supposition for a definite description does not re-quire its referent to be previously mentioned in thediscourse.
In sentence (1) of Example HI, the ref-erent for the Holiday Inn does not yet exist in ourrepresentation f the common ground, because thesystem initially has no knowledge that the useris aware of any particular Holiday Inns.
In suchcases, no objects are returned from the CG byretr ieve_referents,  and the definite presupposi-tional term will remain with an unknown referentin the Output of determine.CULF.
Our approach toaccommodation for such unsatisfied presuppositions(in step 2 of process_ul;terance) is to look for areferent in the application'S private database of factsabout he domain of hotels, since this database rep-resents all of the world knowledge that the systemhas available.
If it finds a unique hotel named Holi-day Inn, we can assume this hotel satisfies the user'spresupposition.
On the other hand, if it turns outthat there are either no hotels named Holiday Innin the database, or multiple Holiday Inns, the sys-tem could report he failure of these presuppositions,rather than giving an uninformative simple negativeanswer to the user's question (1).4.3 Generalized Dom~|n Rest r i c t ion :Example H IConsider next the quantificational de f iner  ever//in sentence (3) of example HI.
It should be clearthat the user is not ~.qld~ about every morning forall time, hut only about all mornings during theplanned trip.
As with definite descriptions, our algo-rithm allows the restriction of most operators withsemantically contentfifl restrictions i to be furtherspecified by information from the QUD, so the in-terpretation of every morn/rig will differ dependingon whether the dialogue began with question (la)or (Ib).
Now, if it is the case that the Holiday Innhas a breakfast buffet on weekdays only, it is imp0r-rant for the system to answer (3) appropriately, asin(4s) and (4b), depending upon the context createdby (h) and (Ib).4Domain restriction isnot usually applicable to pronounsand other expressions that have little explicit content, be-cause these expressions depend on recovering a salient an-tecodent in order to determine the type of the refenmt, ratherthan searching for a l~ icu la r  type of object in the commonground.To determine the domain restriction for ev-ery morning, add_domain.xestrict ionsearches theQUD for predicates that match the same basic typeas the explicit restriction, morning.
In this case, wetake the basic type to be a temporal entity, so itwill search for temporal descriptions in the QUD.
sBy using the QUD stack to constrain the search, ev-ery Will quantify over any temporal entities that arefound at a level of discourse structure closest o thecurrent segment, but crucially not over every tern-?
poral entity in the entire common ground.
Thus, todetermine the response in:(4a), only the date rangementioned in (la) is relevant, and a positive responsecan be given, since the question relates to weekdays.In (4b) however, the date range includes a Saturday,so the system should generate a negative response.4.4 Elliptical Questions: Example IVExample IV is a somewhat more complex dia-logue, including an elliptical question as well as sev-eral definite descriptions.
It illustrates how our ap-proach generalizes ~ the larger class of presuppo-sitional constructions which we identified in the in-.
troduction.
Let.
us focus on the interpretation ofsentence (3), How about he Marriottg., which is as-signed the following ULF:(ULF 8) Wa_~Up,i,\[~,~(~),~\[x -, (de/\[y, Uotd(y) ^  Na~(y ,  ~a~) ,  ?.s\])\]\]is a variable referring to some contextuallysalient question, and the de6nlte description cor-respondlnE to the Marriott is to be substituted forsome term (X) within ~b.
Recall that the variable?NS is a placeholder for the ,,n~ecified nuclear scopeof the def operator.our  algorithm processes the logical form of an ut-terance ins/de-out, i.e., the embedded context res-olution problems are handled first, so it first re-solves the de/ term corresponding to the Mar,'/o~as we discussed in ?4.2 on definite descriptions, andadd_domain.restriction produces the refined de-scription (DEF 3"):(DP.F 3") de/Iv, Hoed(y) ^  Na,~d(y, Ma.~)^ Near(y, Airport),TNS\]Next, the top.level Wh.dlip~ris term in (ULF.
3)is resolved, according to the resolve.Y~ ~l l ips i salgorithm of Figure 3.
~ must be a question, soweretrieve the question on top of the QUD stack, andattempt o identify ~ with its CULF (CULF 1).
(C'Ur_,F '9 A\[=, H~d(z) ^  JV~,-(z, Airport),3~1, Date(y), Has V acancyOn( z, y ) ~SA complete explanation of this situation might requirethe system to infer the domain goals of the user.
However,when the QUD contains some descriptions of the appropriate?
type, we can use them as an approximate domain restriction,thereby avoiding the computational expense of full plan in-ference.8O0O000@O00@0@00000000O0Q000@@mI$OOOOO@OOOOOOOO0O@OOOOOOOOOOOOOOOOOOOOOr esoive_WH_Ellipsis (Term, Level)7,7,7, Assume nuclear scope of Ter~n is  of the form: ~\[01dExpr->NevExpr\]vhile QUD stack is not empty {QUD-CULF = CULF of QUD\[top\]QUD-CDRS = CDRS of GUD\[Cop\](NewExpr, CDRS1) = determlne.CULF(NewExpr, Level)if NewExpr is a generalized quanClfier,let SubsCLF = march, substitute (QUD-CULF, resCricCion(NevExpr), NewExpr)else (NewExpr iS a predicate)l e t  SubstLF ffi matchksubstiCute(QUD-CULF, NevExpr, NevExpr)i f  null(SubstLF)or SubstLF is  not Snterpretable as a subquestion of ~ID-CULF,pop(QUV)else rectum (SubsCLF, priorizy_union(CDRSl, QUD-CDRS))7,7,7, priority-union(X,Y) is  l ike  set  un$on, but vhen some members of X7,7,Y, and Y have the  same type ,  on ly  the  member of  X i s  inc luded  Sn the  resu l t .
}Figure 3: resolve_WH_Ellipsis algorithmWe must now find a term within (CULF 1) for whichthe term corresponding to the Marriott can be sub-stituted.
Our matchksubscitute algorithm looksfor terms whose restrictions pecialize a commonbasic type, so it again findsthe restriction on the(top-level) A-term containing the Hote/predicate in(CULF 1):~\[z, sots(z) ^  Nes,(~,Ai~po~), ...\]The operator and restriction of this term are re-placed by those from (DEF 3") and the variablesare -nlSed, but the nuclear scope of (DEF 3") is un-specified, so the nuclear scope of (CULF 1) rem~unchanged in the result:(3") clef\[z, Hotd(z ) A Named(y, M,rr/ott)A Near(z, AiT7x~t),3\[y, D.ze(~), S .aVo~.q~.
(z ,  y)\]\](3") is (almost) the CULF for How about he Mar-r/ottf, but it must be noted that it should be inter?preted as a polar question, since the A-term char-acteristi?
of a wh-question has been replaced by adefinite descriptioneThus, both the elliptical question and the domainrestriction of the definite description are processedby the same overall strategy.
They are interpretedby incorporating information contained in the ques-tion under discussion.5 ConclusionsWe have described an integrated approach to re-solving presuppositions, which includes pronominaland definite reference resolution Central to our ap-proach is the maintenance of discourse structures,especially the QUD stack, which captures the hier-archical organization of the discourse.
By identify-8When all top-level ),-terms in a Wh-question have beenreplaced, it is interpreted asa polar question.ing the presuppositions a sociated with each kind ofconstruction, and recovering presupposed informa-tion from a unified discourse information structure,the search space for relevant contextual informationis restricted in a general way.Re~li~i-g the full potential of this approach todiscourse structure requires recoL,,i~.in~ the questionunder discussion even when it is not stated explic-itly as a question.
We have found that requests andstatements of need and desire should be coerced toquestions, but a general implementation f this coer-cion process remains to be completed.
An even morechallenging problem involves inferring the domaingoals of the user that are related to the question un-der discussion.
As will be readily apparent to mostresearchers in NLP, these problems are intertwinedwith larger AI problems, such as plan recognition,which are beyond the scope of this paper, but mustultimately be solved or approximated in any realis-tic application.
As noted in our discussion of domainrestriction (?4.3), it is sometimes possible to extractsome explicitly mentioned content from the QUDwhich is relat~ to the user's domain goals, but werecoL,-i~e that this is only an apprarlmate solution.Although we have shown several examples wherethis approach to discourse structure is successful,a comprehensive empirical evaluation still needs tobe performed to dete _rm_in_e how frequently partic-ular presupposition problems occur in actual cor-pora, and to assess what proportion of the actual oc-currences are resolved effectively by our algorithms.The first part of this evaluation could be addressedby searc~inf a corpus for expressions that triggerpresuppositions, but assessing the actual perfor-mance of the algorithms on existing corpora wouldbe more diMcult, because it would require the ac-quisition of background knowledge about other do-9mains than the hotel reservation application that weare currently working on.ReferencesLauri Carlson.
1983.
Dialogue Games: An Approachto Discourse Analysis.
Reidel, Dordrecht.Barbara Grosz and Candace Sidner.
1986.
Atten-tion, intentions, and the structure of discourse.Computational Linguistics, 12(3):175-204.Barbara J. Grosz, Aravind K. Joshi, and Scott Wein-stein.
1995.
Centering: A framework for modeling?
the local coherence of discourse.
ComputationalLinguistics, 21(2):203-225.B.J.
Grosz.
1981.
Focusing and description in nat-ural language dialogues.
In B. Webber A. Joshiand I.
Sag, editors, Elements ol Discourse Un-derstanding, pages 84-105.
Cambridge UniversityPress, New York.Irene Heim.
1982.
On the Semantics of Definite andIndefinfle Noun Phrases.
Ph.D. thesis, Universityof Massachusetts atAmherst.Robert M. MacGregor.
1991.
Using a descriptionclassifier to enhance deductive inference.
In Pro-ceedings of the Seventh IEEE Conference on AIApplications, pages 141-147.Craige Roberts.
1995.
Domain restriction in dy-namic semantics.
In A. Kratzer E. Bach, E. Je-linek and B.H.
Partee, editors, Quantification iNatural Languages.
Kluwer Academic Publishers.Craige Roberts.
1996.
Information structure indiscourse: Towards an integrated formal the-ory of pragmaties.
In Jae-Hak Yoon andAndreas Kathol, editors, OSU Working Pa-pers in Linguistics, Vol 4g: Paper8 in Se-mantics.
(also available vis the Internetat ftp://Zing, ohio-atal~e, du/pub/rober~a/infostructure, ps).Craige Roberts.
1998.
The place of centeringin a general theory of anaphora resolution.
InA.K.
Joshi M.A.
Walker and E.F.
Prince, editors,Centering Theory in Discourse.. Clarendon Press,Oxford.Cralge Roberts.
1999 (to appear).
Unique-ness in definite noun phrasm.
I, in~isti~ andPhilosophy.
(also available via the Internetat f~P:// l ing, ohio-~a~e, du/pub/rober~ s/uniquenees.ps).Bertrand Russell.
1905.
On denotlug.
Mind,66:479-493.Robert Stalnaker.
1979.
Assertion.
In Peter Cole,editor, Syntaz and 8ema~i~, Volume 9.Linda Z. Suri and Kathleen F. McCoy.
1994.Raft/rapt and centering: A comparison and dis-" cussion of problems related to processing complexsentences.
Computational Linguistics, 20(2):301-317.10000000000@00O00O0000000000000000000000000000
