Temporal Annotation in the Clinical DomainWilliam F. Styler IV1, Steven Bethard2, Sean Finan3, Martha Palmer1,Sameer Pradhan3, Piet C de Groen4, Brad Erickson4, Timothy Miller3,Chen Lin3, Guergana Savova3 and James Pustejovsky51 Department of Linguistics, University of Colorado at Boulder2 Department of Computer and Information Sciences, University of Alabama at Birmingham3 Children?s Hospital Boston Informatics Program and Harvard Medical School4 Mayo Clinic College of Medicine, Mayo Clinic, Rochester, MN5 Department of Computer Science, Brandeis UniversityAbstractThis article discusses the requirements ofa formal specification for the annotation oftemporal information in clinical narratives.We discuss the implementation and extensionof ISO-TimeML for annotating a corpus ofclinical notes, known as the THYME cor-pus.
To reflect the information task and theheavily inference-based reasoning demandsin the domain, a new annotation guidelinehas been developed, ?the THYME Guidelinesto ISO-TimeML (THYME-TimeML)?.
Toclarify what relations merit annotation, wedistinguish between linguistically-derived andinferentially-derived temporal orderings in thetext.
We also apply a top performing Temp-Eval 2013 system against this new resource tomeasure the difficulty of adapting systems tothe clinical domain.
The corpus is available tothe community and has been proposed for usein a SemEval 2015 task.1 IntroductionThere is a long-standing interest in temporal reason-ing within the biomedical community (Savova et al.,2009; Hripcsak et al., 2009; Meystre et al., 2008;Bramsen et al., 2006; Combi et al., 1997; Keravnou,1997; Dolin, 1995; Irvine et al., 2008; Sullivan etal., 2008).
This interest extends to the automatic ex-traction and interpretation of temporal informationfrom medical texts, such as electronic discharge sum-maries and patient case summaries.
Making effectiveuse of temporal information from such narratives isa crucial step in the intelligent analysis of informat-ics for medical researchers, while an awareness oftemporal information (both implicit and explicit) in atext is also necessary for many data mining tasks.It has also been demonstrated that the temporal in-formation in clinical narratives can be usefully minedto provide information for some higher-level tempo-ral reasoning (Zhao et al., 2005).
Robust temporalunderstanding of such narratives, however, has beendifficult to achieve, due to the complexity of deter-mining temporal relations among events, the diver-sity of temporal expressions, and the interaction withbroader computational linguistic issues.Recent work on Electronic Health Records (EHRs)points to new ways to exploit and mine the informa-tion contained therein (Savova et al., 2009; Robertset al., 2009; Zheng et al., 2011; Turchin et al., 2009).We target two main use cases for extracted data.
First,we hope to enable interactive displays and summariesof the patient?s records to the physician at the time ofvisit, making a comprehensive review of the patient?shistory both faster and less prone to oversights.
Sec-ond, we hope to enable temporally-aware secondaryresearch across large databases of medical records(e.g., ?What percentage of patients who undergo pro-cedure X develop side-effect Y within Z months??
).Both of these applications require the extraction oftime and date associations for critical events and therelative ordering of events during the patient?s periodof care, all from the various records which make up apatient?s EHR.
Although we have these two specificapplications in mind, the schema we have developedis generalizable and could potentially be embeddedin a wide variety of biomedical use cases.Narrative texts in EHRs are temporally rich doc-uments that frequently contain assertions about thetiming of medical events, such as visits, laboratoryvalues, symptoms, signs, diagnoses, and procedures(Bramsen et al., 2006; Hripcsak et al., 2009; Zhouet al., 2008).
Temporal representation and reason-ing in the medical record are difficult due to: (1) thediversity of time expressions; (2) the complexity ofdetermining temporal relations among events (whichare often left to inference); (3) the difficulty of han-dling the temporal granularity of an event; and (4)143Transactions of the Association for Computational Linguistics, 2 (2014) 143?154.
Action Editor: Ellen Riloff.Submitted 9/2013; Revised 2/2014; Published 4/2014.
c?2014 Association for Computational Linguistics.general issues in natural language processing (e.g.,ambiguity, anaphora, ellipsis, conjunction).
As a re-sult, the signals used for reconstructing a timeline canbe both domain-specific and complex, and are oftenleft implicit, requiring significant domain knowledgeto accurately detect and interpret.In this paper, we discuss the demands on accuratelyannotating such temporal information in clinicalnotes.
We describe an implementation and extensionof ISO-TimeML (Pustejovsky et al., 2010), devel-oped specifically for the clinical domain, which werefer to as the ?THYME Guidelines to ISO-TimeML?(?THYME-TimeML?
), where THYME stands for?Temporal Histories of Your Medical Events?.
A sim-plified version of these guidelines formed the basisfor the 2012 i2b2 medical-domain temporal relationchallenge (Sun et al., 2013a).This is being developed in the context of theTHYME project, whose goal is to both create ro-bust gold standards for semantic information in clini-cal notes, as well as to develop state-of-the-art algo-rithms to train and test on this dataset.Deriving timelines from news text requires the con-crete realization of context-dependent assumptionsabout temporal intervals, orderings and organization,underlying the explicit signals marked in the text(Pustejovsky and Stubbs, 2011).
Deriving patienthistory timelines from clinical notes also involvesthese types of assumptions, but there are special de-mands imposed by the characteristics of the clinicalnarrative.
Due to both medical shorthand practicesand general domain knowledge, many event-eventrelations are not signaled in the text at all, and relyon a shared understanding and common conceptualmodels of the progressions of medical proceduresavailable only to readers familiar with language usein the medical community.Identifying these implicit relations and temporalproperties puts a heavy burden on the annotationprocess.
As such, in the THYME-TimeML guideline,considerable effort has gone into both describing andproscribing the annotation of temporal orderings thatare inferable only through domain-specific temporalknowledge.Although the THYME guidelines describe a num-ber of departures from the ISO-TimeML standard forexpediency and ease of annotation, this paper willfocus on those differences specifically motivated bythe needs of the clinical domain, and on the conse-quences for systems built to extract temporal data inboth the clinical and general domain.2 The Nature of Clinical DocumentsIn the THYME corpus, we have been examining1,254 de-identified1 notes from a large healthcarepractice (the Mayo Clinic), representing two distinctfields within oncology: brain cancer, and colon can-cer.
To date, we have principally examined two dif-ferent general types of clinical narrative in our EHRs:clinical notes and pathology reports.Clinical notes are records of physician interactionswith a patient, and often include multiple, clearlydelineated sections detailing different aspects of thepatient?s care and present illness.
These notes arefairly generic across institutions and specialities, andalthough some terms and inferences may be specificto a particular type of practice (such as oncology),they share a uniform structure and pattern.
The ?His-tory of Present Illness?, for example, summarizes thecourse of the patient?s chief complaint, as well as theinterventions and diagnostics which have been thusfar attempted.
In other sections, the doctor may out-line her current plan for the patient?s treatment, thenlater describe the patient?s specific medical history,allergies, care directives, and so forth.Most critically for temporal reasoning, each clin-ical note reflects a single time in the patient?s treat-ment history at which all of the doctor?s statementsare accurate (the DOCTIME), and each section tendsto describe events of a particular timeframe.
Forexample, ?History of Present illness?
predominantlydescribes events occuring before DOCTIME, whereas?Medications?
provides a snapshot at DOCTIME and?Ongoing Care Orders?
discusses events which havenot yet occurred.2Clinical notes contain rich temporal informationand background, moving fluidly from prior treat-ments and symptoms to present conditions to futureinterventions.
They are also often rich with hypo-thetical statements (?if the tumor recurs, we can...?
),each of which can form its own separate timeline.By constrast, pathology notes are quite different.Such notes are generated by a medical pathologist1Although most patient information was removed, datesand temporal information were not modified according to thisproject?s specific data use agreement.2One complication is the propensity of doctors and automatedsystems to later update sections in a note without changing thetimestamp or metadata.
We have added a SECTIONTIME to keepthese updated sections from affecting our overall timeline.144upon receipt and analysis of specimens (ranging fromtissue samples from biopsy to excised portions oftumor or organs).
Pathology notes provide crucialinformation to the patient?s doctor confirming themalignancy (cancer) in samples, describing surgi-cal margins (which indicate whether a tumor wascompletely excised), and classifying and ?staging?
atumor, describing the severity and spread of the can-cer.
Because the information in such notes pertainsto samples taken at a single moment in time, they aretemporally sparse, seldom referring to events beforeor after the examination of the specimen.
However,they contain critical information about the state ofthe patient?s illness and about the cancer itself, andmust be interpreted to understand the history of thepatient?s illness.Most importantly, in all EHRs, we must contendwith the results of a fundamental tension in mod-ern medical records: hyper-detailed records providea crucial defense against malpractice litigation, butincluding such detail takes enormous time, whichdoctors seldom have.
Given that these notes are writ-ten by and for medical professionals (who form arelatively insular speech community), a great manynon-standard expressions, abbreviations, and assump-tions of shared knowledge are used, which are simul-taneously concise and detail-rich for others who havesimilar backgrounds.These time-saving devices can range from tempo-rally loaded acronyms (e.g., ?qid?, Latin for quater indie, ?four times daily?
), to assumed orderings (a diag-nostic test for a disorder is assumed to come beforethe procedure which treats it), and even to completelyimplicit events and temporal details.
For example,consider the sentence in (1).
(1) Colonoscopy 3/12/10, nodule biopsies negativeWe must understand that during the colonoscopy,the doctor obtained biopsies of nodules, which werepackaged and sent to a pathologist, who reviewedthem and determined them to be ?negative?
(non-cancerous).In such documents, we must recover as much tem-poral detail as possible, even though it may be ex-pressed in a way which is not easily understood out-side of the medical community, let alone by linguistsor automated systems.
We must also be aware of thelegal relevance of some events (e.g., ?We discussedthe possible side effects?
), even when they may notseem relevant to the patient?s actual care.Finally, each specialty and note type has separateconventions.
Within colon cancer notes, the Amer-ican Joint Committee on Cancer (AJCC) StagingCodes (e.g., T4N1, indicating the nature of the tumor,lymph node and metastasis involvement) are metic-ulously recorded, but are largely absent in the braincancer notes which make up the second corpus inour project.
So, although clinical notes share manysimilarities, annotators without sufficient domain ex-pertise may require additional training to adapt to theinferences and nuances of a new clinical subdomain.3 Interpreting ?Event?
and TemporalExpressions in the Clinical DomainMuch prior work has been done on standardizingthe annotation of events and temporal expressionsin text.
The most widely used approach is the ISO-TimeML specification (Pustejovsky et al., 2010), anISO standard that provides a common framework forannotating and analyzing time, events, and event rela-tions.
As defined by ISO-TimeML, an EVENT refersto anything that can be said ?to obtain or hold true, tohappen or to occur?.
This is a broad notion of event,consistent with Bach?s use of the term ?eventuality?
(Bach, 1986) as well as the notion of fluents in AI(McCarthy, 2002).Because the goals of the THYME project involveautomatically identifying the clinical timeline fora patient from clincal records, the scope of whatshould be admitted into the domain of events is inter-preted more broadly than in ISO-TimeML3.
Withinthe THYME-TimeML guideline, an EVENT is any-thing relevant to the clinical timeline, i.e., anythingthat would show up on a detailed timeline of the pa-tient?s care or life.
The best single-word syntactichead for the EVENT is then used as its span.
Forexample, a diagnosis would certainly appear on sucha timeline, as would a tumor, illness, or procedure.On the other hand, entities that persist throughoutthe relevant temporal period of the clinical timeline(endurants in ontological circles) would not be con-sidered as event-like.
This includes the patient, otherhumans mentioned (the patient?s mother-in-law orthe doctor), organizations (the emergency room),non-anatomical objects (the patient?s car), or indi-vidual parts of the patient?s anatomy (an arm is notan EVENT unless missing or otherwise notable).To meet our explicit goals, the THYME-TimeMLguideline introduces two additional levels of interpre-3Our use of the term ?EVENT?
corresponds with the lessspecific ISO-TimeML term ?Eventuality?145tation beyond that specified by ISO-TimeML: (i) awell-defined task; and (ii) a clearly identified domain.By focusing on the creation of a clinical timelinefrom clinical narrative, the guideline imposes con-straints that cannot be assumed for a broadly definedand domain independent annotation schema.Some EVENTs annotated under our guideline areconsidered meaningful and eventive mostly by virtueof a specific clinical or legal value.
For example,AJCC Staging Codes (discussed in Section 2) areeventive only in the sense of the code being assignedto a tumor at a given moment in the patient?s care.However, they are of such critical importance andinformative value to doctors that we have chosen toannotate them specifically so that they will show upon the patient?s timeline in a clinical setting.Similarly, because of legal pressures to establish in-formed consent and patient knowledge of risk, entireparagraphs of clinical notes are dedicated to docu-menting the doctor?s discussion of risks, plans, andalternative strategies.
As such, we annotate verbs ofdiscussion (?We talked about the risks of this drug?
),consent (?She agreed with the current plan?
), andcomprehension (?Mrs.
Larsen repeated the potentialside effects back to me?
), even though they are morerelevant to legal defense than medical treatment.It is also because of this grounding in clinical lan-guage that entities and other non-events are ofteninterpreted in terms of their associated eventive prop-erties.
There are two major types for which this is asignificant shift in semantic interpretation:(2) a Medication as Event:Orders: Lariam twice daily.b Disorder as Event:Tumor of the left lung.In both these cases, entities which are not typicallymarked as events are identified as such, because theycontribute significant information to the clinical time-line being constructed.
In (2a), for example, theTIMEX3 ?twice daily?
is interpreted as scoping overthe eventuality of the patient taking the medication,not the prescription event.
In sentence (2b), the ?tu-mor?
is interpreted as a stative eventuality of thepatient having a tumor located within an anatomicalregion, rather than an entity within an entity.Within the medical domain, these eventive inter-pretations of medications, growths and status codesare unambiguous and consistent.
Doctors in clini-cal notes (unlike in biomedical research texts) donot discuss medications without an associated (im-plicit) administering EVENT (though some mentionsmay be hypothetical, generic or negated).
Similarly,mentions of symptoms or disorders reflect occur-rences in a patient?s life, rather than abstract entities.With these interpretations in mind, we can safely in-fer, for instance, that all UMLS (Unified MedicalLanguage System, (Bodenreider, 2004)) entities ofthe types Disorder, Chemical/Drug, Procedure andSign/Symptom will be EVENTs.In general, in the medical domain, it is essential toread ?between the lines?
of the shorthand expressionsused by the doctors, and recognize implicit eventsthat are being referred to by specific anatomical sitesor medications.4 Modifications to ISO-TimeML for theClinical DomainOverall, we have found that the specification requiredfor temporal annotation in the clinical domain doesnot require substantial modification from existingspecifications for the general domain.
The clinicaldomain includes no shortage of inferences, short-hands, and unusual use of language, but the structureof the underlying timeline is not unique.As a result of this, we have been able to adopt mostof the framework from ISO-TimeML, adapting theguidelines where needed, as well as reframing thefocus of what gets annotated.
This is reflected in acomprehensive guideline, incorporating the specificpatterns and uses of events and temporal expressionsas seen in clinical data.
This approach allows theresulting annotations to be interoperable with exist-ing solutions, while still accommodating the majordifferences in the nature of the texts.
Our guide-lines, as well as the annotated data, are available athttp://thyme.healthnlp.org4Our extensions of the ISO-TimeML specificationto the clinical domain are intended to address specificconstructions, meanings, and phenomena in medicaltexts.
Our schema differs from ISO-TimeML in afew notable ways.EVENT Properties We have both simplified theISO-TimeML coding of EVENTs, and extended it tomeet the needs of the clinical domain and the specificlanguage goals of the clinical narrative.4Access to the corpus will require a data use agreement.More information about this process is available from the corpuswebsite.146Consider, for example, how modal subordination ishandled in ISO-TimeML.
This involves the semanticcharacterization of an event as ?likely?, ?possible?, oras presented by observation, evidence, or hearsay.
Allof these are accounted for compositionally in ISO-TimeML within the SLINK (Subordinating Link)relation (Pustejovsky et al., 2005).
While accept-ing ISO-TimeML?s definition of event modality, wehave simplified the annotation task within the cur-rent guideline, so that EVENTs now carry attributesfor ?contextual modality?, ?contextual aspect?
and?permanence?.Contextual modality allows the values ACTUAL,HYPOTHETICAL, HEDGED, and GENERIC.
ACTUALcovers EVENTs which have actually happened, e.g.,?We?ve noted a tumor?.
HYPOTHETICAL covers con-ditionals and possibilities, e.g., ?If she develops atumor?.
HEDGED is for situations where doctorsproffer a diagnosis, but do so cautiously, to avoidlegal liability for an incorrect diagnosis or for over-looking a correct one.
For example:(3) a.
The signal in the MRI is not inconsistentwith a tumor in the spleen.b.
The rash appears to be measles, awaitingantibody test to confirm.These HEDGED EVENTs are more real than a hypo-thetical diagnosis, and likely merit inclusion on atimeline as part of the diagnostic history, but mustnot be conflated with confirmed fact.
These (andother forms of uncertainty in the medical domain)are discussed extensively in (Vincze et al., 2008).
Incontrast, GENERIC EVENTs do not refer to the pa-tient?s illness or treatment, but instead discuss illnessor treatment in general (often in the patient?s specificdemographic).
For example:(4) In other patients without significant comor-bidity that can tolerate adjuvant chemother-apy, there is a benefit to systemic adjuvantchemotherapy.These sections would be true if pasted into any pa-tient?s note, and are often identical chunks of textrepeatedly used to justify a course of action or treat-ment as well as to defend against liability.Contextual Aspect (to distinguish from grammati-cal aspect), allows the clinically-necessary category,INTERMITTENT.
This serves to distinguish intermit-tent EVENTs (such as vomiting or seizures) fromconstant, more stative EVENTs (such as fever or sore-ness).
For example, the bolded EVENT in (5a) wouldbe marked as INTERMITTENT, while that in (5b)would not:(5) a She has been vomiting since June.b She has had swelling since June.In the first case, we assume that her vomiting hasbeen intermittent, i.e., there were several points sinceJune in which she was not actively vomiting.
In thesecond case, unless made otherwise explicit (?she hashad occasional swelling?
), we assume that swellingwas a constant state.
This property is also used whena particular instance of an EVENT is intermittent,even though it generally would not be:(6) Since starting her new regime, she has had occa-sional bouts of fever, but is feeling much better.The permanence attribute has two values, FINITEand PERMANENT.
Permanence is a property of dis-eases themselves, roughly corresponding to the med-ical concept of ?chronic?
vs. ?acute?
disease, whichmarks whether a disease is persistent following diag-nosis.
For example, a (currently) uncurable diseaselike Multiple Sclerosis would be classed as PERMA-NENT, and thus, once mentioned in a patient?s note,will be assumed to persist through the end of thepatient?s timeline.
This is compared with FINITEdisorders like ?Influenza?
or ?fever?, which, if notmentioned in subsequent notes, should be consideredcured and no longer belongs on the patient?s time-line.
Because it requires domain-specific knowledge,although present in the specification, Permanenceis not currently annotated.
However, annotators aretrained on the basic idea and told about subsequentaxiomatic assignment.
The addition of this propertyto our schema is designed to relieve annotators of anyfeeling of obligation to express this inferred informa-tion in some other way.TIMEX3 Types Temporal expressions (TIMEX3s)in the clinical domain function the same as in the gen-eral linguistic community, with two notable excep-tions.
ISO-TimeML SETs (statements of frequency)occur quite frequently in the medical domain, par-ticularly with regard to medications and treatments.Medication sections within notes often contain longlists of medications, each with a particular associatedset (?Claritin 30mg twice daily?
), and further tempo-ral specification is not uncommon (e.g., ?three timesper day at meals?, ?once a week at bedtime?
).The second major change for the medical domainis a new type of TIMEX3 which we call PREPOS-TEXP.
This covers temporally complex terms like147?preoperative?, ?postoperative?, and ?intraoperative?.These temporal expressions designate a span of timebordered, usually only on one side, by the incorpo-rated event (an operation, in the previous EVENTs).In many cases, the referent is clear:(7) She underwent hemicolectomy last week, andhad some postoperative bleeding.Here we understand that ?postoperative?
refers to?the period of time following the hemicolectomy?.
Inthese cases, the PREPOSTEXP makes explicit a tempo-ral link between the bleeding and the hemicolectomy.In other cases, no clear referent is present:(8) Patient shows some post-procedure scarring.In these situations, where no procedure is mentioned(or the reference is never explicitly resolved), wetreat the PREPOSTEXP as a narrative container (seeSection 5), covering the span of time following theunnamed procedure.Finally, it is worth noting that the process of nor-malizing those TIMEX3s is significantly more com-plex relative to the general domain, because manytemporal expressions are anchored not to dates ortimes, but to other EVENTs (whose dates are oftennot mentioned or not known by the physician).
Aswe move towards a complete system, we are workingto expand the ISO-TimeML system for TIMEX3 nor-malization to allow some value to be assigned to aphrase like ?in the months after her hemicolectomy?when no referent date is present.
ISO-TimeML, indiscussion with ISO TC 37SC 4, plans to referenceto such TIMEX3s in a future release of the standard.5 Temporal Ordering and NarrativeContainersThe semantic content and informational impact ofa timeline is encoded in the ordering relations thatare identified between the temporal and event expres-sions present in clinical notes.
ISO-TimeML speci-fies the standard thirteen ?Allen relations?
from theinterval calculus (Allen, 1983), which it refers to asTLINK values.
For unguided, general-purpose annota-tion, the number of relations that could be annotatedgrows quadratically with the number of events andtimes, and the task quickly becomes unmanageable.There are, however, strategies that we can adopt tomake this labeling task more tractable.
Temporalordering relations in text are of three kinds:1.
Relations between two events2.
Relations between two times3.
Relations between a time and an event.ISO-TimeML, as a formal specification of the tem-poral information conveyed in language, makes nodistinction between these ordering types.
Humans,however, do make distinctions, based on local tempo-ral markers and the discourse relations established ina narrative (Miltsakaki et al., 2004; Poesio, 2004).Because of the difficulty of humans capturing ev-ery relationship present in the note (and the disagree-ment which arises when annotators attempt to do so),it is vital that the annotation guidelines describe anapproach that reduces the number of relations thatmust be considered, but still results in maximally in-formative temporal links.
We have found that manyof the weaknesses in prior annotation approachesstem from interaction between two competing goals:?
The guideline should specify certain types of an-notations that should be performed;?
The guideline should not force annotations to beperformed when they need not be.Failing in the first goal will result in under-annotationand the neglect of relations which provide necessaryinformation for inference and analysis.
Failure in thesecond goal results in over-annotation, creating com-plex webs of temporal relations which yield mostlyinferable information, but which complicate annota-tion and adjudication considerably.Our method of addressing both goals in tempo-ral relations annotation is that of the narrative con-tainer, discussed in Pustejovsky and Stubbs (2011).A narrative container can be thought of as a temporalbucket into which an EVENT or series of EVENTsmay fall, or a natural cluster of EVENTs around agiven time or situation.
These narrative containersare often represented (or ?anchored?)
by dates orother temporal expressions (within which a varietyof different EVENTs occur), although they can alsobe anchored to more abstract concepts (?recovery?which might involve a variety of EVENTs) or evendurative EVENTs (many other EVENTs can occur dur-ing a surgery).
Rather than marking every possibleTLINK between each EVENT, we instead try to linkall EVENTs to their narrative containers, and thenlink those containers so that the contained EVENTscan be linked by inference.First, annotators assign each event to one of fourbroad narrative containers: before the DOCTIME, be-fore and overlapping the DOCTIME, just overlappingthe DOCTIME or after the DOCTIME.
This narrative148container is identified by the EVENT attribute Doc-TimeRel.
After the assignment of DocTimeRel, theremainder of the narrative container relations mustbe specified using temporal links (TLINKs).
Thereare five different temporal relations used for suchTLINKs: BEFORE, OVERLAP, BEGINS-ON, ENDS-ONand CONTAINS5.
Due to our narrative container ap-proach, CONTAINS is the most frequent relation by alarge margin.EVENTs serving as narrative container anchors arenot tagged as containers per-se.
Instead, annotatorsuse the narrative container idea to help them visu-alize the temporal relations within a document, andthen make a series of CONTAINS TLINK annotationswhich establish EVENTs and TIMEX3s as anchors,and specify their contents.
If the annotators do theirjobs correctly, properly implementing DocTimeReland creating accurate TLINKs, a good understandingof the narrative containers present in a document willnaturally emerge from the annotated text.The major advantage introduced with narrativecontainers is this: a narrative event is placed within abounding temporal interval which is explicitly men-tioned in the text.
This allows EVENTs within sep-arate containers to be linked by post-hoc inference,temporal reasoning, and domain knowledge, ratherthan by explicit (and time-consuming) one-by-onetemporal relations annotation.A secondary advantage is that this approach worksnicely with the general structure of story-telling inboth the general and clinical domains, and provides acompelling and useful metaphor for interpreting time-lines.
Often, especially in clinical histories, doctorswill cluster discussions of symptoms, interventionsand diagnoses around a given date (e.g.
a whole para-graph starting ?June 2009:?
), a specific hospitaliza-tion (?During her January stay at Mercy?
), or a givenillness or treatment (?While she underwent Chemo?
).Even when specific EVENTs are not explicitly or-dered within a cluster (often because the order can beeasily inferred with domain knowledge), it is oftenquite easy to place the EVENTs into containers, andjust a few TLINKs can order the containers relative toone another with enough detail to create a clinicallyuseful understanding of the overall timeline.Narrative containers also allow the inference of re-lations between sub-events within nested containers:5This is a subset of the ISO-TimeML TLINK types, excludingthose seldom occurring in medical records, like ?simultaneous?as well as inverse relations like ?during?
or ?after?.
(9) December 19th: The patient underwent an MRIand EKG as well as emergency surgery.
Dur-ing the surgery, the patient experienced mildtachycardia, and she also bled significantlyduring the initial incision.1.
December 19th CONTAINS MRI2.
December 19th CONTAINS EKG3.
December 19th CONTAINS surgerya.
surgery CONTAINS tachycardiab.
surgery CONTAINS incisionc.
incision CONTAINS bledThrough our container nesting, we can automaticallyinfer that ?bled?
occurred on December 19th (because?19th?
CONTAINS ?surgery?
which CONTAINS ?inci-sion?
which CONTAINS ?bled?).
This also allows thecapture of EVENT/sub-event relations, and the rapidexpression of complex temporal interactions.6 Explicit vs. Inferable AnnotationGiven a specification language, there are essentiallytwo ways of introducing the elements into the docu-ment (data source) being annotated:6?
Manual annotation: Elements are introduced intothe document directly by the human annotator fol-lowing the guideline.?
Automatic (inferred) annotation: Elements are cre-ated by applying an automated procedure that in-troduces new elements that are derivable from thehuman annotations.As such, there is a complex interaction between spec-ification and guideline, and we focus on how theclinical annotation task has helped shape and refinethe annotation guidelines.
It is important to note thatan annotation guideline does not necessarily forcethe markup of certain elements in a text, even thoughthe specification language (and the eventual goal ofthe project) might require those annotations to exist.In some cases, these added annotations are derivedlogically from human annotations.
Explicitly markedtemporal relations can be used to infer others that arenot marked but exist implicitly through closure.
Forinstance, given EVENTs A, B and C and TLINKs ?ABEFORE B?
and ?B BEFORE C?, the TLINK ?A BE-FORE C?
can be automatically inferred.
Repeatedlyapplying such inference rules allows all inferable6We ignore the application of automatic techniques, such asclassifiers trained on external datasets, as our focus here is onthe preparation of the gold standard used for such classifiers.149TLINKs to be generated (Verhagen, 2005).
We canuse this idea of closure to show our annotators whichannotations need not be marked explicitly, savingtime and effort.
We have also incorporated these clo-sure rules into our inter-annotator agreement (IAA)calculation for temporal relations, described furtherin Section 7.2.The automatic application of rules following theannotation of the text is not limited to the markingof logically inferable relations or EVENTs.
In theclinical domain, the combination of within-groupshared knowledge and pressure towards concise writ-ing leads to a number of common, inferred relations.Take, for example, the sentence:(10) Jan 2013: Colonoscopy, biopsies.
Pathologyshowed adenocarcinoma, resected at Mercy.Diagnosis T3N1 Adenocarcinoma.In this sentence, only the CONTAINS relations be-tween ?Jan 2013?
and the EVENTs (in bold) areexplicitly stated.
However, based on the knownprogression-of-care for colon cancer, we can inferthat the colonoscopy occurs first, biopsies occur dur-ing the colonoscopy, pathology happens afterwards,a diagnosis (here, adenocarcinoma) is returned afterpathology, and resection of the tumor occurs afterdiagnosis.
The presence of the AJCC staging infor-mation in the final sentence (along with the confir-mation of the adenocarcinoma diagnosis) implies apost-surgical pathology exam of the resected spec-imen, as the AJCC staging information cannot bedetermined without this additional examination.These inferences come naturally to domain ex-perts but are largely inaccessible to people outsidethe medical community without considerable anno-tator training.
Making explicit our understanding ofthese ?understood orderings?
is crucial; although theyare not marked by human annotators in our schema,the annotators often found it initially frustrating toleave these (purely inferential) relations unstated.
Al-though many of our (primarily linguistically trained)annotators learned to see these patterns, we chose toexclude them from the manual task since newer an-notators with varying degrees of domain knowledgemay struggle if asked to manually annotate them.Similar unspoken-but-understood orderings arefound throughout the clinical domain.
As mentionedin Section 3, both Permanence and Contextual As-pect:Intermittent are properties of symptoms and dis-eases themselves, rather than of the patient?s particu-lar situation.
As such, these properties could easilyAnnotation Type Raw CountEVENT 15,769TIMEX3 1,426LINK 7935Total 25,130Table 1: Raw Frequency of Annotation TypesTLINK Type Raw Count % of TLINKsCONTAINS 5,112 64.42%OVERLAP 1,205 15.19%BEFORE 1,004 12.65%BEGINS-ON 488 6.15%ENDS-ON 126 1.59%Total 7,935 100.00%Table 2: Relative Frequency of TLINK typesbe identified and marked across a medical ontology,and then be automatically assigned to EVENTs rec-ognized as specific medical named entities.Finally, due to the peculiarities of EHR systems,some annotations must be done programatically.
Ex-act dates of patient visit (or of pathology/radiologyconsult) are often recorded as metadata on the EHRitself, rather than within the text, making the canoni-cal DOCTIME (or time of automatic section modifi-cations) difficult to access in de-identified plaintextdata, but easy to find automatically.7 ResultsWe report results on the annotations from the here-released subset of the THYME colon cancer corpus,which includes clinical notes and pathology reportsfor 35 patients diagnosed with colon cancer for atotal of 107 documents.
Each note was annotatedby a pair of graduate or undergraduate students inLinguistics at the University of Colorado, then adju-dicated by a domain expert.
These clinical narrativeswere sampled from the EHRs of a major healthcarecenter (the Mayo Clinic).
They were deidentified forall patient-sensitive information; however, originaldates were retained.7.1 Descriptive StatisticsTable 1 presents the raw counts for events, temporalexpressions and links in the adjudicated gold anno-tations.
Table 2 presents the number and percentageof TLINKs by type in the adjudicated relations goldannotations.150Annotation Type F1-Score AlphaEVENT 0.8038 0.7899TIMEX3 0.8047 0.6705LINK: Participants only 0.5012 0.4999LINK: Participants+type 0.4506 0.4503LINK: CONTAINS 0.5630 0.5626Table 3: IAA (F1-Score and Alpha) by annotation typeEVENT Property F1-Score AlphaDocTimeRel 0.7189 0.6889Cont.Aspect 0.9947 0.9930Cont.Modality 0.9547 0.9420Table 4: IAA (F1-Score and Alpha) for EVENT properties7.2 Inter-annotator AgreementWe report inter-annotator agreement (IAA) resultson the THYME corpus.
Each note was annotated bytwo independent annotators.
The final gold standardwas produced after disagreement adjudication by athird annotator was performed.We computed the IAA as F1-score and Krippen-dorff?s Alpha (Krippendorff, 2012) by applying clo-sure, using explicitly marked temporal relations toidentify others that are not marked but exist implicitly.In the computation of the IAA, inferred-only TLINKsdo not contribute to the score, matched or unmatched.For instance, if both annotators mark A BEFORE Band B BEFORE C, to prevent artificially inflating theagreement score, the inferred A BEFORE C is ignored.Likewise, if one annotator marked A BEFORE B andB BEFORE C and the other annotator did not, theinferred A BEFORE C is not counted.
However, ifone annotator did explicitly mark A BEFORE C, thenan equivalent inferred TLINK would be used to matchit.
EVENT and TIMEX3 IAA was generated basedon exact and overlapping spans, respectively.
Theseresults are reported in Table 3.The THYME corpus also differs from ISO-TimeML in terms of EVENT properties, with theaddition of DocTimeRel, ContextualModality andContextualAspect.
IAA for these properties is inTable 4.7.3 Baseline SystemsTo get an idea of how much work will be neces-sary to adapt existing temporal information extrac-tion systems to the clinical domain, we took the freelyavailable ClearTK-TimeML system (Bethard, 2013),TempEval 2013 THYME CorpusP R F1 P R F1TIMEX3 83.2 71.7 77.0 59.3 42.8 49.7EVENT 81.4 76.4 78.8 78.9 23.9 36.6DocTimeRel - - - 47.4 47.4 47.4LINK7 28.6 30.9 26.6 22.7 18.6 20.4EVENT-TIMEX3 - - - 32.3 60.7 42.1EVENT-EVENT - - - 7.0 3.0 4.2Table 5: Performance of ClearTK-TimeML models, asreported in the TempEval 2013 competition, and as appliedto the THYME Corpus development set.which was among the top performing systems inTempEval 2013 (UzZaman et al., 2013), and eval-uated its performance on the THYME corpus.ClearTK-TimeML uses support vector machineclassifiers trained on the TempEval 2013 trainingdata, employing a small set of features includingcharacter patterns, tokens, stems, part-of-speech tags,nearby nodes in the constituency tree, and a smalltime word gazetteer.
For EVENTs and TIMEX3s,the ClearTK-TimeML system could be applied di-rectly to the THYME corpus.
For DocTimeRels, therelation for an EVENT was taken from the TLINKbetween that EVENT and the document creation time,after mapping INCLUDES to OVERLAP.
EVENTswith no such TLINK were assumed to have a Doc-TimeRel of OVERLAP.
For other temporal relations,INCLUDES was mapped to CONTAINS.Results of this system on TempEval 2013 and theTHYME corpus are shown in Table 5.
For time ex-pressions, performance when moving to the clinicaldata degrades about 25%, from F1 of 77.0 to 49.7.For events, the degradation is much larger, about40%, from 78.8 to 36.6, most likely because of thelarge number of clinical symptoms, diseases, disor-ders, etc.
which have never been observed by thesystem during training.
Temporal relations are a bitmore difficult to compare because TempEval lumpedDocTimeRel and other temporal relations togetherand had several differences in their evaluation met-ric7.
However, we at least can see that performanceof the ClearTK-TimeML system on temporal rela-tions is low on clinical text, achieving only F1 of20.4.These results suggest that clinical narratives do7The TempEval 2013 evaluation metric penalized systemsfor parts of the text that were not examined by annotators, andused different variants of closure-based precision and recall.151indeed present new challenges for temporal informa-tion extraction systems, and that having access todomain specific training data will be crucial for ac-curate extraction in the clinical domain.
At the sametime, it is encouraging that we were able to applyexisting ISO-TimeML-based systems to our corpus,despite the several extensions to ISO-TimeML thatwere necessary for clinical narratives.8 DiscussionCONTAINS plays a large role in the THYME cor-pus, representing 66% of TLINK annotations made,compared with only 14.6% for OVERLAP, the secondmost frequent type.
We also see that BEFORE linksare relatively less common than OVERLAP and CON-TAINS, illustrating that much of the temporal orderingon the timeline is accomplished by using many ver-tical links (CONTAINS, OVERLAP) to build contain-ers, and few horizontal links (BEFORE, BEGINS-ON,ENDS-ON) to order them.IAA on EVENTs and Temporal Expressions isstrong, although differentiating implicit EVENTs(which should not be marked) from explicit, mark-able EVENTs remains one of the biggest sources ofdisagreement.
When compared to the data from the2012 i2b2 challenge (Sun et al., 2013b), our IAAfigures are quite similar.
Even with our more com-plex schema, we achieved an F1-score of 0.8038 forEVENTs (compared to the i2b2 score of 0.87 for par-tial match).
For TIMEX3s, our F1-score was 0.8047,compared to an F1-score of 0.89 for i2b2.TLINKing medical EVENTs remains a very diffi-cult task.
By using our narrative container approachto constrain the number of necessary annotations andby eliminating often-confusing inverse relations (like?after?
and ?during?)
(neither of which were done forthe i2b2 data), we were able to significantly improveon the i2b2 TLINK span agreement F1-score of 0.39,achieving an agreement score of 0.5012 for all LINKsacross our corpus.
The majority of remaining an-notator disagreement comes from different opinionsabout whether any two EVENTs require an explicitTLINK between them or an inferred one, rather thanwhat type of TLINK it would be (e.g.
BEFORE vs.CONTAINS).
Although our results are still signifi-cantly higher than the results reported for i2b2, andin line with previously reported general news figures,we are not satisfied.
Improving IAA is an importantgoal for future work, and with further training, speci-fication, experience, and standardization, we hope toclarify contexts for explicit TLINKS.News-trained temporal information extraction sys-tems see a significant drop in performance when ap-plied to the clinical texts of the THYME corpus.
Butas the corpus is an extension of ISO-TimeML, futurework will be able to train ISO-TimeML compliantsystems on the annotations of the THYME corpus toreduce or eliminate this performance gap.Some applications that our work may enable in-clude (1) better understanding of event semantics,such as whether a disease is chronic or acute andits usual natural history, (2) typical event durationfor these events, (3) the interaction of general anddomain-specific events and their importance in the fi-nal timeline, and, more generally, (4) the importanceof rough temporality and narrative containers as astep towards finer-grained timelines.We have several avenues of ongoing and futurework.
First, we are working to demonstrate the utilityof the THYME corpus for training machine learningmodels.
We have designed support vector machinemodels with constituency tree kernels that were ableto reach an F1-score of 0.737 on an EVENT-TIMEX3narrative container identification task (Miller et al.,2013), and we are working on training models toidentify events, times and the remaining types oftemporal relations.
Second, as per our motivatinguse cases, we are working to integrate this annotationdata with timeline visualization tools and to use theseannotations in quality-of-care research.
For example,we are using temporal reasoning built on this work toinvestigate the liver toxicity of methotrexate acrossa large corpus of EHRs (Lin et al., under review)].Finally, we plan to explore the application of ournotion of an event (anything that should be visible ona domain-appropriate timeline) to other domains.
Itshould transfer naturally to clinical notes about other(non-cancer) conditions, and even to other types ofclinical notes, as certain basic events should alwaysbe included in a patient?s timeline.
Applying ournotion of event to more distant domains, such as legalopinions, would require first identifying a consensuswithin the domain about which events must appearon a timeline.9 ConclusionMuch of the information in clinical notes critical tothe construction of a detailed timeline is left implicitby the concise shorthand used by doctors.
Manyevents are referred to only by a term such as ?tu-152mor?, while properties of the event itself, such as?intermittent?, may not be specified.
In addition, theordering of events on a timeline is often left to thereader to infer, based on domain-specific knowledge.It is incumbent upon the annotation guideline to in-dicate that only informative event orderings shouldbe annotated, while leaving domain-specific order-ings to post-annotation inference.
This documenthas detailed our approach to adapting the existingISO-TimeML standard to this recovery of implicitinformation, and defining guidelines that support an-notation within this complex domain.
Our guide-lines, as well as the annotated data, are available athttp://thyme.healthnlp.org, and the fullcorpus has been proposed for use in a SemEval 2015shared task.AcknowledgmentsThe project described is supported by Grant Num-ber R01LM010090 and U54LM008748 from the Na-tional Library Of Medicine.
The content is solely theresponsibility of the authors and does not necessarilyrepresent the official views of the National LibraryOf Medicine or the National Institutes of Health.We would also like to thank Dr. Piet C. de Groenand Dr. Brad Erickson at the Mayo Clinic, as well asDr.
William F. Styler III, for their contributions to theschema and to our understanding of the intricacies ofclinical language.ReferencesJames F Allen.
1983.
Maintaining knowledge abouttemporal intervals.
Communications of the ACM,26(11):832?843.Emmon Bach.
1986.
The algebra of events.
Linguisticsand philosophy, 9(1):5?16.Steven Bethard.
2013.
Cleartk-timeml: A minimalist ap-proach to tempeval 2013.
In Second Joint Conferenceon Lexical and Computational Semantics (*SEM), Vol-ume 2: Proceedings of the Seventh International Work-shop on Semantic Evaluation (SemEval 2013), pages10?14, Atlanta, Georgia, USA, June.
Association forComputational Linguistics.Olivier Bodenreider.
2004.
The Unified MedicalLanguage System (UMLS): integrating biomedicalterminology.
Nucleic acids research, 32(Databaseissue):D267?D270, January.Philip Bramsen, Pawan Deshpande, Yoong Keok Lee,and Regina Barzilay.
2006.
Finding temporal orderin discharge summaries.
In AMIA Annual SymposiumProceedings, volume 2006, page 81.
American MedicalInformatics Association.Carlo Combi, Yuval Shahar, et al.
1997.
Temporal reason-ing and temporal data maintenance in medicine: issuesand challenges.
Computers in biology and medicine,27(5):353?368.Robert H Dolin.
1995.
Modeling the temporal complex-ities of symptoms.
Journal of the American MedicalInformatics Association, 2(5):323?331.George Hripcsak, Nicholas D Soulakis, Li Li, Frances PMorrison, Albert M Lai, Carol Friedman, Neil S Cal-man, and Farzad Mostashari.
2009.
Syndromic surveil-lance using ambulatory electronic health records.
Jour-nal of the American Medical Informatics Association,16(3):354?361.Ann K Irvine, Stephanie W Haas, and Tessa Sullivan.2008.
Tn-ties: A system for extracting temporal infor-mation from emergency department triage notes.
InAMIA Annual Symposium proceedings, volume 2008,page 328.
American Medical Informatics Association.Elpida T Keravnou.
1997.
Temporal abstraction of med-ical data: Deriving periodicity.
In Intelligent DataAnalysis in Medicine and Pharmacology, pages 61?79.Springer.Klaus H. Krippendorff.
2012.
Content Analysis: AnIntroduction to Its Methodology.
SAGE Publications,Inc, third edition edition, April.Chen Lin, Elizabeth Karlson, Dmitriy Dligach, Mon-ica Ramirez, Timothy Miller, Huan Mo, NatalieBraggs, Andrew Cagan, Joshua Denny, and Guer-gana.
Savova.
under review.
Automatic identificationof methotrexade-induced liver toxicity in rheumatoidarthritis patients from the electronic medical records.Journal of the Medical Informatics Association.John McCarthy.
2002.
Actions and other events in sit-uation calculus.
In Proceedings of the Internationalconference on Principles of Knowledge Representationand Reasoning, pages 615?628.
Morgan KaufmannPublishers; 1998.Ste?phane M Meystre, Guergana K Savova, Karin C Kipper-Schuler, John F Hurdle, et al.
2008.
Extracting infor-mation from textual documents in the electronic healthrecord: a review of recent research.
Yearb Med Inform,35:128?44.Timothy Miller, Steven Bethard, Dmitriy Dligach, SameerPradhan, Chen Lin, and Guergana Savova.
2013.
Dis-covering temporal narrative containers in clinical text.In Proceedings of the 2013 Workshop on BiomedicalNatural Langua ge Processing, pages 18?26, Sofia,Bulgaria, August.
Association for Computational Lin-guistics.153Eleni Miltsakaki, Rashmi Prasad, Aravind Joshi, and Bon-nie Webber.
2004.
The penn discourse treebank.
In InProceedings of LREC 2004.Massimo Poesio.
2004.
Discourse annotation and seman-tic annotation in the gnome corpus.
In In Proceedingsof the ACL Workshop on Discourse Annotation.James Pustejovsky and Amber Stubbs.
2011.
Increasinginformativeness in temporal annotation.
In Proceedingsof the 5th Linguistic Annotation Workshop, pages 152?160.
Association for Computational Linguistics.James Pustejovsky, Robert Knippen, Jessica Littman, andRoser Sauri.
2005.
Temporal and event information innatural language text.
Language Resources and Evalu-ation, 39(2-3):123?164.James Pustejovsky, Kiyong Lee, Harry Bunt, and LaurentRomary.
2010.
Iso-timeml: An international standardfor semantic annotation.
In Proceedings of the SeventhInternational Conference on Language Resources andEvaluation (LREC 2010), Valletta, Malta.Angus Roberts, Robert Gaizauskas, Mark Hepple, GeorgeDemetriou, Yikun Guo, and Ian Roberts.
2009.
Build-ing a semantically annotated corpus of clinical texts.Journal of biomedical informatics, 42(5):950?966.Guergana Savova, Steven Bethard, Will Styler, James Mar-tin, Martha Palmer, James Masanz, and Wayne Ward.2009.
Towards temporal relation discovery from theclinical narrative.
In AMIA Annual Symposium Pro-ceedings, volume 2009, page 568.
American MedicalInformatics Association.Tessa Sullivan, Ann Irvine, and Stephanie W Haas.
2008.It?s all relative: usage of relative temporal expressionsin triage notes.
Proceedings of the American Societyfor Information Science and Technology, 45(1):1?8.Weiyi Sun, Anna Rumshisky, and Ozlem Uzuner.
2013a.Evaluating temporal relations in clinical text: 2012 i2b2challenge.
Journal of the American Medical Informat-ics Association.Weiyi Sun, Anna Rumshisky, and Ozlem Uzuner.
2013b.Evaluating temporal relations in clinical text: 2012 i2b2challenge.
Journal of the American Medical Informat-ics Association, 20(5):806?813.Alexander Turchin, Maria Shubina, Eugene Breydo,Merri L Pendergrass, and Jonathan S Einbinder.
2009.Comparison of information content of structured andnarrative text data sources on the example of medica-tion intensification.
Journal of the American MedicalInformatics Association, 16(3):362?370.Naushad UzZaman, Hector Llorens, Leon Derczynski,James Allen, Marc Verhagen, and James Pustejovsky.2013.
Semeval-2013 task 1: Tempeval-3: Evaluatingtime expressions, events, and temporal relations.
In Sec-ond Joint Conference on Lexical and ComputationalSemantics (*SEM), Volume 2: Proceedings of the Sev-enth International Workshop on Semantic Evaluation(SemEval 2013), pages 1?9, Atlanta, Georgia, USA,June.
Association for Computational Linguistics.Marc Verhagen.
2005.
Temporal Closure in an Annota-tion Environment.
Language Resources and Evalua-tion, 39(2):211?241.Veronika Vincze, Gyrgy Szarvas, Richrd Farkas, GyrgyMra, and Jnos Csirik.
2008.
The bioscope corpus:biomedical texts annotated for uncertainty, negationand their scopes.
BMC Bioinformatics, 9(Suppl 11):1?9.Ying Zhao, George Karypis, and Usama M. Fayyad.2005.
Hierarchical clustering algorithms for docu-ment datasets.
Data Mining and Knowledge Discovery,10:141?168.Jiaping Zheng, Wendy W Chapman, Rebecca S Crowley,and Guergana K Savova.
2011.
Coreference resolution:A review of general methodologies and applications inthe clinical domain.
Journal of biomedical informatics,44(6):1113?1122.Li Zhou, Simon Parsons, and George Hripcsak.
2008.
Theevaluation of a temporal reasoning system in processingclinical discharge summaries.
Journal of the AmericanMedical Informatics Association, 15(1):99?106.154
