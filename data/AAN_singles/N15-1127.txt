Human Language Technologies: The 2015 Annual Conference of the North American Chapter of the ACL, pages 1209?1214,Denver, Colorado, May 31 ?
June 5, 2015.c?2015 Association for Computational LinguisticsLachmannian Archetype Reconstruction for Ancient Manuscript CorporaArmin HoenenGoethe UniversityRobert- Mayer Strasse 1060486 Frankfurt, Germanyhoenen@em.uni-frankfurt.deAbstractTwo goals are targeted by computer philol-ogy for ancient manuscript corpora: firstly,making an edition, that is roughly speakingone text version representing the whole cor-pus, which contains variety induced throughcopy errors and other processes and secondly,producing a stemma.
A stemma is a graph-based visualization of the copy history withmanuscripts as nodes and copy events asedges.
Its root, the so-called archetype, is thesupposed original text or urtext from which allsubsequent copies are made.
Our main con-tribution is to present one of the first com-putational approaches to automatic archetypereconstruction and to introduce the first text-based evaluation for automatically producedarchetypes.
We compare a philologically gen-erated archetype with one generated by bio-informatic software.1 IntroductionIn philology, oftentimes more than one singlemanuscript of the same tradition (that is, the sametext) has survived.
These manuscripts often differin their wording in various places since copy errors,corrections, and other processes have led to devia-tion from the original text.
This causes two prob-lems: uncertainty about the original wording anduncertainty about which manuscript has been copiedfrom which other.The reconstruction of the copy history ofmanuscript texts is largely similar to that of DNA,which is why phylogenetic approaches have beenadopted (Robinson and O?Hara, 1996; Robinson etal., 1998; van Reenen et al, 1996; van Reenen etal., 2004; Spencer et al, 2004; Roos and Heikkil?a,2009; Roelli and Bachmann, 2010; Andrews andMac?e, 2013).
However, the main goal of the philo-logical work on ancient manuscripts is not the re-construction of the copy history but compiling anedition of a historical text.
This entails reducing thevariation encountered so that one single main textas the prototypical representation of the manuscriptcorpus emerges.
Ideally, this text is believed to bethe author?s original or closest possible to it.
Twomodel approaches to making an edition are mostwidespread.
The earlier one by Lachmann (see forinstance Lachmann (1853)) opts for reconstructingan urtext actively, that is if needed by means ofemendation, which refers to inferring the original(authorial) wording from the extant variants evenif the so-inferred form is not itself extant and thusnot attested in any of the manuscripts.
The later ap-proach after B?edier (see for instance B?edier (1928))bases the edition directly on the text of the best avail-able manuscript.In this paper, we will present a first automatic im-plementation of the earlier approach.
Additionally,an algorithm for evaluation of a so-reconstructedtext will be presented and applied to artificial bench-mark data sets (gold standard).
First, we will in-troduce the data sets.
Then, two methods, rule-based (using philological principles) and statisti-cal (likelihood-based using bio-informatic software)will be explained in detail before the results are be-ing presented, followed by a general discussion, afield specific discussion, and a conclusion and out-look.1209Text Lang MS TokParzival English 21 957Notre Besoin French 13 1029Table 1: The artificial traditions.
MS = number ofmanuscripts, Tok = number of tokens, Lang = language2 Artificial TraditionsAn artificial tradition is a fully digitized set ofmanuscripts which have been produced throughmanual copying in recent times whilst recording thetrue copy history/genealogical relationships.
Threeof these corpora have been published to date, Parzi-val by (Spencer et al, 2004), Notre Besoin by (Baretet al, 2004), and Heinrichi by (Roos and Heikkil?a,2009).
They are provided in a fully word-alignedtabular version by the authors, so that collation mustnot be performed anymore.
We excluded the Hein-richi tradition from computation as Old Finnish datacould not be interpreted by us.
Table 1 displays thecomposition of the artificial traditions we used.3 MethodContrasting a rule-based and a statistical approach,we automatically reconstruct the archetype text forthe two aforementioned traditions.
To the best of ourknowledge, this paper treats automatic archetype re-construction in connection with evaluation for thefirst time and applies suitable bio-informatic pro-grams for the first time.
While the transfer of bi-ological software to philology, especially in stem-matics, is done since the 1990ies, (O?Hara, 1996),purely philological automatic reconstructions are arecent development.
As input for both reconstruc-tion methods, we use the same tree, generated bybio-informatic software.
Corresponding to this tree,we reconstruct the archetype using a) a philologicalrule-based majority-vote bottom-up algorithm andb) statistical bio-informatic software.3.1 Philological ReconstructionA lost manuscript text can be reconstructed in dif-ferent ways given a precomputed stemma.
Thekey question is how to resolve variation.
Depend-ing on a concrete decision rule for disambiguationof variation among the direct descendents of a lostmanuscript node, there are several possible recon-structions, which means one stemma can correspondto several possible archetype texts (depending on thedecision rule).
We implement the majority-vote de-cision rule as referred to frequently in philologicaldiscourse, see for instance (West, 1973).
The al-gorithm simply assigns the most frequent variant ofall direct descendents.
If more than one variant ismost frequent, our reconstruction retains all for laterdisambiguation either through majority-vote in sub-sequent recursion steps or for manual disambigua-tion through the expert if more than one variantsend undisambiguated in the reconstructed archetype.Lost text of leaf nodes should be pruned since theirtexts are more corrupt than the one of their an-cestors, thus unnecessarily corrupting the tradition.This pruning roughly parallels the philological prac-tice of recensio, the prior exclusion of uninformativemanuscripts.In mathematical terms, let S be a rooted stem-matic tree (directed acyclic) consisting of a set ofvertices V , a set of edges E, and one root node v0;Each vertex has an indegree of 1, only v0has noincoming edges.
Let each vertex vibe associatedwith a text Ti?
Tall, which is its textual content,|V | = |Tall|.
While Tallis the set of all texts thatreally existed in the tradition, T?initially is the setof surviving texts, T??
Tall.
The texts in Tallarealigned, that is each text consists of a sequence oftokens or reconstructed tokens {Tii, .., Tin} and allTihave the same length.
A recontructed token canbe a set of to be disambiguated tokens.
For eachTj?
Tall\ T?, we reconstruct the lost text in thefollowing way:1.
Collect all texts {Tk, .., Tm}, 1 ?
(k,m) ?|Tall| ?
1; k,m 6= j associated with the ver-tices {vk, .., vm} which are direct descendentsof vertex vj, which is associated with Tj.
If oneof the texts in {Tk, .., Tm} is itself not in T?,delay the actual reconstruction and start a newreconstruction for the next unreconstructed textuntil all texts {Tk, .., Tm} are reconstructed2.
Text reconstruction for each token Tji:Tji= majority({Tki, .., Tmi}); in case|majority({Tki, .., Tmi})| > 1 assign allvariants to Tj(using a separator), if oneof {Tki, .., Tmi} does already carry multi-ple variants, treat each one as one variant1210?:Am1:Am5:A?
:A/Cm2:C m3:Am4:D?
:Bm6:BFigure 1: A simple stemma of a one word tradition, Greekletters denoting lost (hype)archetype(s).
The Roman up-per case letters refer to the observed variant (manuscriptsmi) or to the reconstructed variant ((hype)archetype(s))inferred bottom-up.m1m2m3m4Variantsthis t?
it dis A-Dis is is is Aa an a A-Ctext text text text AAAAA BABA CAAA DACA PseudoDNATable 2: Conversion of a word-aligned example traditionto a pseudo-DNA.and compute the majority variant (exam-ple: {T2i, T5i} = {this/tis, tis} thenmajority({T2i, T5i}) = tis)3.
T?= T??
Tj; if T?= Tallend else start nextreconstructionFor an example see Figure 1.3.2 Bio-informatic ReconstructionIn bio-informatics, reconstruction of ancestralgenomes has been undertaken.
The most famouscase is presumably that of the mammoths, (Milleret al, 2008).
However, bacterial asexual reproduc-tion is generally more similar to manuscript copy-ing than mammalian sexual reproduction.
There-fore and for other methodological reasons, it is moreappropriate to transfer bacteriological reconstruc-tion to philology.
Bacteriologists sucessfully recon-structed the predecessors of yeast, (Voordeckers etal., 2012).
Given a pregenerated tree, they usedBayesian marginal and joint probabilities to gener-ate the sequences best explaining the tree.
A pro-gram performing this is PAML, (Yang, 2007).We converted the already word-aligned traditionsinto sequences of letters for each manuscript, seeTable 2.
Each letter encodes the variant the cur-rent manuscript carries at the current position.
Forthe so-produced pseudo-DNA sequences, the PAMLsoftware generates a stemmatic tree using the max-imum likelihood (ML) criterion without resolvingvariation at inferred internodes.
This ML tree or anyother can be used as input to generate ancestral se-quences at the internodes and the root node using anoptimization with a) marginal probabilities, for de-tails see (Yang et al, 1995) and b) an optimizationwith joint probabilities, for details see (Pupko et al,2000).
Yang (2007) states that the results of a) andb) differ only in borderline cases.
Indeed we found,that the respectively produced archetypes were iden-tical in our case.The ML tree is usually bifurcating, generatingmany internodes and an extra-corporal root.
Al-though in our context, it challenges performance ofautomatic reconstruction, bifurcations are not a cir-cumstance necessarily paralleling philology closely,(Howe et al, 2012).4 EvaluationFor each position of the alignment, a producedarchetype (PA) is compared to the original archetypepresent in the benchmark data sets.
Whenever thePA has at least one variant at the current positioncorresponding to the archetype, an agreement scoreis incremented by one divided through the number ofcurrent variants in the PA.
This assumes implicitlythat manual disambiguation is at random and rep-resents therefore a baseline evaluation.
The agree-ment score is divided by the number of positions inthe alignment to give the total precision of the PAtext.
This evaluation is called whole text evalua-tion (WTE).
It serves as an orientation point towardsthe overall reliability of the reconstructed text as awhole.
A second evaluation concerns the proportionof correctly disambiguated positions of variation.That agreement score is produced in the same wayas described above, but only for positions where thecorpus had variation.
This evaluation is called po-1211Tradition WTE PVE ASDParzival(PAML) 0.91 0.7351.38Parzival(MV) 0.96 0.88Notre Besoin(PAML) 0.95 0.954.95Notre Besoin(MV) 0.97 0.94Table 3: Evaluation of the archetypes by PAML andmajority-vote (MV).
ML trees evaluated with ASD.sition of variation evaluation (PVE).
Formally, bothWTE and PVE can be represented by?ni=01Ci(ai)|Ci|n,1Ci(ai) ={1 if ai?
Ci0 if ai/?
Ci(1)where n is either the number of words in the align-ment (WTE) or the number of positions of variation(PVE), a is the archetype, aithe i-th token in thearchetype, and Cithe set of variants of the PA at thei-th position.5 ResultsWe evaluated the PAs (rule-based and statistical)with WTE and PVE and additionally evaluated theinitial ML trees against the true stemma by meansof the graph-based Average Sign Distance (ASD),1a measure of distance of genealogical trees usingvertex triple distances as described in (Roos andHeikkil?a, 2009).
In order to achieve this, we con-verted the stemmas automatically from the Newickoutput format by PAML into the required formatof the ASD.
Results are displayed in Table 3.
Thephilological reconstruction outperformed the PAMLone in both cases.In order to assess the quality of these results,we produced the majority archetype (MA), whichat each position carried the majority variant.
Ad-ditionally, we produced a random archetype (RA),where a randomizer as implemented in the Java pro-gramming language chose one variant at random forevery place of variation.
The RA was then evalu-ated.
This procedure was repeated 1000 times andthen we averaged over the RA evaluation results.
Asa point of orientation, we additionally provide theevaluation score of the maximally wrong archetype1For details, data sets and evaluation scripts, browse http://www.cs.helsinki.fi/u/ttonteri/casc.?
(P/NB) WTE PVEMW(P) 0.68 0RA(P) 0.8 0.38MA(P) 0.96 0.87MW(NB) 0.52 0RA(NB) 0.76 0.49MA(NB) 0.98 0.95Table 4: Evaluation of archetypes.
?
as used in philol-ogy denotes the archetype.
We evaluated the majorityarchetypes (MA), the averaged random archetypes (RA)and the maximally wrong archetypes (MW) for the Parzi-val (P) and Notre Besoin (NB) traditions.
(MW), which is the one archetype that has a non-archetypical variant at each position where varia-tion occurred.
Note that none of these automaticallyproduced archetypes requires a stemma beforehand.The results are displayed in Table 4.
The RAs areconsiderably better than the MWs, but are clearlyoutperformed by both reconstructions and the MAs.6 DiscussionThe MA and MV archetypes are the most accu-rate ones.
Hence, the true distribution of variantsconsidering all manuscripts is such that the major-ity variant in the majority of cases is the archetyp-ical one.
Whether this conclusion holds for his-torical corpora remains to be shown.
The PAML-generated archetypes performed well and were con-siderably better than the random condition.
Notethat the ML tree?s ASD score was relatively low ascompared to other algorithms evaluated in (Roos andHeikkil?a, 2009).
The limitation of the current recon-struction is that at each position the reconstructedtext can only carry one of the variants of the extantmanuscripts.
This makes any reconstruction withmany reconstructed internodes, such as the MVs orthe PAML reconstructions by definition quite simi-lar to the MAs.6.1 Comparing Stemma and ArchetypeProductionFrom a bad stemma, disambiguation rules can nev-ertheless produce an accurate archetype and viceversa.
One stemma can correspond to several pos-sible archetypes and one archetype can be consis-tent with several different stemmas.
The two tasks1212and evaluations should therefore be considered sep-arately.
This is of utter importance as it points to animbalance of computational effort in the field.6.2 Implications for Computer PhilologyIn biology the establishment of genealogical rela-tions is in its own rights a primary goal, reconstruc-tion of ancestral sequences being rather secondary.On the contrary in philology, compiling an editionis not only historically preceeding stemmatology,but can be considered the main target of dealingwith manuscript corpora.
Stemma construction israther a secondary goal.2Despite this imbalance be-tween the fields, the technological emphasis is ongenealogical trees in both.
This may be seen as acomputer philological co-loan from bio-informatics.On the other hand it might correspond to a moreB?edierian edition practise, where stemmatology isemphasized because it can point to the most impor-tant manuscript, which is however implicit and un-likely.
Another reason for a benefit resulting from ashifting focus onto automatic archetype reconstruc-tion is the problem of having two vorlages for onecopy called contamination.
Whilst especially exces-sive contamination is a bad problem for stemmatol-ogy, (Maas, 1960), considering automatic archetypereconstruction, on a word level it doesn?t increasediversity and should therefore be a less severe prob-lem.For both traditions, the produced archetype wasreasonably accurate.
The automatisation of this pro-cess could thus accelerate the production of editions,making them most dependent on the indispensabledigitization of corpora.6.3 Implications for Bio-InformaticsIn biology, reconstructive algorithms such as the oneby Yang (2007) have been developed alongside bio-logical benchmark data sets enumerated by Linder etal.
(2010).
However, in stemmatology, the probabil-ity to have a manuscript and its copy in the corpusat the same time is disproportionately higher thanin the biological case making archetype productionmore transparent here.
The resulting algorithmicconclusions from philology could therefore enrichthe field of ancestral sequence reconstruction.2For more details, consider for instance Pasquali (1988),Timpanaro (2005), and Reynolds & Wilson (2013).7 Conclusion and OutlookWe have presented an automated reconstruction ofan archetypical text through philological rules andphylogenetic software.
Additionally, we invented anevaluation for the produced archetypes, where wefound the reconstruction to produce results consid-erably above chance level.The inversion of the process is implicit.
From a(manually or automatically) constructed archetype,all possible corresponding stemmas on the given setof manuscript digitizations can be computed andevaluated, which would be a new approach to stem-matology.
Both tasks could thus profit from eachother provided they are understood as separate anddeveloped each in its own right.Many issues remain unaddressed.
The phenom-ena encountered in manuscripts are much more var-ied than word substitutions as modelled in this pa-per; an enumeration of some of the phenomena willcorroborate this: word deletions, word separation er-rors, whole passages missing, text on the margins,unreadable or destructed text, crossing out of sec-tions, oral variation, contamination.
Trovato (2009)claims that manuscript loss of far more than 90% isrealistic.
In linguistics, historical-comparative stud-ies have engaged in using bio-informatic softwarefor instance in connection with the recontruction oflanguage family trees.
For automatic emendationthese studies as well as the reconstruction of unat-tested word forms are a valuable source.
Stemmatol-ogy itself offers ever new algorithms, artificial tradi-tions and tools for electronic editing.In the light of these manifold possibilities forelaboration and cooperation, the current studypresents but one entry point into automaticarchetype reconstruction.AcknowledgmentsWe greatfully acknowledge the financial support ofthe Goethe University, the Federal State of Hesseand the Federal Ministry of Education and ResearchBMBF.
We express our gratitude to our colleaguesof the Texttechnology Lab for valuable comments,help and advice.1213ReferencesT.
L. Andrews and C. Mac?e.
2013.
Beyond the tree oftexts: Building an empirical model of scribal variationthrough graph analysis of texts and stemmas.
Literaryand Linguistic Computing, 28(4):504?521, December.P.
Baret, C. Mac?e, and P. Robinson (eds.).
2004.
Test-ing methods on an artificially created textual tradi-tion.
In Linguistica Computationale XXIV-XXV, vol-ume XXIV-XXV, pages 255?281, Pisa-Roma.
InstitutiEditoriali e Poligrafici Internationali.Joseph B?edier.
1928.
La tradition manuscrite du ?Laide l?Ombre?
: R?eflexions sur l?Art d?
?Editer les AnciensTextes.
Romania, 394:161?196, 321?356.C.
Howe, R. Connoly, and H. Windram.
2012.
Respond-ing to criticism of phylogenetic methods in stemmatol-ogy.
SEL studies in English Literature, 52:51?67.Karl Lachmann.
1853.
In T. Lucretii Cari De rerumnatura libros commentarius: Index.
Georg Reimer.C.
Randal Linder, Rahul Suri, Kevin Liu, and TandyWarnow.
2010.
Benchmark datasets and software fordeveloping and testing methods for large-scale mul-tiple sequence alignment and phylogenetic inference.PLoS Currents, 2.P.
Maas.
1960.
Textkritik.
B. G. Teubner.Webb Miller, Daniela I. Drautz, Aakrosh Ratan, Bar-bara Pusey, Ji Qi, Arthur M. Lesk, Lynn P. Tomsho,Michael D. Packard, Fangqing Zhao, Andrei Sher,Alexei Tikhonov, Brian Raney, Nick Patterson, KerstinLindblad-Toh, Eric S. Lander, James R. Knight, Ger-ard P. Irzyk, Karin M. Fredrikson, Timothy T. Harkins,Sharon Sheridan, Tom Pringle, and Stephan C. Schus-ter.
2008.
Sequencing the nuclear genome of the ex-tinct woolly mammoth.
Nature, 456(7220):387?390.R.
J. O?Hara.
1996.
Trees of history in systematics andphilology.
Memorie della Societ`a Italiana di ScienzeNaturali e del Museo Civico di Storia Naturale di Mi-lano, 27(1):81?88.Giorgo Pasquali.
1988.
Storia della tradizione e criticadel testo.
Casa editrice Le lettere, Firenze.Tal Pupko, Itsik Pe?er, Ron Shamir, and Dan Graur.
2000.A fast algorithm for joint reconstruction of ancestralamino acid sequences.
Mol.
Biol.
Evol., 17(6):890?896.L.D.
Reynolds and N.G.
Wilson.
2013.
Scribes andScholars, A Guide to the Transmission of Greek & Ro-man literatures.
Oxford University Press.P.
Robinson and R. J. O?Hara.
1996.
Cladistic Analysisof an Old Norse Manuscript Tradition.
Research inHumanities Computing (4).P.
Robinson, A. Barbrook, N. Blake, and C. Howe.
1998.The Phylogeny of The Canterbury Tales.
Nature,394:839.Philipp Roelli and Dieter Bachmann.
2010.
TowardsGenerating a Stemma of Complicated Manuscript Tra-ditions: Petrus Alfonsis Dialogus.
Revue dhistoire destextes, 5(4):307?321.Teemu Roos and Tuomas Heikkil?a.
2009.
Evaluatingmethods for computer-assisted stemmatology using ar-tificial benchmark data sets.
Literary and LinguisticComputing, 24:417?433.M.
Spencer, E. Davidson, A. Barbrook, and C. Howe.2004.
Phylogenetics of artificial manuscripts.
Journalof Theoretical Biology, 227:503?511.Sebastiano Timpanaro.
2005.
The Genesis of Lach-mann?s Method.
University of Chicago, Chicago.Paolo Trovato.
2009.
Everything You Always Wantedto Know about Lachmann?s Method, A Non-StandardHandbook of Genealogical Textual Criticism in theAge of Post-Structuralism, Cladistics, and Copy-Text.libreriauniversitaria.it.P.
T. van Reenen, M. van Mulken, and J. Dyk.
1996.Studies in Stemmatology I.
Studies in Stemmatology.John Benjamins Publishing Company.P.
T. van Reenen, A.
A. den Hollander, and M. vanMulken.
2004.
Studies in Stemmatology II.
Studies inStemmatology.
John Benjamins Publishing Company.K.
Voordeckers, C.A.
Brown, K. Vanneste, E. van derZande, A. Voet, S. Maere, and K. J. Verstrepen.
2012.Reconstruction of ancestral metabolic enzymes revealsmolecular mechanisms underlying evolutionary inno-vation through gene duplication.
PLoS Biol, 10(12).Martin L. West.
1973.
Textual Criticism and EditorialTechnique: Applicable to Greek and Latin texts.
Teub-ner, Stuttgart.Ziheng Yang, Sudhir Kumar, and Masatoshi Nei.
1995.A new method of inference of ancestral nucleotide andamino acid sequences.
Genetics, 141:1641?1650.Ziheng Yang.
2007.
PAML 4: phylogenetic analysis bymaximum likelihood.
Mol.
Biol.
Evol., 24(8):1586?1591.1214
