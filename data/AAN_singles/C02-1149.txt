Entering Text with A FourButton DeviceKumiko TanakaIshii and Yusuke Inutsuka and Masato TakeichiThe University of Tokyo Bunkyoku Hongo Japanfkumiko inu takeichigipltutokyoacjpAbstractThis paper presents the design of a textentry devicethat requires only four buttons Such a device is applicable as the text interface of portable machines andas an interface for disabled people The textentrysystem is predictive the basis for this is an adaptivelanguage model Our evaluation showed that the system is at least as ecient for the entry of free text asthe textentry systems of currentgeneration mobilephones The system requires fewer keystrokes than afull keyboard After adaptation one user reached amaximum speed of  wpm IntroductionElectronic machinery is becoming smaller recent developments in palmtop and mobilephone technologiesoer dramatic examples of this process Since smallermachines are more portable their users have freer access to information Here however the user interfaceis a major issueIf a machine is being used as a medium for persontoperson communications a natural interface mightbe speechbased For other tasks however like browsing through Internet pages or looking up databasesthe most natural tool for control and data entry isstill the keyboardMobile machines oer little surface space so onlya few buttons are available for the entry of text Themost representative form is the use ofkeys for textentry on mobile phones However even smaller machines continue to appear such as watchsized computers It might not be possible to equip such machines with more than four or ve buttons Questions then arise Is it possible to enter text with asmall number of buttons What about four buttonsHow ecient can we make thisOther potential applications for text entry withfour buttons include the control panels of oce machines and household machines Although these machines increasingly contain functions that allow access to the Internet sucient surface space for a fullkeyboard is often not available Another potentialapplication is in textentry interfaces for elderly anddisabled people A reportof Advanced Design ofIntegrated Information Society  indicates thatkeyboard operation is the highest hurdle to the use ofcomputers by the aged The situation is even worsefor people with handrelated disabilities A textentrydevice with four large buttons might facilitate humanmachine communications by such peopleThe idea of decreasing the number of keys onthe keyboard in itself is not new The oldest realization of this idea is the stenotype keyboardsWith the recent popularity of mobile machines researchers have become increasingly interested in onehanded keyboardsMathias et al 	 Most of thework to date in this eld has been related to mobile phones Text entry on currentgeneration devicesremains cumbersome so innovative companiesTegic ZICorp Slangsoft  have proposed predictive methods for the more ecient entryof text by implementing a method that had rst beenproposed some years earlierRau and Skiena 	The results of several studies have veried its eciencyJames and Reischel TanakaIshii et al so the technology looks promising in the context of mobile phonesOur study goes further in decreasing the number ofbuttons than the abovecited studies In our studywe tried various textentry methods and found thepredictive method to be the best As far as we knowno other study that includes the application of a language model has yet been carried out in this contextneither has the eciency of this approach been examined Additionally the major contribution is ourstudy of the potential power of a language model byexamining its actual eciency on a device with fewbuttonsIn the next section we rst show how text is entered via our TouchMeKey keypad An ExampleFigure 		 shows the GUI for the TouchMeKey keypad Nine buttons are visible with four on either sideof the central boxes plus a quit button on the righthand side In this paper we only count those buttonsthat are only used for the entry of characters thatis the four on the righthand side We also imposethe constraint that the buttons may only be pressedone at a time because the inclusion of keychords increases the actual number of buttons by including thecombinations of keysSix or seven letters of the alphabet are assigned toeach of the buttons The no 	 key has abcdef theno  key has ghijkl the no  key has mnopqrsand the no  key has tuvwxyz The small lettersFigure 	 Entering the word technology with theTouchMeKey keypadare assigned to the same keys as the correspondingcapital letters All other ASCII characters other thanthe alphanumeric characters are assigned to the no keySuppose that we have just entered the string human language The text appears in the upper boxin the middle of the windowthe upper textbox inFigure 		 We now wish to enter the word technology Words are entered through a singletappercharacter form of predictive entry a key is onlypressed once to enter a character For example theno  button is pressed once to enter the t of technology To enter the subsequent e the no 	 buttonis pressed onceAfter the no 	 button has been pressed the TouchMeKey window is as shown in Figure 	 Here wesee two dierences from Figure 		 The rst is that	 appears in the box in the middle of the windowThis indicates the string that the user has just entered The second change is that some words have appeared in the lower box in the middle of the windowa listbox that we call the candidatebox Thesewords are the candidate words that correspond to theusers input 	Each press of a button by the user makes the TouchMeKey system automatically search the dictionaryfor candidates The candidates include longer wordsas well as if such words exist words of the samelength as the entered sequence of digits The candidates are thus all words that begin with one letterfrom tuvwxyz followed by one letter from abcdefFor example text was and vendors are candidates as is the twocharacter candidate weThe numerous candidates are sorted into an orderbefore they are placed in the candidate box and shownto the user The order is according to word probability as determined on the basis of PPMpredictionby partial match which has been proposed in theinformationtheory domain A detailed description isgiven in x but we summarize the methods essencehere as part of our explanation of Figure 	 The relevance of each candidate is measured by statistics fromtwo sourcesBase dictionary the unigram statistics collectedfrom a huge corpus of newspaper data andUser corpus the ngram statistics obtained from asmall personal document supplied by the userIn this example the Base dictionary is constructedfrom one year of issues of the Wall Street JournalWSJ that contains dierent words and theUser Corpus is a computer magazine that containswords The particular User corpus is the reasonfor the appearance of the relatively uncommon wordvendors among the top ve candidatesFigure 	Our target technology appears as the secondranked candidate In selecting this word the userhighlights it by using the down button on the leftNote that the most recently pressed button is framed by athick linehand side of the windowFigure 	 and then pressesthe enter buttonFigure 	 We see that the selected candidate now appears in the upper textboxIn describing our realization of the TouchMeKeysystem outlined above the following four questionsare discussed in the remainder of this paperInterface Is some method other than that describedabove suitable for text entry with a fourbuttondeviceCandidate Estimation How can the system estimate the relevance of each candidateKey Assignment How should characters be assigned to the individual buttonsNumber Of Keys What is the minimum number ofkeys required Is the entry of free text with onlytwo buttons reasonably ecient InterfaceVarious methods for the entry of text via a fourbutton device are conceivable The biggest choice iswhether or not to adopt a predictive method NonPredictive Entry MethodsLets start by considering the case where we dontadopt prediction This means that we need to enablethe exact entry of the individual characters via thefour buttons One method of this type involves assigning an order to the characters on each key a keyis then pressed i times to obtain the ith characterwe call this the multitap method This method iscommonly applied on mobile phonesHowever there are two problems with this methodFirstly the user often needs to press a key numeroustimes to obtain a single target character Secondlythere is an ambiguity in the user action when twocharacters assigned to the same button are to be entered one after anotheraa requires the entry of 		that can also be b This situation requires the useof an escapeA second possible method is to press a rst buttonto select it and then enter the number i to select theith character which is assigned to the rst buttonFor example on many mobile phones o is obtainedby pressing the no  key and then the no  keysince o is the third letter on the no  key Howeverif the number of letters on each key is greater thanthe number of keys entry of the higher i values isimplausibly dicult With the TouchMeKey systemfor example a system for the easy entry of fth andsixth characters etc is not possibleIn short the free entry of text turns out to be toodicult with a fourbutton device unless we adoptAs with any system where a predictive method is appliedthe weak point of TouchMeKey is the processing of unknownwords which do not appear in the dictionary Therefore itis important that the Base dictionary contains a rich vocabulary When however an unknown word occurs it may still beentered character by character by using the methods describedinx or the system may be connected with a larger dictionaryvia a networkTable 	 Data used in this workname WSJ ZIFF JAusage base user userdictionary corpus corpusdomain newspaper computer scienticmagazine paperTotal no wrds  million wrdsNo di wrdsthousand wrdsWrds in common   with BaseDictionary Wrds Avr len   LavrTest document  	no wrdsNo di wrds   in test docprediction This is so even for the case of English thewritten form of which has relatively few charactersand is even more so for languages with large numbersof characters such as Chinese Japanese or Thaicharacters We are thus obliged to use prediction Predictive Text entryGenerally there are two ways to predict candidatesThe rst is the singletap method The earliestappearance of this idea was at the beginning of thes in Japan in discussions of processing systemsfor Japanese textCoLtd 	 more recent workhas been concerned with mobile phonesJames andReischel TanakaIshii et al The second way is prediction by prefix Given auser input the system searches for words with thecorresponding prefixThis method of collecting candidates to be oeredto the user has been particularly successful in the entry of Chinese text The method has also been appliedto certain textentry systems in the manmachine interface domain tooMasui 	As the description of x indicates the combinationof the two methods is adopted in our TouchMeKeysystem It thus needs to process many candidatesfor a single user entry The mechanism of estimatinglevels of relevance for the words is explained in thenext section Applying an Adaptive LanguageModel in Candidate EstimationAs was summarized in x the PPMprediction bypartial match framework is used by TouchMeKeyto estimate the relevance of candidates Its characteristic is that the word distribution is adapted to thestyle of the users corpusPPM was originally proposed as an adaptive language model for use in improving the compressionrates of arithmetic coding The estimation of probabilities by PPM thus guarantees a lowering of theentropy of the language model PPM has successfullybeen adapted to the userinterface domain in certainprevious worksTanakaIshii et al Ward et alBroadly PPM interpolates the ngram counts inthe user corpus and the statistics in the base dictionary The following formula is used to estimate aprobability for the ith word wi PwiPwi kmaxXkukPkwiHere k the order indicates the number of words before withat are used in the calculation of PkwiFor example Pwi is estimated on the basis of theoccurrence of wiand wi Pkwi is calculated asPkwi ckwiCkwhere Ckis the frequency of the order k as a contextand ckwi is the frequency with which wioccurs inthat context Pkwi when k  	 describes a baseprobability that is obtained from the base dictionaryFor other k Pkwi is calculated from statistics obtained from User corpus Finally ukis a weightingprobability that is multiplied to Pkwi to obtain thenal Pwi Of the many studies of ukTeahan we have chosen PPMABell et al 	 the simplest because our preliminary experiments showed nosignicant dierence in performance among the methods we triedWe decided to utilize this PPM framework becausethe context is the most suitable item of informationfor the elimination of irrelevant candidates Smallmachines are in a personal context and oce andhousehold machines are used in particular contextsWith this method the language model is adaptableon the y This is achieved by simply accumulatingthe users newly entered text at the end of the usercorpusIn this paper the Base dictionary contains the unigram probabilities obtained from Wall Street Journalas was explained in x We prepared various Usercorpora three in English three in Japanese and twoin Thai Of these the characteristics of two of theEnglish User corpora that are used in x are given inTable 	 Key AssignmentThe assignment of characters to the respective buttons is one determinant of the eciency of text entry For example if all characters from a to w areassigned to the rst key and x y and z are respectively assigned to the second third and fourthkeys the performance in word prediction will clearlybe bad The problem of key assignment remains evenwhen we have eliminated such extreme possibilitiesTable  Key assignments and entropyNKLab Groups of characters Entropy  SSabcdefghijklmnopqrstuvwxyz A abcdefghijklmnoSpqrsStuvwxyz B SSabcdefghijklmnopqrstuvwxyz C SmnoabcpqrsdeftuvghiwxyzjklS A abcdefghijklmnopqrstuvwxyzSS B SabcdefghijklmnopqrstuvwxyzS C SjklabcmnodefpqrstuvghiqxyzS A SabcdefghijklmnopqrstuvwxyS B SghipqrsabcjkltuvdefmonqxyzS C SjklpqrstuvabcdefmnoghiwxyzSSabcdefghijkl	mnopqrstuvwxyzSbecause there are many plausible assignments Wethus need to be able to measure the performance of akey assignmentOne way to measure this is to experimentally decide it by automatically entering some documentsaswill be described in the x later in this paper However the result of such a test is dependent on the testdocument which is used Lowerlevel settings suchas key assignments should as much as is possible befor generalpurpose useHaving key sequences as C and the target wordas W  the task of the system is to estimate a betterW from C Information theory provides us with atool for estimating the uncertainty of this task theaverage conditional entropy The denition of thisquantity HW jC is given byHW jC wcPC  cHW  wjC  c wcPC  cW  wlogPW  wjC  cwhere PC  c is the probability of the input sequence c and PW  wjC  c is the conditionalprobability of words for the given c When the estimation of W is less certain HW jC has a largervalue The lower the entropy the less uncertain theestimation of the word Therefore the conditionalentropy is suitable as a method for the evaluation ofkey assignmentsOne other factor that we need to consider at thispoint is the order of the alphabet English has analphabet order that even children know If this orderis neglected and the letters ajxgukh are assigned toa given key the interface will become dicult for thebeginners although it might be the most ecient fora welltrained user Therefore the key assignmentshad better reect such linguistic traditionWe took this into consideration in generating somepossible key assignments Table  is a list of the assignments and their values of conditional entropy ascalculated on the basis of one year of issues of WSJThe rst column shows the total number of keysbelow denoted by NK We here consider the situations where there are ve three and two as well asfour buttons The second column gives a label foreach of the key assignments In the third columnthe characters to be assigned to the respective buttons are grouped in parentheses For example Aindicates an assignment to four keys with abcdef assigned to the rst button ghijkl to the second button mnopqrs to the third and tuvwxyz and otherASCII symbols to the fourth The capital letters areassigned to the same keys as the corresponding smallletters Sand Sindicates the nonalphabetic ASCIIsymbols Note that A corresponds to the TouchMeKey assignment which we saw in Figure 		 Thegroupings with the label C are more random thanthose with other twoIn general entropy values fall as the number of keysincreases This is a readily comprehensible result alarger number of keys eases the task of estimationthus making it less uncertain When we compare thevalues for assignments to the same numbers of keyswe see that the entropy values dier considerably Forexample the entropy of B indicates more uncertainty than the other x assignments The entropyvalue is the same as for A although the number ofkeys in use is dierentthis is comprehensible whenwe look at the similar character groupings of A andBIn this paper we evaluate the use of key assignments with the label A on TouchMeKey since theyhave lower entropy values than the other settings Evaluation Number of KeystrokesWe attached an automatic textentry routineto TouchMeKey and measured the numbers ofkeystrokes that are needed per word The numberof keystrokes is the sum of the keystrokes requiredfor the input and selection operations Keystrokesfor selection are counted to be n when choosing thenthcandidateIn the prediction of words there are multiple pointswhere the target word may be chosen For example inFigure 	 the word technology appears as the secondbest choice after the user has typed in 	 The usermay select the target at this point or type in another	 to indicate the c and increase the targets rankThe automatic routine only chooses the target afterit has appeared as the best candidate otherwise theThese symbols are categorized into two groups accordingto the categorization used on mobile phones4681012141618200 5000 10000 15000 2000Avr.No.of keystrokes/ wordlearning data size(words)"baseline""2keys""3keys""4keys""5keys""10keys"Figure  No keystrokes with learning of ZIFF468101214160 5000 10000 15000 2000Avr.No.of keystrokes/ wordlearning data size(words)"baseline""2keys""3keys""4keys""5keys""10keys"Figure  No keystrokes with learning of JAroutine continues to enter the word When the fulllength of the word has been entered the target wordof the current ranking is chosenFigure  and  show the relation between theamount of learning datahorizontal axis and thenumber of keystrokes per wordvertical The testdocument is indicated in Tableth row Data ofthe same kind but from dierent positions in the testdata are used for the learning data and the test dataThe respective lines indicate learning when NKis    and  The larger the NK the lowerthe line The horizontal solid linearound  tapsper word indicates the baseline the average number of keystrokes needed to process a single word ona full keyboard This is calculated as Lavrin Table 	for space Note that TouchMeKey automatically enters the spaceWhen there is no learning data TouchMeKeyneeds far more keystrokes than the baseline However after the learning of ten thousand words thenumber of keystrokes goes below the baseline whenNK In order to see the results at macroscopic scale Table  shows the results after the learning ofthousand words The values indicate perword keystrokesand the percentages in the parentheses show the raTable  No keystrokes per word with learning ofwords of the user corpustotal number ZIFF JAof keysNK 	  	   	 		tios by which the numbers of keystrokes decrease ascompared with the case of no learning of a user document We see that the numbers of keystrokes arereduced by about for both ZIFF and JA WhenNK  the value falls to around 	 Since Lavris around  TouchMeKey provides a reduction innumbers of keystrokes of almost   as comparedwith a full keyboard Supercially this looks like asmall gain However it is surprising that even with buttons text may be entered with fewer keystrokesthan with a full keyboardWhen NK  on the other hand the number ofkeystrokes remains at around per word Therefore when NK the system requires a larger number of keystrokes than the baselineTouchMeKey also runs in Japanese and Thai sowe executed analogous experiments with those languages We obtained very similar graphs in thesecases To resume here are our observations acrossthree languages Learning is indispensable for systems with smallNKvalues to perform better than the baseline However a large amount of learning data isnot necessarytext with ten thousand words isenough When NK  the number of keystrokes doesnot fall below the baseline SpeedEight subjects were hired to test TouchMeKey threein English three in Japanese and two in Thai Twoof the subjects for the English are native speakers ofJapanese The other subjects were the native speakers of the languages in the respective testsThe subjects were told to dosessions of testing Each session is minutes long the subject wastold to continue to enter the given text as quickly aswas possible and without pausing during each of thesessions The vocabulary of the given text is solelyfrom the learned user corpus TouchMeKey learnedathousandword user corpus before it was handedto the subjects For the text entry they were givenhardware controllers that work with TouchMeKeyFigure  gives the results on speed The horizontalaxis describes the sessions and the vertical axis showsthe average numbers of words per minutewpm ineach session The respective lines indicate the speed46810121416182022241 2 3 4 5 6 7 8 9 10speed(wpm)session"English-1""English-2""English-3""Japanese-1""Japanese-2""Japanese-3""Thai-1""Thai-2"Figure  Speedof the subjects over time After  hours training entry by each of the subjects was at some rate above wpm The speed of entry by the multitappingmethod on a mobile phone is in the range from  towpmJames and Reischel  so TouchMeKeyobviously allows higher rates of text entry Furthermore the speeds are comparable to those obtainedwith the singletapping method on mobile phonesto  wpmJames and Reischel  One subjectset the record reaching  wpmThis speed is comparable to that of an expert withthe singletapping method Predictive text entry thusprevented deterioration of performance despite thenumber of buttons being decreased fromto With regard to human learning the more highlythe subject was trained the faster he or she becameThe speeds of some subjects who had had dicultiesat the beginning of the tests had doubled by the endLanguagebylanguage comparison reveals thatJapanese text entry was fastest Although the entropy value for Japanese is by far greater than thevalues for Thai and Englishfor Japanese and	 for Thai the Japanese subjects managed wellwith TouchMeKey because they are accustomed tothe use of predictive text entry in kanakanji conversionWe must admit that TouchMeKey places a heaviercognitive load on users than does text entry via afull keyboardto wpm or a stylus and virtualkeyboard wpmZhai et al  However weregard the speed as satisfactory in comparison withthose achieved by using singletapbycharacter entrysystems on mobile phones ConclusionWe have presented TouchMeKey a text entry devicethat requires only four buttons and aspects of its design and testing Several characters of the alphabetare assigned to each of four buttons and the user enters a document with the aid of a predictive textentrysystem The device is realized by software that estimates the word that most probably corresponds withthe user input The estimate is based on an adaptivestatistical language model Firstly a base model isconstructed from a large body of text from newspapers the model is then adapted to the local contextby using a smaller user corpus of  thousand wordsOur evaluation shows that text entry with this system is as ecient as text entry on a mobile phoneThe number of keystrokes is reducible to a numberbelow that required on a full keyboard The averagespeed of our test subjects was  words per minuteand the fastest subject recordedwpm We also discussed the possibility of entering text via even fewerkeys eg three keys However the usability of athreekey device turned out to be questionable because the number of keys needed to enter text becomes largeOur future direction will be to investigate the actual application of the system on smaller machinesand to develop a textentry system for use by elderlyand disabled peopleReferencesTC Bell TG Cleary and TH Witten  TextCompression Prentice HallToshiba CoLtd 	 Japanese entry system InJapanese Patent  in JapaneseC James and K Reischel 	 Text input for mobile devicesComparing model prediction to actualperformance In Proceedings of the Annual SIGCHIConferenceT Masui  Po box an ecient text inputmethod for handheld and ubiquitous computers Inthe ACM Symposium on User Inter	ace Softwareand Technology pages E Mathias IS MacKenzie and W Buxton Onehanded touch typing on a qwerty keyboardIn Human Computer Interaction volume  pagesResearch Association of Advanced Design ofIntegrated Information Society 	httpwwwpreftoyamajpsectionsmatsplankadaikinH Rau and S Skiena  Dialing for documentsan experiment in information theory InUISTSlangsoft 	 Slangsoft home pagehttpwwwslangsoftcomK TanakaIshii Y Inutsuka and M Takeichi 	Japanese input system with digitsCan Japanesebe input only with consonants In Human Language Technology Conference K TanakaIshii Y Inutsuka and M Takeichi 	Personalization of text input systems for mobilephones In NLPRSWJ Teahan 	 Probability estimation for ppm In NZCSRSChttpwwwcswaikatoacnz wjtpapersNZCSRSCpsgzTegic  	 Tegic  home pagehttpwwwtcomD Ward AF Blackwell and DJC MacKay 	Dashera data entry interface using continuous gestures and language models In the ACM Symposium on User Inter	ace Software and Technologypages 	S Zhai M Hunter and BA Smith 	 Themetropolis keyboard an exploration of quantitativetechniques for virtual keyboard design In UISTZICorp 	 ZI home page Available fromhttp	
