Proceedings of the 9th SIGdial Workshop on Discourse and Dialogue, pages 76?79,Columbus, June 2008. c?2008 Association for Computational LinguisticsLearning Contrastive Connectives in Sentence Realization RankingCrystal NakatsuDepartment of LinguisticsThe Ohio State UniveristyColumbus, OH, USAcnakatsu@ling.osu.eduAbstractWe look at the average frequency of con-trastive connectives in the SPaRKy RestaurantCorpus with respect to realization ratings byhuman judges.
We implement a discriminativen-gram ranker to model these ratings and ana-lyze the resulting n-gram weights to determineif our ranker learns this distribution.
Surpris-ingly, our ranker learns to avoid contrastiveconnectives.
We look at possible explanationsfor this distribution, and recommend improve-ments to both the generator and ranker of thesentence plans/realizations.1 IntroductionContrastive discourse connectives are words orphrases such as however and on the other hand.They indicate a contrastive discourse relation be-tween two units of discourse.
While corpus-basedstudies on discourse connectives usually look at nat-urally occurring human-authored examples, in thisstudy, we investigate the set of connectives usedin the automatically generated SPaRKy RestaurantCorpus1.
Specifically, we consider the relationshipbetween connective usage and judges ratings, andinvestigate whether our n-gram ranker learns thepreferred connective usage.
Based on these findingsand previous work on contrastive connectives, wepresent suggestions for modifying both the genera-tor and the ranker in order to improve the generationof realizations containing contrastive connectives.1We thank Marilyn Walker and her research team for mak-ing all of the MATCH system data available for our study, espe-cially including the SPaRKy Restaurant Corpus.2 Corpus Study2.1 SPaRKy Restaurant CorpusThe SPaRKy Restaurant Corpus was generated bythe MATCH Spoken Language Generator (Walker etal., 2007) which consists of a dialog manager, SPURtext planner (Walker et al, 2004), SPaRKy sentenceplanner (Walker et al, 2007), and RealPro surfacerealizer (Lavoie and Rambow, 1997).The corpus contains realizations for 3 dialoguestrategies:?
RECOMMEND (REC): recommend an entity froma set of entities?
COMPARE-2 (C2): compare 2 entities?
COMPARE-3 (C3): compare 3 or more entitiesEach strategy contains 30 content plans fromwhich either 16 or 20 sentence plans were generatedby the SPaRKy sentence plan generator.
4 sentenceplans were discarded due to duplication upon real-ization, totaling 1756 realizations in the corpus.2A content plan consists of several assertions andthe relations which hold between them.
Con-tent plans from the RECOMMEND strategy ex-clusively employ the Rhetorical Structure Theory(RST) (Mann and Thompson, 1987) relation JUS-TIFY while those from COMPARE-2 use CONTRASTand ELABORATION.
COMPARE-3 content plansconsists mostly of CONTRAST and ELABORATIONrelations, though some use only JUSTIFY.
In addi-2The total number of realizations reported here is inconsis-tent with the information reported in (Walker et al, 2007).
Incorresponding with the authors of that paper, it is unclear whythis is the case; however, the difference in reported amounts isquite small, and so should not affect the outcome of this study.76Strategy Alt # Rating Rank Realization3 3 7 Sonia Rose has very good decor but Bienvenue has decent decor.7 1 16 Sonia Rose has very good decor.
On the other hand, Bienvenue has decent decor.8 4.5 13 Bienvenue has decent decor.
Sonia Rose, on the other hand, has very good decor.C2 10 4.5 5 Bienvenue has decent decor but Sonia Rose has very good decor.11 1 12 Sonia Rose has very good decor.
However, Bienvenue has decent decor.13 5 14 Bienvenue has decent decor.
However, Sonia Rose has very good decor.14 5 3 Sonia Rose has very good decor while Bienvenue has decent decor.15 4 4 Bienvenue has decent decor while Sonia Rose has very good decor.17 1 15 Bienvenue?s price is 35 dollars.
Sonia Rose?s price, however, is 51 dollars.
Bienvenue has decent decor.However, Sonia Rose has very good decor.Figure 1: Some alternative [Alt] realizations of SPaRKy sentence plans from a COMPARE-2 [C2] plan, with averagedhuman ratings [Rating] (5 = highest rating) and ranks assigned by the n-gram ranker [Rank] (1 = top ranked).tion, the SPaRKy sentence plan generator adds theINFER relation to assertions whose relations werenot specified by the content planner.During the sentence planning phase, SPaRKy or-ders the clauses and combines them using randomlyselected clause-combining operations.
During thisprocess, a clause-combining operation may insert 1of 7 connectives according to the RST relation thatholds between two discourse units (i.e.
insertingsince or because for a JUSTIFY relation; and, how-ever, on the other hand, while, or but for a CON-TRAST relation; or and for an INFER relation).After each sentence plan is generated, it is real-ized by the RealPro surface realizer and the result-ing realization is rated by two judges on a scale of1-5, where 5 is highly preferred.
These ratings arethen averaged, producing a range of 9 possible rat-ings from {1, 1.5, ..., 5}.2.2 Ratings/Connectives CorrelationFrom the ratings of the examples in Figure 1, wecan see that some of the SPaRKy sentence plan re-alizations seem more natural than others.
Upon fur-ther analysis, we noticed that utterances containingmany contrastive connectives seemed less preferredthan those with fewer or no contrastive connectives.To quantify this observation, we calculated the av-erage number of connectives (aveci) used per real-ization with rating i, using aveci = Totalci/Nri ,where Totalci is the total number of connectives inrealizations with rating i, and Nri is the number ofrealizations with rating i.We use Pearson?s r to calculate each correlation(in each case, df = 7).
For both COMPARE strategies(represented in Figure 2(a) and 2(b)), we find a sig-nificant negative correlation for the average numberof connectives used in realizations with a given rat-ing (C2: r = ?0.97, p < 0.01; and C3: r = ?0.93,p < 0.01).
These correlations indicate that judges?ratings decreased as the average frequency of theconnectives increased.Further analysis of the individual correlationsused in the comparative strategies show that there isa significant negative correlation for however (C2:r = ?0.91, p < 0.01; and C3: r = ?0.86,p < 0.01) and on the other hand (C2: r = ?0.89,p < 0.01; and C3: r = ?0.84, p < 0.01) in bothCOMPARE strategies.
In addition, in COMPARE-3,the frequencies of while and but are also signifi-cantly and strongly negatively correlated with thejudges?
ratings (r = ?0.86, p < 0.01 and r =?0.90, p < 0.01, respectively), though there is nosuch correlation between the use of these connec-tives and their ratings in COMPARE-2.Added together, all the contrastive connectivesshow strong, significant negative correlations be-tween their average frequencies and judges?
ratingsfor both comparative strategies (C2: r = ?0.93,p < 0.01; C3:r = ?0.88, p < 0.01).Interestingly, unlike in the COMPARE strategies,there is a positive correlation (r = 0.73, p > 0.05)between the judges?
ratings and the average fre-quency of all connectives used in the RECOMMENDstrategy (see Figure 2(c)).
Since this strategy onlyuses and, since, and because and does not utilize anycontrastive connectives, this gives further evidencethat only contrastive connectives are dispreferred.2.3 N-gram Ranker and FeaturesTo acertain whether these contrastive connectivesare being learned by the ranker, we re-implementedthe n-gram ranker using SVM-light (Joachims,770.00.51.01.52.02.5 11.522.533.544.55RatingAverage Number of Connectives perutterance(a) Compare 20.01.02.03.04.05.06.07.0 11.522.533.544.55RatingAverage Number of Connectives perutterance(b) Compare 300.20.40.60.811.21.4 11.522.533.544.55RatingAverage Number of Connectives perutterance(c) Recommend00.20.40.60.811.21.4 11.522.533.544.55RatingAverage Number of Connectives perutteranceand howeverhand while but since because contrastivetotalFigure 2: Correlation Graphs: The thick solid line indicate the correlation of all the connectives summed together,while the thick dashed line indicates the correlation of the 4 contrastive connectives summed together.Strategy however o.t.o.h while but all contrastivesC2 25.0% 25.0% 0.9% 2.7% 53.6%C3 9.9% 10.9% 0.0% 3.1% 24.0%Table 1: The proportion of the 20% most negativelyweighted features for all contrastive connectives.2002).
As in Walker et.
al (2007), we first pre-pared the SPaRKy Restaurant Corpus by replacingnamed entity tokens (e.g numbers, restaurant names,etc.)
with their corresponding type (e.g.
NUM for61), and added BEGIN and END tokens to mark theboundaries of each realization.
We then trained ourranker to learn which unigrams, bigrams, and tri-grams are associated with the ratings given to therealizations in the training set.Although we implemented our ranker in order tocarry out an error analysis on the individual fea-tures (i.e.
n-grams) used by the ranker, we alsofound that our n-gram ranker performed compara-bly (REC: 3.5; C2: 4.1; C3: 3.8)3 to the full-featuredSPaRKy ranker (REC: 3.6; C2: 4.0; C3: 3.6) out ofa possible best (human-performance) score of (REC:4.2; C2: 4.5; C3: 4.2).Using a perl script4, we extracted feature weightslearned by the ranker from the models built dur-ing the training phase.
After averaging the featureweights across 10 training partitions, we examinedthe top 20% (C2:112/563 features; C3: 192/960features) most negatively weighted features in eachstrategy to see whether our ranker was learning toavoid contrastive connectives.
Table 1 shows thatfeatures containing contrastive connectives make up3These scores were calculated using using the TopRankevaluation metric (Walker et al, 2007).4written by Thorsten Joachims53.6% of the 20%most negatively weighted featuresin COMPARE-2 and 24.0% of the 20% of the mostnegatively weighted features used in COMPARE-3.Interestingly, COMPARE-2 features that containedeither however or on the other hand (o.t.o.h) makeup the bulk of the contrastive connectives found inthe negatively weighted features, mirroring the re-sults of the correlations for COMPARE-2.
This indi-cates that the discriminative n-gram ranker learns toavoid using contrastive connectives.3 Contrastive Connectives Usage3.1 Usage RestrictionsPrevious work on contrastive connectives havefound that these connectives often have different re-strictions on their location in the discourse struc-ture, with respect to maintaining discourse coher-ance (Quirk et al, 1972; Grote et al, 1995).Quirk et.
al.
(1972) classifies however and onthe other hand as subordinating conjuncts, a classof connectives that do not allow their clauses to bereordered without changing the perlocutionary forceof the sentence (e.g.
contrast C2: Alts # 11 & 13 inFigure 1).
In addition, on the other hand promptsreaders to regard the 2nd clause as more important(Grote et al, 1995).
Given that both however andon the other hand contain the same restrictions onclause ordering, it seems reasonable that they wouldpattern the same with respect to assigning clausalprominence.
This predicts that if the human judgesrated the SPaRKy realizations based on the expecta-tion of a particular perlocutionary act (e.g., that thecomparison highlights the restaurant with the bestdecor), they would prefer realizations where how-ever or on the other hand were attached to the more78desirable of the contrasted qualities.
When we ex-amine the SPaRKy realizations and ratings, this in-deed seems to be the case ?
when the better propertyis ordered last, the realization was rated very highly(e.g.
Alt 8 & 13 in Figure 1), but when the lesserproperty was ordered last, the realization was ratedpoorly (e.g.
Alt 7 & 11 in Figure 1).In contrast, while and but are not subordinatingconjuncts and so are not subject to the clause or-dering restriction.
Thus, realizations with their con-trasted clauses in either order should be rated simi-larly, and indeed, this is what we find in the corpus(e.g.
Alts 3&10, and 14&15 in Figure 1).3.2 Other FactorsIn addition to clause order, another factor that maycontribute to the awkwardness of however and onthe other hand in some usages is that both of theseconnectives seem to be rather ?grand?
for these sim-ple contrasts.
Intuitively, these connectives seemto indicate a larger contrast than while and but, sowhen they are used to indicate small contrasts (e.g.contrasting only one quality), or contrasts close to-gether on the scale (e.g.
good vs. decent) insteadof diametric opposites, they sound awkward.
In ad-dition, however and on the other hand may also beseeking ?heavy?
arguments that contain more syl-lables, words, or complex syntax.
Lastly, human-authored comparisons, such as in this example fromCNET.com:...[it] has two convenient USB ports at the bottom of thefront panel.
Its beige predecessor, on the other hand,supplied these only on the back of the box.seem to indicate that when our expectations of ar-gument order are violated, the 2nd clause is oftenqualified by words such as ?just?
or ?only?, as if toacknowledge the flaunted preference.4 Discussion and Future WorkDue to the poverty of highly rated instances of con-trastive connective usage (particularly for howeverand on the other hand), our ranker learns to avoidthese connectives in most situations.
However, theratings suggest that people do not dislike these con-trastives unilaterally, but rather prefer them in spe-cific usage patterns only.
One way to combat thisproblem is to modify the sentence planner to takeinto account these semantic preferences for argu-ment ordering when selecting a contrastive connec-tive.
This should produce a wider variety of can-didates that observe this ordering preference, andthus provide the ranker with more highly rated can-diates that use contrastive connectives.
This is notto say that only candidates observing this preferenceshould be generated, but merely that a wider varietyof candiates should be generated so that the rankerhas more opportunities to learn the restrictions sur-rounding the use of contrastive connectives.As for the ranker, we can also identify featuresthat are sensitive to these linguistic properties.
Cur-rently, n-gram features don?t capture the semanticnuances such as argument order or the scalar dis-tance between property values, so identifying fea-tures that capture this type of information shouldimprove the ranker.
Together, these improvementsto both the quality of the generated candidate spaceand the ranking model should improve the accuracyof the top-rated/selected candidate.ReferencesB.
Grote, N. Lenke, and M. Stede.
1995.
Ma(r)king con-cessions in english and german.
In Proceedings of theFifth European Workshop on Natural Language Gen-eration., May.Thorsten Joachims.
2002.
Optimizing search enginesusing clickthrough data.
In Proc.
KDD.B.
Lavoie and O. Rambow.
1997.
A fast and portablerealizer for text generation systems.
In Proceedingsof the 5th.
Conference on Applied Natural LanguageProcessing, pages 265?268, San Francisco, CA, USA.Morgan Kaufmann Publishers Inc.William C. Mann and Sandra A. Thompson.
1987.Rhetorical structure theory: A theory of text organiza-tion.
Technical Report ISI/RS-87-190, University ofSouthern California Information Sciences Instuture.R.
Quirk, S. Greenbaum, G. Leech, and J. Svartvik.
1972.A Comprehensive Grammar of the English Language.Longman.M.
A. Walker, S. J. Whittaker, A. Stent, P. Maloor, J. D.Moore, M. Johnston, and G Vasireddy.
2004.
Genera-tion and evaluation of user tailored responses in multi-modal dialogue.
Cognitive Science, 28(5):811?840.M.
Walker, A. Stent, F. Mairesse, and Rashmi Prasad.2007.
Individual and domain adaptation in sentenceplanning for dialogue.
Journal of Artificial Intelli-gence Research (JAIR), 30:413?456.79
