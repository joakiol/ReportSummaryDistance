INTERPRETING SYNTACTICALLY ILL-FORMED SENTENCESLeonardo LESMO and Pietro TORASSODipartimento di Informatica - Universita' di TorinoCorso Massimo D'Azeglio 42 - 10125 Torino - ITALYABSTRACTThe paper discusses three different kinds ofsyntactic ill-formedness: ellipsis, conjunctions,and actual syntactic errors.
It is shown how a newgrammatical formalism, based on a two-level repr_esentation of the syntactic knowledge is used to copewith Ill-formed sentences.
The basic control structure of the parser is briefly sketched; the papershows that it can be applied without any substantial change both to correct and to ill-formed sentences.
This is achieved by introducing a mechanismfor the hypothesization of syntactic structures,which is largely independent of the rules definingthe well-formedness.
On the contrary, the secondlevel of syntactic knowledge embodies those rulesand is used to validate the hypotheses emitted bythe first level.
Alternative hypotheses are obtained, when needed, by means of local reorganizationsof the parse tree.
Sentence fragments are handledby the same mechanism, but in this case the secondlevel rules are used to detect the absence of one(or more) constituents.INTRODUCTIONIn the last years we have been involved inbuilding a natural language (Italian) interface toward a relational database.
Even if this researchrequired to consider issues relative to knowledgerepresentation (Lesmo et al83) and query optimization (Lesmo et al in press), our main concern wasto devise efficient parsing techniques (Lesmo et al81, Lesmo & Torasso 83).The term "efficient", when applied to languageprocessing, can take a number of different meanings,ranging from pure processing speed to the abilityto analyze fragments of text, to the flexibilitythat characterizes the behavior of the parser.
Webelieve that all facets of efficiency are worth being pursued, but if the communication between theman and the machine has to occur in a really natural fashion, the robustness of the parser, i.e.
itsability to cope with unforeseen inputs must receivethe greatest attention.
It is important to realizethat "unforeseen" is assumed her to refer to thesyntactic form of the input sentence: of course,also inputs that are unexpected from a semanticpoint of view should be handled properly, but,since usually the syntactic knowledge acts as a filter between the reception of the input and the subsequent stages of the analysis, the first problemthat must be faced is the following: how can theparser be prevented from rejecting sentences thatare syntactically ill-formed, but could be interpr_eted correctly if they are passed to the other comp2nents of the system?Alternatively, the problem can be stated as:how to foresee every interpretable input?
Marcus(1982) envisages the following alternatives:a) the use of special "un-grammatical" rules, whichexplicitly encode facts about non-standard usageb) the use of "meta-rules" to relax the constraintsimposed by classes of rules of the grammarc) allowing flexible interaction between syntax andsemantics, so that semantics can directly analyze substrings of syntactic fragments or individual words when full syntactic analysis fails.Even if we agree in stating the importance of astrong interaction between syntax and semantics,our approach is quite different from c) (aswell as from the other ones).
For this reason, andin spite of the fact that a detailed description ofthe parser's operating principles has been givenelsewhere (Lesmo & Torasso 83), the next section isdevoted to an introduction to the basic ideas thatled to the design of the syntactic knowledge source.The subsequent sections will cover some phenomenawhich are related with ill-formedness of sentences,namely: ellipsis, conjunctions, and some types ofactual syntactic errors.GRAMMARS AND NATURAL LANGUAGEIt is widely accepted (see Charniak 81) thatsyntactic knowledge consitutes one of the foundations needed to build natural language interpreters.Various kinds of grammatical formalisms have beendevised to represent in efficient, flexible and pe\[spicuous way the syntactic knowledge (Winograd 83).Even if the formalisms are quite different, themain characteristic shared by all grammars is thatthey are prescriptive (or normative) in nature.
Agrammar defines what a sentence is, that is it spe~534what sequences of words are acceptable.
This is insharp contrast with the normal use of language,which has, as its main purpose, the communicationof something.
Of course all grammars can be (andhave been) augmented in order to build a representation of the meaning of the sentences (i.e.
something that should be able to carry most of its tommunicative contents), but a meaning can only be obtained for correct sentences.Some efforts have recently been devoted to extending the coverage of grammars, in order to dealalso with ill-formed sentences (Kwasny & Sondheimer81, Weischedel & Sondheimer 82, Granger 82).
Thisis usually done by relaxing the constraints imposedby some rules of the grammar, by adding new rulesto take care of some kinds of ill-formedness, or byallowing the semantics to intervene when the sy~tax is not able to process the input.
However, mostof these approaches present some problems: eitherthe perspicuousness and the readibility of the grammar is reduced or the control structure of the analyser is made considerably more complex.The sources of ill-formedness can be groupedin three classes: ellipsis, conjunctions, and syntactic errors.In the case of ellipsis, a fragment such as"John" or "probably" can be understood by a humanlistener without any particular difficulty, prov!dad that a particular context is given.
On the other hand, it is apparent that those fragments arenot consistent with the rules defining the well-formed sentences.Similar problems arise in case the grammar attempts to cope with conjunctions.
In general, ellipsis is meaningful just in case a context externalto the expression to analyse is assumed to exist.The situation with conjunctions is rather different:in some sense, the context that must be used to interpret a conjunct is given by the previous conjunet(s), so that it is expressed inside the sentence that has to be analysed.
The difficulty inthe analysis of conjunctions depends on the factthat not only the second conjunct is often ill-formed (if it is considered as a standing-alone sentence), but it is the particular form of ill-formedhess that provides the analyzer with the piece ofinformation needed to decide what is the syntacticrole of that conjunct (or, if we assume that the result of the syntactic analysis is represented inform of a tree, to decide where the constituent expressed by the conjunct has to be appended in thesyntactic tree).
For this reason, in the followingsentences the second conjuncts have quite differentroles:John loves Mary and Susy (i)John loves Mary and Susy Fred (2)John loves Mary and hates Violet (3)Thus, as in the case of ellipsis, a syntactic analyser designed to handle conjunctions must be ableto operate on ill-formed fragments, but with theadditional difficulty of modifying the parse treeon the basis of the type of ill-formedness.The last source of ill-formedness that we willconsider are the syntactic errors.
Differentlyfrom the previous cases, it is almost impossible tolist all possible mistakes that a person could makein writing a sentence.
Probably, most of them cannot be considered as syntactic errors (e.g.
misspe!ling of words or wrong markers for a given case ofa verb), but there are also errors that have purelysyntactic grounds.
Some noticeable examples areagreement errors, ordering errors and errors inverb tenses.
An examples of each of them is reported below:John love Mary (4)John is going probably to home (5)Yesterday I have eaten a good cake (6)Even if a more detailed discussion appears in thefifth section of this paper, it is worth notinghere three points:- most native English speakers will probably nevermake such errors, but, firstly, they could easilybe made by non-native speakers and, secondly, atleast the error exemplified in (4) could resultfrom a typing error- errors of that kind are more frequent in Italian,since it is richly inflectional- even if the first and third type of errors can be(more or less) easily handled by means of relaxation techniques (Kwasny & Sondheimer 81), this isnot the case for ordering errors; this is due tothe fact that the agreement and tense constraintsare expressed "explicitly" in the grammar (e.g.by an augmentation), whereas the order is specif_ied implicitly (i.e.
rigidly embodied in the grammar itself).The analysis of the problems mentioned in thissection, together with some other considerationsthat are not worth being discussed extensively here(regarding, for instance, garden paths) led us tothe design of a formalism for representing the sy~tactic knowledge that splits it into two levels.The first level contains a set of rules that, inour intention, characterize the meaningful senfences.
It can be questioned whether rules regarding meaning can be considered as syntactic rules.Our opinion is that the syntactic categories associated with natural language words have a strongsemantic bias (see, for a thorough discussion ofthis thesis (Lyons 77, Chapt .
l l~ For this reason,we defined a set of node types that have to be usedin building the tree representing the syntacticstructure of the sentence.
These node types (reported in table l) are associated with the syntacticcategories and the topological constraints that go v535REL Relation Verbs, copulasREF Referent Nouns, pronounsCONN Connector Prepositions, conjunctionsDET DeterminerMODADJAdverbialModifierAdjectivalModifierArticlesdemonstrative adjectives,adjectival question wordsAdverbsAdjectivesTable 1 - The node types: The first column containsthe name (actual and extended); the sec-oond one contains the classical syntacticcategories associated with the node typeern the attachment of nodes constitute the basicfilter which selects the "meaningful" fragments ofsentence.
As an example of this kind of constraint%it is unreasonable to assume that an ADJ node canbe attached elsewhere than a REF node (with the ex-ception of verbs having a copulative function, e.g.to be, to seem, to taste etc.).
For this reason, independently of its position in the sentence, we canexclude some kinds of constructs (e.g.
ADJ-ADJ at-tachment) as meaningless.
W When a rule of the firstset is executed it (normally) involves the creationof a new node (possibly more than one) and its at-tachment to the syntactic tree which was built upto that time.Because of the limited knowledge used to hypo-thesize the attachment point, it can often happenthat the parser made the wrong choice.
Such an er-ror can be detected by using two different knowledgesources: higher-level syntactic constraints and se-mantics.
The first of them contains the rules thatdefine the well-formedness of sentences (in partic-ular gender-number agreements rules and orderingrules) whereas the second knowledge source tellswhether an attachment is semantically acceptable(of course, even if a REF-ADJ attachment is consistent with the topological constraints, not all ad-jectives can be used to qualify a given noun).
Thesemantic checks are done accessing a semantic netorganized in two levels: the first of them (exter-nal) concerns the acceptable surface structures (e.g.
case frames for verbs), whilst the second one(internal) is concerned with the actual semanticsof the domain (e.g.
subsetting among classes).4 it must be noted that the rules embodying theseconstraints are expressed in procedural form.
Evenif the lack of a declarative representation makesmore difficult the design and the maintenance ofthe rules, they are made more efficient in termsof execution time by taking into account the context where the word occurs (involving a limitedone word lookahead).Because of the frequency of this kind of wrong hyp2thesization, an effective computational tool mustbe used to restructure the tree: this tool consistsin what we called "natural changes", which are sim-ple pattern-action rules able to move around con-stituents; their purpose is to provide the parserwith an alternative hypothesis when a given one hasfailed.
Whereas the natural changes are t r i~eredthe same way both in case the inconsistency is syn-tactic and semantic, different courses of actiontake place if the changes cannot produce any accep~able alternative hypothesis: if the error is of sy~tactic type than the first hypothesis is maintainedbut a warning message is sent to the user; if theerror is semantic, then the current interpretationof the fragment is considered unacceptable and, incase one or more choice points were previously met,the parser backtracks, otherwise the analysis fails.More details about the use of backup, as well asabout other topics related with the parsing strate-p~y, can be found in (Lesmo & Torasso 83).A problem which must be faced when a naturalchange is stimulated is the choice of the best in-terpretation.
Let us suppose that an agreement be-tween an adjective and a noun is violated.
In thiscase the natural change MOVE UP tries to attach theadjective to a REF node which is at a higher levelwith respect to the REF which the adjective is currently attached to.
The new attachment stimulatesthe rules of the second set (that is the rules verilying the agreement and the word ordering) and thesemantic ones.
It is possible that the semanticrules signal that the new attachment is not admissible from a semantic point of view.
At this point,if no alternative attachment is possible, the sysLtem has to consider the first interpretation as thebest one since it violates only the "weak" syntac-tic constraints.ELLIPSIS"Ellipsis" is a greek word (elleipsis) roughlycorresponding to "lack, omission", that is used, totake a dictionary definition, to stand for "omis-sion of one or more words that can easily be sub-sumed".
Even if all components of the definitionare fundamental, we want to stress the presence ofthe adverb "easily".
It is consistent with the ob-servation that, whereas other phenomena occurringin natural language (e.g.
garden path) require aconscious effort in the listener, elliptical sen-tences are understood without any difficulty.
Onthe other hand, most current grammatical formalismsare not able to account for this ease in understanding ellipsis; it must be noted the importance thatis often laid on the ability to decide as soon aspossible what is the allowable form of a given conzstituent (Buchenko et al 83).
This is due to thenecessityof triggering in advance a suitable re-536stricted set of grammar rules, in our case this isnot required: the first-level rules will work thesame way independently of the global context wheres given word or constituent occurs (this is nottrue for "local" contexts in the current version ofthe system: see note i); the consistency with therules which govern the construction of well-formedsentences will be tested afterwards.
This is parti-cularly useful for handling elliptical fragments.Let's see through a pair of examples what is the b~haviour of the parser in such sistuations.Example (i) is reported below:John (i)The rules associated with the category "noun" (notethat the first-level rules are grouped in packetsassociated with syntactic categories), in case theanalysis is at the beginning of the sentence, causethe building of the sentence reported below:RELI i,lCONN J -REF @ "I JOHNWhen the  end  o f  the  sentence  in  encountered ,  thestructure is recognized as being incomplete and apattern matching procedure applied to any precedingquestion can reconstruct its actual meaning.
Whatmust be noticed is that the first-level syntacticrules used to analyze the fragment are exactly thesame that are used to analyze complete and correctsentences.CONJUNCTIONSThe kind of processing that occurs in handlingconjunctions requires the introduction of ratherdifferent constraints.
The first interpretation produced for sentences 3) and 4) after the fragment"John loves Mary and Susy" has been analyzed is re-ported in fig.
is.
This interpretation is confirmedwhen the end of sentence 3) is encountered (so thatthe final structure is the one shown in fig.
la).On the contrary, when the name "Fred" is scanned insentence 4), it cannot be attached to "Susy" (excl~ding the possibility that "Fred" is her family name)and the attempt to move it up to "loves" causes asemantic error (three unmarked case for "love").
Atthis point another "natural change" is triggered,which handles conjunctions.
It tries to move up the"and" node, producing the structure of fig.lb whichis accepted as the correct one.
Note, however, thatthis kind of natural change is much more complexthan the standard ones.
For example, in the report-ed examples two new nodes have to be built: the empty REL node (this is done easily since only twonodes of the same type can be connected via "and")ILOVES h I Hl,l IUN~rl I UNMARKED 121(a)(b)Fig.l - The parse trees for sentence 3) (fig.la)and sentence 4 (fig.lb).and the "UNMARKED" connection (for which an explic-it request of creation and attachment must be is-sued).A final observation regards the fact that theparser assumes that the first acceptable interpre-tation is the right one.
This implies that a sen-tence of the form (see EX4 in Huang 83, pag.82)"The man with the telescope and the woman with theumbrella kicked the ball" would be interpreted as"The man with the telescope and with the woman withthe umbrella kicked the ball", that is not the mostnatural interpretation for a human listener.
How-ever, Italian always expresses explicitly the num-ber of the verb (i.e.
plural in this case), so thatthe Italian translation of the sentence would beanalyzed correctly.SYNTACTIC ERRORSThe system tolerates and possibly recovers thefollowing different kinds of errors:- lexical errors- agreement errors- errors in the ordering of the constituents- ex t ra  cases(note that only the second and the third kind oferrors are actual syntactic errors).As regards the errors at the lexical level,they are detected when the morphological analyzertries to decompose a given word in "root + suffix"form.
When no decomposition is posslble or none ofthe obtained roots occurs in the dictionary, thesystem asks the user about the possibility that theinput word is mispelled.
In the affirmative case,the user can retype the word, whereas in the oppo-site case the system asks the user to provide itwith some pieces of information such as the synta~tic category of the word, its normalized form (i.e.its root), the gender, the number, etc.
; moreoverthe system asks what semantic object the word re-fers to.
In this way the analysis of the sentencecan go on and possibly an interpretation is con-structed.
However, it has to be pointed out thatthe information provided by the user during the537analysis of the sentence is not always sufficientfor the system to complete the analysis.
In fact,the current version of the system has not the capa-bility of restructuring the semantic net dynamical-ly, so that the system can continue the analysisonly when the semantic object denoted by the un-known word is already present in the net.As regards "agreement errors" there is a largevariety of error types grouped under this label:a) a first kind refers to the agreement in numberand gender between the noun and the determinerand between the noun and the adjectives.
It isworth noticing that such kind of errors is un-common in Italian, because the suffixes for maleand female and for singular and plural are inmany cases quite different.b) A slightly more frequent error concerns the a-greement in number, gender and person betweenthe subject and the verb.
Since in Italian thesuffixes indicating the different persons of theverb, its tense and mood are quite different,people whose mother tongue is Italian usually donot make this kind of mistake.c) Another kind of agreement refers to the relationships existing between the moods and the tensesof the verbs occurring in the main sentences andits subordinates.
The rules, which are quite complex since they derive from the "consecutio tem-porum" of Latin, are often violated so that thiskind of error must be tolerate by the system.
Inthis case the procedure which has the task ofverifying the agreement emits a warning messagewhen the rules are violated, but, contrarily tocases a) and b), it does not try to restructurethe parse tree via "natural changes", since inmost cases no alternative interpretation exists.The framework we have provided is particularlyuseful for treating errors in the ordering of theconstituents, in fact the order is checked onlywhen a given sentence (possibly a subordinate) hasbeen completed.
This happens when the REL node thatheads the clause (main or subordinate) is closed,that is a punctuation mark is encountered or a newnode is attached to a node which is (in the parsetree) at a level higher than the REL currently ana-lized.
Before stimulating the ordering rules, thesystem checks that the case frame of REL has beencorrectly filled, that is all the cases attached toREL are compatible with the head and among them.Just in this case a set of rules is activated de-pending on the sentence type (it is apparent thatthe constituent order is different in a declarative,interrogative or relative clause).
Each rule repre-sents a legitimate ordering of the constituents andthe rules are ordered in decreasing degree of ac-ceptability.
The rules are matched in turn againstthe actual case frame of the verb acting as head ofthe clause under examination; in case no rulematches, a warning is issued to signal the userthat something has gone wrong in the ordering; any-way the interpretation of the clause obtained by accessing the semantic net is maintained and the ana-lysis goes on if the entire sentence has not yetbeen scanned.
A similar (but simpler) processing occurs for a REF node with respect to the adjectivesattached to it.There are also cases which are more difficultto treat thao the ones involving violations in theword ordering.
In fact, a sentence like "Ii giorna-le Io ha comprato Giovanni stamattina" (literally"The newspaper it has bought John this morning") involves not only word order violations (the syntac-tic object occurs in the first position in the sen-tence), but also there is a case denoted by "io"("it") which duplicates the object.
Such sentencesare clearly incorrect from a syntactic point ofview as well as, in principle, from a semantic one(wrong case frame), but they are perfectly under-standable and quite frequent because they allow oneto identify as focus of the utterance the objectwithout passivizing the sentence.The treatment of such kinds of errors requiresonly relatively inexpensive modifications to theway the semantic net is accessed.
It is worth no-ticing, in fact, that the syntactic object ("ilgiornale") is attached to a REL node which is emptywhen this attachment is performed.
The semantic andagreement check procedures are stimulated but areimmediately suspended since the REL node is empty.Similarly the pronoun "lo" is attached to the RELand the corresponding check procedures are suspend-ed.
When the REL node has been filled with "compra-to" the suspended checks are resumed.
The semanticprocedure is able, by inspecting the semantic net,to state that "giornale" may fill the "object" roleso that when the previously suspended semanticcheck is executed, it concludes that "lo" ("it")cannot be attached to the REL filled with "comprare"("buy") since the object role has already been fil-led.Instead of rejecting the current interpreta-tion by stimulating the natural changes and possi-bly the backup mechanism, a modification of the parsing strategy consists in attaching a warning tothe REF node containing the pronoun "lo" and in go-ing on with the sentence analysis.
When the sen-tence has been completely scanned and, consequently,it is possible to perform a global check on the ac-tual case frame of "comprare", the semantic proce-dure decides that "lo" is simply a repetition ofthe object and therefore it may be disregarded.
Inthis way the interpretation of the sentence is pos-sible, but the warning attached to the REF node containing "io" is output to the user.538CONCLUSIONSThe paper presents a parsing strategy able tocope with different kinds of syntactic ill-formedhess: ellipsis, conjunctions, syntactic errors.
Someexamples are reported to show that the adopted formalism allows the parser to analyse ill-formed fra~ments without substantial changes to the rules usedto analyse correct sentences.However, some problems still deserve furtherattention.
First of all, in case of ill-formed sentences it is often possible to assign more than oneinterpretation to the sentence (e.g.
in "The boylove the girl" the subject can be considered plural- missing "s" in "boy" - or singular - missing "s"in "love"); this can also happen for correct sentences (see the last example in the section onCONJUNCTIONS).
The current version of the systemshould be enhanced both by taking into account contextual information (which could be useful in thefirst case) and by weighing in some way the outputof the semantic component (which, today, is catego~ical: yes or no).As regards the context, the experiments we madeon the parser refer to isolated sentences, so thatthe "pattern matching" procedure we referred to inthe section on ELLIPSIS (see the example "John") isneither implemented nor designed.
Our belief is thatthe two components (pattern marcher and parser) arequite independent each other, but we are planningto address also issues connected with discourseanalysis.Last but not least, some problems are morestrictly connected with the basic parser design.Some English sentences break a locality principleembodied in the first-level syntactic rules.
Anexample is given by "What architect do you know wholikes the balalaika" (see Winograd 83, pag.136).
Weare currently studying this problem, whose solutionwill involve a change in the final representation aswell as in the rule packets.The current version of the parser, that runson a VAX-II/780 under the UNIX operating system andis implemented in FRANZ LISP, includes the mechanisms for detecting and recovering the lexical,agreement, and word ordering errors, whereas the"extra cases", in the sense explained above, arecurrently being implemented.REFERENCESBachenko J., Hindle D., Fitzpatrick: Constraininga Deterministic Parser.
Proc.
AAAI-83 (1983)8-11.Charniak E.:Six Topics in Search of a Parser: AnOverview of AI Language Research.
Proc.
7th IJCAIVancouver B.C.
(1981), i074-1087.Huang X.: Dealing with Conjunctions in a MachineTranslation Environment.
Proc.
Ist Conf.
ACL-Europe, Pisa (1983), 81-85.Granger R.H.: Scruffy Text Understanding: Designand Implementation of "Tolerant" Understanders.Proc.
20th ACL, Toronto (1982), 157-180.Kwasny S.C., Sondheimer N.K.
: Relaxation Techniquesfor Parsing Grammatically Ill-Formed Input in Natural Language Understanding Systems.
AJCL 7(1981), 99-108.Lesmo L., Magnani D., Torasso P.: A DeterministicAnalyzer for the Interpretation of Natural Lan-guage Commands.
Proc.
7th IJCAI, Vancouver B.C.
(1981), 440-442.Lesmo L., Siklossy L., Torasso P.: A Two-Level Netfo r  Integrating Selectional Restrictions and Se-mantic Knowledge.
Proc.
IEEE Int .
Conf.
on Sys-tem, Man and Cybernetics, India (1983), 14-18.Lesmo L., Torasso P.: A Flexible Natural LanguageParser based on a Two-Level Representation ofSyntax, Proc.
ist Conf.
ACL-Europe, Pisa (1983),114-121.Lesmo L., Siklossy L;, Torasso P.: Semantic andPraEmatic Processing in FIDO: A Flexible Inter-face for Database Operations.
Accepted for Publication on Information Systems.Lyons J.: Semantics.
CambridEe Univ.
Press (1977).Marcus M.: Building Non-Normative Systems: TheSearch for Robustness: An Overview.
Proc.
20thACL, Toronto (1982), 152.Weischedel R.M., Sondheimer N.K.
: An Improved Heuristic for Ellipsis Processing.
Proc.
20th ACL,Toronto (1982), 85-88.Winograd T.: Language as a Cognitive Process; Vol.lSyntax.
Addison Wesley (1983).539
