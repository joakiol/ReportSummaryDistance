!GENERATION AND TRANSLATION--TOWARDS A FORMALISM-INDEPENDENT CHARACTERISATIONHenry S. ThompsonHuman Communication Research CentreUniversity of Edinburgh2 Buccleuch PlaceEdinburgh EH8 9LWSCOTLANDABSTRACTThis paper explores the optionsavailable in the formal definitions ofgeneration and, parasitically, transla-tion, with respect o the assumed ne-cessity for using a single grammar foranalysis and synthesis.
This leads tothe consideratiOn of different adequacyconditions relating the input to thegeneration process and the products ofanalysis of its Output.I.
A SCHEMATIC DEFINITION OF~GENERATES 'We start from the assumption of aconstraint-based theory of l inguisticdescription, which supports at leastthe notions of derivation and underly-ing form, in that the definition ofgrammatical i ty appeals to a relationbetween surface strings and someformal structure.
We will attempt oremain agnostic about the shape ofthis formal structure, its precise se-mant ics  and the  mechan isms bywhich a grammar and lexicon con-strain its natUre in any part icularcase.
In particular, we take no standon whether it is uniform and mono-lithic, as in the: attribute-value matri-ces (hereafter AVMs) of PATR-II orHPSG, or varied and partitioned, as inthe trees, AVMs and logical formulaeof LFG.
We will use the phrase prod-ucts of analysis to refer to the set ofunderlying structures associated by agrammar and lexicon with a surfacestring, vizfor a grammar G and sentence se LG, we refer to the set of allproducts of analysiswhere we use A for the 'derives'relation.
1We will also use ~s to refer to anarbitrary member of Xs.We will also assume that the for-mal structures involved support thenotions of subsumption and its in-verse, extension, as well as unificationand generalisation.
Whether this isaccomplished via appeal to a lattice, orin terms of simlflations, will only be-come relevant in section IV.We can now provide schematic def-initions of generation and, with a fewfurther assumptions, translation.
WesayDefinition 1.F~(~,s) (a structure ~ generate~a string s for grammar G)iff 3 ~s ~ ~(~s,~) 2Most work to date on building gen-erators from underly ing forms (e.g.l In this we follow Wedekind (1988), where weuse X/x for an arbitrary underlying form, ashe uses ?/~ for f-structure and Z/a for s-structure.2Again our T is similar to Wedekind (1988)'sadequacy condition C.53Wedekind 1988, Momma and DSrre1987, Shieber, van Noord, Pereira andMoore 1990, Estival 1990, Gardent &Plainfoss~ 1990) have taken the ade-quacy condition T to be strict isomor-phism, possibly of some formalism-specific sub-part of the structures Xsand X, e.g.
the f-structure part in thecase of Wedekind (1988) and Mommaand DSrre (1987).
In the balance ofthis paper I want to explore alterna-tive adequacy conditions which mayserve better for certain purposes.Although some progress has beenmade towards implementation of gen-erators which embody these alterna-tives, that is not the focus of this pa-per.
As far as I know, aside from afew parenthetical remarks by variousauthors, only van Noord (1990) ad-dresses the issue of alternative ade-quacy conditions--I will place hissuggestion in its relevant context be-low.II.
WEAKER FORMULATIONSWork on translation (Sadler andThompson 1991) suggests that a lessstrict definition of T is required.Consider the following AVM, fromwhich features irrelevant o our con-cerns have been eliminated:"cat s pred likecomp ipUbjredFigure 1.
Exemplary'underspecified' ~E~at nn~ \]re.d Robi swimUnder the T is identity approach,this structure will not generate thesentence Robin likes to swim, eventhough one might expect it to.
Foralthough we suppose that somewherein the grammar and lexicon there willbe a constraint of identity between thesubject of like and the subject of swim,which should be sufficient o as it were'fill in' the missing subject, the strictisomorphism definition of T will not al-low this.II.1 Subsumption and extensionIf T were loosened to extension, theinverse of subsumption, this wouldthen work7(ks,Z) iff ~ssubsumesthing whichtranslation,straightforwardly (i.e._~ ~, that is, ~s extends ~,~s).
It is just this sort ofseems to be required forsee for example Sadlerand Thompson (1991) and the discus-sion therein of Kaplan et al (1989),where X for the desired target arisesas a side effect of the analysis of thesource, and Xs is additionally con-strained by the target languagegrammar 3.Note that for Wedekind (1988) thismove amounts to removing the coher-ence requirement, which prevents theaddition of additional information dur-ing generation.
Not surprisingly,therefore, implementation of a genera-tor for T as subsumption is in somecases straight-forward--for the gen-erator of Momma and DSrre, for ex-ample, it amounts to removing theconstraints they call COHA andCOHB, which are designed to imple-ment Wedekind's coherence require-ment.van Noord (1990) discusses allow-ing a limited form of extension, essen-tially to fill in atomic-valued features.This avoids a problem with the uncon-strained approach, namely that it hasthe potential to overgenerate s riously.3Note that appealing to subsumption assumesthat both the inputs to generation (~) and theresults of analysis (Xs) are fully instantiated.54For the above example, for instance,the sentence Robin likes to swim onSaturdays  could also be generated, onthe assumption that temporal phrasesare not subcategorised for, as Zs inthis case clearly also extends X.Rather than van  Noord's approach,which is still too strong to handle e.g.the example in Figure 1 above, somerequirement of minimal ity is perhapsa better alternative.II.2 Minimal extensionIWhat we want is that not onlyshould ks extend X, but it should do sominimally, that is, there is no otherstring whose analysis extends X and isin turn properly extended by Xs.Formally, we want T defined as 4Definition 2.~(Zs,Z) iffZs ~ X and2s '~Xs '  ~ ZA~S ~ ~s'This rules out the over-generationof Robin l ikes to swim on Saturdaysprecisely because Xs for this properlyextends ~s for the correct answerRobin likes to swim, which in turn ex-tends the input X, as given above inFigure 1.4Hereafter I will Use the 'intensional' notationfor extension, subsumption, unification andgeneralisation, using square-cornered setoperators, as follows:ss E ls Ss subsumes ls;ls extends sss E ls ss properly subsumes ls;ls properly extends sSSl U ss2=ls  ss landss2un i fy to l slsl N ls2 = ss llsl and ls2 generalise to ssThe intuition appealed to is that of the setoperators applying to sets of facts (ssmsmallerset; Is-- larger set).II.3 Maximal OverlapUnfortunately, the requirement ofany kind of extension is arguably toostrong.
We can easily imagine situa-tions where the input to the generationprocess is over-specific.
This mightarise in generation from content sys-tems, and in any case is sure to arisein certain approaches to translat ion(see section III below).
By way of atr ivial example, consider the inputgiven below in Figure 2.mcat spred swimsubj rcat nl~Igender mascLPred RobinE uFigure 2.
Exemplary'overspecified' XIn the case where nouns in the lex-icon are not marked for gender, asthey might well not be for English, ac-cording to Definition 2 no sentence canbe generated from this input, as Xs forthe obvious candidate, namely Robinsw ims,  will not extend X as it wouldlack the gender feature.
But it seemsunreasonable to rule this out, and in-deed in our approachto translation toenforce the extension definition asabove would be more than an inconve-nience, but would rather make trans-lation virtual ly unachievable.
Whatseems to be required is a notion ofmaximal  overlap, to go along withmin imal  extension, since obviouslythe structures in Figures 1 and 2 couldbe combined.
What we want, then, isto define y in terms of minimal exten-sions to maximal overlaps:55Definition 3.~(Zs,~) iffXs and X are compatible, that is,Zs U z~-L andthey are maximally overlapped,that is, ~s '~ Xs D Z E Xs' D XandZs minimally extends its over-lap with Z,that is,,~'s" ~ Xs" I-1 Z=Zs FI ZA :ZS D %S"Roughly speaking, Zs must coveras much as possible of Z with as littleleft over as possible.
Note that we havechosen to give priority to maximaloverlap at the potential expense ofminimal extension.
For example,supposing all proper nouns aremarked in the lexicon for person andnumber, and further that commitativephrases are not sub-categorised for,then given the inputcat spred swimsubj rcat np~I person 3 I\]number sg IL#red RobinJcomm pat ppqI pcase comm\]LPred KimJFigure 3.
Exemplary Zfor over-lap/extension conflictwe will prefer Robin swims with Kim,with its extensions for the person andnumber features, as opposed to thenon-extending Robin swims, becausethe latter overlaps less.
Note that inthe case of two alternatives with non-compatible overlaps, two alternativeresults are allowed by the above defini-tion.56Note that this approach is quiteweak, in that it contains nothing likeWedekind's completeness conditionmif the grammar allows it, output maybe produced which does not overlaplarge portions of the input structure,regardless of its status.
For examplestructures which may be felt to be un-grammatical, as in Figure 4 below,may successfully generate surfacestrings on this account, i.e.
Hourse lapsed,  despite ' leaving out' as'important' a part of the underlyingform as the direct object.
"~atpredsubjobjmFigure 4.SelapseI at np erson 3 umber pl red hou_rI at n3~ erson umber red KiSmgJmExemplary'ungrammatical'  XIf it is felt that generating anythingat all from such an input is inappro-priate, then some sort of complete-ness-with-respect-to-subcategorised-for-functions condition could be added,but my feeling is that although thismight be wanted for grammar debug-ging, in principle it is neither neces-sary nor appropriate.Alternatively one could attempt oconstrain ot only the relationship be-tween Zs and X, but also the nature ofitself.
In the example at hand, thiswould mean for instance requiringsome form of LFG's coherence restric-tion for subcategorisation frames.
Ingeneral I think this approach wouldbe overly restrictive (imposing com-pleteness in addition would, for exam-IIple, rule out the Z of Figure 1 above aswell), and will not pursue it furtherhere.It is interesting to note the conse-quences for generation under thisdefintion of input at the extremes.
ForX = T (or any structure with nogrammatical subset), the result will bethe empty string, if the language in-cludes that, failing which, interest-ingly, it will be the set of minimal sen-tences(-types) of the language, e.g.probably just intransitive imperativeand indicative in all tenses forEnglish.The case of I X = ~ is trickier.
If _Lis defined such that it extends every-thing, or alternatively that the gener-al?sat?on of anything with ?
is thething itself, then 1) .1_ is infinite so 2)no finite structure can satisfy themaximal overlap requirement; but inany case ?
fails to satisfy the firstclause of 3, namely the unification ofZs and Z must not be ?,  since if Z is ?then Xs and Z unify to ?
for any Zs.Finally note that in cases wheresubstantial material has to be sup-plied, as it were, by the target gram-mar (e.g.
if a transitive verb is sup-plied but no object), then Definition 3would allow arbitrary lexicalisations,giving rise to a very large number ofpermissible outputs.
If this is felt to beproblem, then ~estricting (in the senseof (Shieber 1985)) the subsumption testin the second half of Definition 3 to ig-nore the values of certain features, i.e.pred, would bepstraight-forward.
Thiswould have the effect of producing asingle, exemplary lexicalisation foreach significantly different (i.e.
differ-ent ignoring differences under pred)structure which satisfies the mini-maximal requirements.II.4 A Problem with the Mini-maxi-mal ApproachOne potential problem clearlyarises with this approach.
It stemsfrom its dependence on subsumptionand its friends.
Since subsumption, inat least some standard formulations(e.g.
Definite Clause Grammars) failsto distinguish between contingentlyand necessarily equivalent sub-struc-tures, we will overgenerate in caseswhere this is the only difference be-tween two analyses, e.g.
for Kim ex-pects to go and Kim expects Kim to goon a straight-forward account of Equi.One can respond to this either by say-ing that this is actually correct, thatEqui is optional anyway (wishfulthinking, I guess), or by adding sideconditions to Definition 3 whichamount o strengthening subsumptionetc.
to differentiate between e.g.
thetwo graphs in Figure 5.
As I do not atthe moment see any way of expressingthese side conditions formally withoutmaking more assumptions about thenature of underlying forms than Ihave so far had to (c.f.
for example(Shieber 1986) where subsumption isdefined in terms of a simulation plusan explicit requirement on the preser-vation of token identity), I will leavethis point unresolved.
,)?h h ha a aFigure 5.
Two structures not dis-tinguished by subsumption57I I I .
THEORY-BASED TRANSLATIONAs mentioned above, the need toconsider more carefully the nature ofthe adequacy conditions for the gener-ation relation has arisen from devel-opments in theory-based translation(Kaplan et al 1989, Sadler andThompson 1991, van Noord 1990).Although a range of different ap-proaches fall ufider this description,they all share some amount of gram-maticalisation of translation regulari-ties.
Furthermore, they all appeal tosome form of reversibil ity or bi-direc-tionality.
Figure 6 below provides aschematic haracterisation f all theseapproaches, where A and F are as be-fore, and T is for an optional transfercomponent.Ssource fAGsourcex') (XTTsource/targetZ(') f Stargeti ?
GtargetFigure 6.
Schematic haracteri-sation of translationThe important point about theseapproaches is that the output of theanalysis process is the input to thegeneration process.
This is in con-trast to previous transfer approaches,in which transfer produces some dis-tinct new structure for input to gener-ation.
If a transfer component is in-cluded in the approaches I'm con-cerned with, as in van Noord (1990), itsrules function to elaborate the productof analysis, not replace it, and theycould without loss of generality be in-corporated into the source and/or tar-get grammars.58Now we can formalise the picturein Figure 6 as follows:Definition 4.TP~_,c~(s,t) (a string s trans-la te~o a string t for gram-mars Gs,Gt)iff ~ Xs ~ Aa(S,Xs) and F~(xs,t)The goal of this enterprise has beento provide a version of y which makesthis a practical definition of theory-based translation, and it should beclear how all the phenomena whichwere used in section II to motivate theDefinition 3 version of y are likely toarise in translation.
In particular,the necessity for allowing the overlapbetween Xs and Xt to be less than totalarises from the obvious asymmetrywhich will exist between the syntacticcontents of the two---in whatever formis appropriate to the grammatical the-ory involved, Xs will contain a full syn-tactic analysis in the source domain,and possibly only a root S node for thetarget, while for Zt the situation will bereversed.
The min i -max imal  ap-proach given above covers this casestraight-forwardly.IV.
BEYOND SUBSUMPTIONThe use of subsumption as the ba-sis for my explorations of T has an-other problem, in that typically defini-tions of subsumption require that thestructures to be compared share acommon root.
For reasons whichwould take too long to set out, this con-straint too may prove over-strong incertain translation cases.
By way of il-lustration, consider translat ing into alanguage in which overt performa-rives are required for all grammaticalutterances.
We would then find thatthe translation into this language ofe.g.
Robin swims would involve ahigher predicate, so for various partsof the product of analysis, the appro-priate relationship would hold not be-tween root and root, but between rootand sub-part.
This suggests that aweaker relationship, perhaps the exis-tence of a homomorphism, should re-place subsumption i  the definition ofT.V.
IMPLEMENTATIONI have made some progress to-wards imp lement ing  a generatorbased on Definition 2 of section II.
Ibelieve it will be possible to provide animplementationl which is guaranteedto provide all and only the correct out-puts if any exist, but may fail to termi-nate if no output is possible.
The basicidea is to constrain the generator toproduce results in node-cardinalityorder, that is, smallest first.
In fact,there is some slop in the moststraightforward way of implementingthis, in that it is fairly simple to limitthe number of ~ nodes allocated, butmore difficult to constrain the numbereventually usedi What is guaranteed,however, is that structures are pro-duced in an order which respects ub-sumption, in th'at if Zs subsumes Zs',then it will be generated first.
This inturn means that one can enforce theminimality constraint of Definition 2.The problem arises with certainclasses of recursive definition, both thesimple left recursion cases of moretraditional grammars, and the morecomplex ones of categorial-style ones.My best guess for these is to anticipatethat it would be possible to (semi-)automatically ~prove that any suchrule produced Via recursion a struc-ture which was 'subsumed' (as persection IV above) by one with less re-cursion.
This in  turn would meanthat provided some result had beenfound, the recursion could be termi-nated, since any further downstreamresult would fail the minimal i ty con-straint.
If however no result could befound, there would be no basis forstopping the recursion other than avery ad-hoc shaper test (Kuno 1965),based on some more or less arbitrary(depending on the application) l imit onthe size of the expected output.At the moment I have no ideas onhow to implement a generator whichrespects Definition 3.ACKNOWLEDGEMENTSThe work reported here grew out ofwork carried out while the author wasa visitor to the Embedded Computationand Natural  Language Theory andTechnology groups of the SystemsScience Laboratory at the Xerox PaloAlto Research Center.
These groupsprovided both the intellectual and ma-terial resources required to supportthat earlier work, for which thanks.Many of the ideas presented here werefirst articulated in discussions with JoCalder and Mike Reape, and many ofthe HCRC coffee room regulars alsocontr ibuted pat ience and sugges-t ions -my thanks to them all.
Thanksalso to Klaus Netter, in particular forfirst calling to my attention the be-haviour of Definition 3 with respect othe extreme cases.REFERENCESEstival, D. \[1990\] Generating Frenchwith a Reversible UnificationGrammar.
In Karlgren, H.
(ed.
)COLING90, 1990, pp 106-111.Gardent, C. and Plainfossd, A.
\[1990\]Generating from a Deep Structure.In Karlgren, H.
(ed.)
COLING90,1990, pp127-132.59Kaplan, R., Netter, K., Wedekind, J.and Zaenen, A.
\[1989\] Translationby structural correspondences.
InProceedings of the Fourth?
Conference of the EuropeanChapter of the Association forComputational Linguistics,University of Manchester Instituteof Science and Technology,Manchester, UK, 10-12 April, 1989,pp272-281.Kuno, S. \[1965\] "The predictive ana-lyzer and a path elimination tech-nique", Communications of theACM, 8, 687-698.Momma, S. and DSrre, J.
\[1987\]Generation from f- Structures.
InKlein, E. and van Benthem, J.(eds.)
Categories, Polymorphismand Unification, pp148-167.Edinburgh and Amsterdam:University of Edinburgh, Centre forCognitive Science and Institute forLanguage, Logic and Information,University of Amsterdam.Sadler, L. and Thompson, H. S. \[1991\]Structural Non- Correspondence inTranslation.
In Kunze, J. andReimann, D.
(eds.)
Proceedings ofthe Fifth European Association forComputational Linguistics, Berlin,April, 1991, pp293-298.Shieber, S. M. \[1985\] Using restrictionto extend parsing algorithms forcomplex-feature-based formalisms.In Proceedings of the 23rd AnnualMeeting of the Association forComputational Linguistics, pp145-152.Shieber, S. M. \[1986\] An Introductionto Unification- based Approaches toGrammar.
Chicago, Illinois: TheUniversity of Chicago Press.Shieber, S. M., van Noord, G., Pereira,F.
C. N. and Moore, R. C. \[1990\]Semantic-Head-Driven Generation.Computational Linguistics, 16, 30-42.van Noord, G. \[1990\] ReversibleUnification Based MachineTranslation.
In Karlgren, H.
(ed.
)COLING90, 1990, pp299- 304.Wedekind, J.
\[1988\] Generation asstructure driven derivation.
InCOLING88, Budapest, Hungary,22-27 August, 1988, pp732-737.60
