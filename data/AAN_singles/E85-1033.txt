USING A T~XT MODEL FOR ANALYS IS  AND GENERATIONE.
FIMBEL, H. GROSCOT, J.M.
LANCEL, N. S IMONINCAP SOGET I INNOVAT ION129, rue de l 'Un ivers i t~75007 PARISFRANCEABSTRACTThe following paper concerns a general schemefor multilingual text generation, as opposed tojust translation.
Our system processes the textas a who le ,  from which  it ex t rac ts  arepresentation of the meaning of the text.
Fromthis representation, a new text is generated,using a text modei and action ruies.This process is done in six steps : wordanalysis, sentence analysis using a FunctionalGrammar, reference so iv ing  and inference,construction of the text pattern, sentencegeneration, and word generation.
Differentkinds of information are used st each step ofthe process : text organizat ion,  syntax,semantic, etc.All the knowledge, as well as the text, isgiven in a declarative manner.
It is expressedin a s ingle formal ism named Funct iona lOescriptions.
It consists of lexical data, aFunctional Grammar, a knowledge network, actionrules for reference so lv ing  and sentencegenerat ion ,  mode ls  of text,  ru les  ofstructuration, and sentence schema.Text representation, included in the semanticnetwork, is composed of different kinds ofobjects (not necessar i l y  distinct) : textorganization, syntactical information, objectsintroduced by the discourse, affirmations onthese objects, and l inks between theseaffirmations.I TEXT VERSUS SENTENCESthe one hand rearrange a whole sentence in orderto respect certain stylistic rules and on theother hand modify the order of these sentences.Some of them may be deleted and others added.In any ease, in order to be able to generatea coherent text by means of the informationextracted from a source text, it seems mostimportant to us to understand what the text isrefering to.We have restricted our scope to economicgeography texts, taken from a French reviewnamed ATLASECO.
These texts deaI with industryand agriculture, invoiving reiated concepts(growth, deci ine,  product ion,  economica Ibalance...).
Our system parses a french text,integrates its informative content into aknowledge base, then generates a new text frominformation extracted from this base.We present  in par t  (2) the textrepresentation used throughout the process.
Wedescr ibe  in part  (3) the knowledgerepresentat ion ,  based on the funct iona ldescr ipt ions.
In part (4), we briefly describethe different steps of the process.2 TEXT REPRESENTATIONA text conveys information by various means.For example, the order of sentences, as well astheir syntactic structure, may be significant.The general text representation we use is thesame for understanding and structuring.
Thisrepresentation includes the different kinds ofinformation needed for these two processes.Human translation is a complex process whoseactivities are not yet entirely understood.Generation of text differs from generation ofs ingle sentences : our work stresses thenecessary processing of the text as a whole andrestructuring of this text.
A translator must onThe text is represented by a set ofinterrelated objects (sentences, words, semanticobjects...).
There are five classes of objects,not necessarily distinct : the visible objects,the syntactic components, the discursive objects(defined later), the affirmations and the links.2262.1 Visible ObjectsVisible objects are chapters, paragraphs,sentences, words and word sequences .
They arereiated by positionai iinks, describing theorganization of the text, as shown by thefoIiowing figure :TEXTSENTENCE 1 .
. "
r='~"J 5ENTEN~En / S /OB3 1 083 2 083 n OB3 1 083 nfig.
iThese l inks ref lect  the h ierarch ica lorganization of the text (chapters ...) and thedependent relationship of statements (order ofsentences ...).2.2 Syntactic ComponentsThe sentences are represented by means ofunordered  "syntact i c  cases"  ( sub jec t ,determiner...), linking a component with itssubcomponents.
For example :"the big mouse" ~ .
~  ~ ~body determiner quail fierJ I imouse definite bigfig.
Z2.3 D iscurs ive  ObjectsDiscursive objects represent the semanticobjects or  entities introduced by the text.
Forexample :"The main crop is wheat, whose product ion  hass t rong ly  decreased .
Th is  dec l ine  has s t rong lyaffected the commercial balance.
"These two constructions correspond to asingle discursive object, which could becalied: "decrease of the production of wheat"The meaning of a sentence is represented by anetwork of discursive objects.
The propositions,represenLing the d iscurs ive  objects, arenormalized into an objscLive form.
For example :'Peter met 3ohn" -> "meeting of 3ohn by Peter""Mary is ill" -> "illness of Mary".This normalization is very usefui for co-reference soiving.The text itself may be a discursive object.Hence, it is represented by an object whichmentions topic, date and positional linksbetween sentences  of text.
Our ing  theUnderstanding Process, this object will beenlarged by new information, or modified (forinstance topic may become more explicit).2.4 AffirmationsImplicit within the text, as well as simplyintroducing objects, is the eva luat ion  ofcertain objects.
"The production is increasing"introduces "the production" and af f i rms "theincrease of production".There are various statement values ("statedpositively in discourse", "dubious"...).
Thesevalues may be given by the author, a figure, aneconomical organization, etc.2.5 LinksThe links are mainly operators (and, or,because...) that correlate the affirmations,which are die cursive objects or links : "Abecause B" ; "A and B, but  C".They reflect internal structure of discourse.For example : "the production increases but thedeficit remains important".During Understanding phase, Lheir main roleis to transmit statement values to the objectsthey link.The structuring stage isolates argumentativeeffects of the discourse, and builds new links(possibly the same).
The choice of these linksis important because they have to be coherentlyacceptable from the reader point of view.3 KNOM_EDGE REPRESENTATIONWe use the same representat ion  for  a l l  typeso f  knowledge  in  the  sys tem : lex ica ldefinitions, grammar rules, semantic rules,etc.They are given separately in the formalism offunctional descriptions and integrated into theknowledge base that is represented by afunctional descriptions network.227The language of functional descriptions comesfrom the functional grammars (DIK 78), which isa linguistic formalism that can be reiated tocase grammars (FILLMORE 68).
Historically, Kay(81) used functional descriptions as a geneceltool to represent grammars, independently of anyspeci f ic  l inguist ic  theory, after whichRousselot (84) then used functional descr ip t ionsto represent any kind of knowledge (grammar,semantic rules, scripts..) in a system of storyunderstanding.We will use "DF" instead of "functionaldescription".A DF may represent any kind of knowledge.
Forexample , "William cut himsel~' may be describedby the following figure :\[action = cuttense = pastactor = \[name = Wiiliam\]obj_act <I actor>\]fig.
)A OF is an unorde~ed set of identifier-objectpairs.
The identifiers are not pre-defined :they may be added or removed in any way.
Thisallows us to put various kinds of information inthe same description : syntactic, semantic, etc.The objects may be other DFB or paths .A path is a notation whose aim is to pointto objects that ace already defined .
We havetwo kinds of paths :- A local path <I list-of-identifier> points toan object in the current OF, as defined by thelist of identifiers.
For example, in fig.
3,the path <I actor name> cefers to "William".- A global path, <g starting-point list-of-ident i f iers> points to an object in theknowledge base.
It is defined in the same wayas the local path, except that the start ingpoint is the curcent DF.The internal representation of a DF is alabelled graph.
For example, the representationof the DF in fig. )
is shown in fig.
4.as input and converts it directly into thelabelled graph as shown in fig.
4, which is thenintegrated into the knowiedge base.A functional description network is the graphthat represents a set of interlaced DFB, i.e.the knowledge base.
This network is a labelledgraph whose nodes correspond to OFs, and whoselinks to elementary object properties.
Theselinks are labelled with identifiers.colourtable = ~ blueobject (DF) property object (OF)f ig.
5Each identifier (e.g.
colour) may be givendi f ferent p ropect ies  (e.g.
inhec i tanceproperties).
This is done through attaching anode to the identifier.The graph may contain Dynamic Paths , whichallow access to the objects.
A dynamic path is afunction <f starting-point list-of-identifiers>whose value is a node on the graph.
Foc example,in fig.
4, the dynamic path <f (M) actor name>points to the node "William".
Dynamic Paths acevery similar to substituable variables in formalsystems.The processing of a DF network can be done attwo levels :- e lementary  level : insert or delete links(i.e.
propecties) or nodes (i.e.
objects) ;- form leve l  : each node of the netwock canstill be viewed as a description, whichcorresponds to a complex set of links.
Thisa l lows  us to work on the form of theobjects (pattern matching and merging).The main algorithms that operate at the formlevel are those of compat ib i l i ty  (patternmatching) and merging.
"Compatilibity" is aboo lean funct ion that decides whether twodescriptions may correspond to the same objectof the real world.
For example, could the eventsdescribed by "William speaks to himselP' also bedescribed by "Somebody speaks to Ted" 7 :7 cut Williamt e n s e ~  pastFig.
4The system takes the DF, as shown in fig.
3,~action = speakactor ~name = William\]ob j -ac t  = <I  ac tor>J\[action = speakactor = ~ is-a = huma~obJ-act = \[ name Ted\]Jfig.
6228These two descriptions are not compatible,because the name of ,he "obj-act" is "William"on one hand and "Ted" on the other.
"William cut himself "action = cuttense = pastactor  = \[name =ob j -ac t  <1 actor>\ ]William\]"X cut Y"\ [act ion = cuttense = pastactor.
= \ [ i s -a  = human\] .obj-act Estate changed\]J\ [act ion = cuttense = pastactor =\[  is-a = humanname = Williamstate = changed\]obj-act = <I actor>\]fig.
7Two compatible descriptions can be merged.The result is a new description, more completethan either of the originals.
For example, thefirst two DFs of fig.
7 are compatible, and givethe third one as the result of merging.These two algor i thms,  inspired by thefunctional unification introduced by Kay, arevery powerfuI and are used at each step of textprocessing.
Their precise definitions usemathematicaI transformations of iabeIIed graphsand are given in (GROSCOT, ROUSSELOT 85)./4 TEXT PROCESSINGIn this section, we describe the followingdifferent steps of the text processing :- word anaiysis- sentence anaIysis- reference solving- construction of the text pattern- sentence generation- word generation/4.1 Word AnalysisThe word analyser uses a knowledge base aboutthe standard inflexions of the initial languageand a dictionary of words and sequences ofwords.
Each item in the dictionary contains asemantic definition, its syntactical category,and its type of infiexion with its roots.We generate for each word a description ofits syntactic features.
AII soiutions aregenerated.
For exampie, the analysis of the word"burns" gives at least these two DFs :i )  \[word = burnnumber = p lura lcategory = substantive" ' "  \]2) \[word = burncategory = verbtense = presentperson = 5number = singularo, ,  \]fig.
8/4.2 Sentence  Ana lys i s  -The analyser  is based on the work ofRousselot (8/4).
It works sentence by sentenceand assumes three important functions :- recognit ion and construction of syntacticcomponents of a sentence-controI of semantic constraints- generation of the semantic representation ofthe sentence, i.e.
an affirmation or a linkThe analyser uses a declarative grammar,which does not depend upon the way in which theanaiyser works.
The grammar is a DF, in whicheach identifier-object pair represents a grammarruIe.
These rules aliow the analyser to sp i i tasyntactical category into constituents, tover i fy  the constra ints ,  and to bui ld  theassociated semantic representation.The analyser works in a top-down manner bymeans of an agenda which allows the separationof the controls.
Also included in the anaIyseris a graph that contains the partiaI anaiysiswhich minimizes processing time during thebacktracks.The starting point of this analyser is theset of DFs which have been obtained and graphedafter word analysis.We show here, in an example, the result ofthe analysis of the sentence "Agriculture is asuccess" :object : successevaluated-object : \ [ob ject  = agr iculturedef-undef = def in i te \ ]statement-value = true \]fig.
9229 "4.3 Reference SolvingThis stage determines what the pronouns andnoun phrases point to: known objects (alreadyin the knowiedge base), or new objectsintroduced (directly or indirectly) by the text.The process uses action rules, written bymeans of OFs.
The rules interpreter works in a"lazy" saturation mode : It local ly saturatesthe knowledge base regardless of whether or notall inferences have been made.The process has three main features :- i t  is d irected by the syntax (definitearticles, pronouns..)- i t  identifies the objects at the semanticlevel, by testing the compatibility ofdiscursive objects- i t  uses pos i t ional  l inks to def ine thepossible references in each case.
For example,a demonstrative pronoun has to be found amongthe preceding objects of the textIt has two important effects :- it constructs a coherent network of discursiveobjects (the "meaning" of the text)- it integrates the text into the knowledgebase : each time that the text refers to aknown object, links are created from thisobject to the textWhen this is done, the posit ion of theinformation, may be inadequate for a coherenttext.
Therefore, the text structure is changed :some information is enhanced ; the paragraphsare balanced ; the information is reorderedaccording to chrono log ica l  order andsignificance at the deepest level of the textstructure.At this step, output text st ructure isclearly apparent.
But it is not sufficientbecause the text has now become a sequence ofunrelated statements.
Links are then createdbetween the discursive objects introduced in thetext (conjunctions, pronouns...) and el l ipsesare used to avoid repetitions.4.5 Sentence Generat ionFrom each OF of the text describing outputinformation,  th is  s tage  generates  thedescription of a suitable sentence.Syntact ic  patterns are assoc iated withconcepts  (evo lu t ions ,  apprec ia t ions ,numbers...).
Action ruIes combine these patternsto create the description of a sentence, i.e.
aiist of word descriptions.4.4  Const ruc t ion  o f  the text patternOnce the initial text has been analysed, itsin format ive content is integrated in theknowledge base, thereby making it possible toquestion this base and to reformulate the so-obtained information with the aim of generatinga new text .This stage bui lds the text structure(paragraphs, sub-paragraphs, sentences...) usingtwo complementary approaches : the content ofinformation and the evoIution of the v is ib les t ructure  of the text.
Indeed, text generationis a refIective process : generation of a singIesentence of the text must take account thepreceding and following text.
All the processesused for structuring are written by means ofrules.The starting point of structuring is a set ofinformat ion extracted from the knowledgenetwork.First, all the information is inserted into atext model by means of their topics.
Someobvious redundancies are eliminated : only oneoccurrence will be kept, in the most appropriateplace.A.6 Word Generat ionWord generation uses the same organization ofthe knowledge base (about standard inflexions)as word anaiysis.From a list of word descriptions, inciudingsyntactic features, the system constructs theoutput word.
For example :word = burncat = verbtense = presentperson = ) --> B U R N Snumber = singula dfig.
i0.5 ANALYSING ECONOMIC GEOGRAPHY TEXTSThe texts we have analysed, taken from theFrench rev iew ATLASECO, describe the mainfeatures of the agr icu l ture  in d i f ferentcountries.
They contain an average of 20sentences, which contain from i0 to 45 words.230The system used :- 400 lexical items, which represent 2400 words- 70 grammar ruies- a semantic network containing 220 concepts, 80of them being domain-dependant- 80 semantic ruIes for inference and referencesolving- i text model, containing 50 paragraphs andsubparagraphs- lO0 rules for text structuring- 30 sentence patterns for generationOur sys tem was ab le  to ext rac t  thes igni f icant  information that such a textconveys, and produce a new text from thisinformation.
As a matter of convenience, we usedFrench as the target language for validation,however the process described here should alsobe able to work in a manner independant of thetarget language, by chaining certain parts ofthe knowledge base.Now, we are in the process of adapting oursystem to generate French appliance operationmanuals from the corresponding ones.REFERENCESATLASECOAtlas dconomique mondialLe Nouvel Observateur, 1982.DIK Simon"Functional Grammar"Publications in Language Science.Foris Publications, Oordrecht Holland, 1978.FILLMORE Charles"The case for case" in "Un iversa ls  inLinguistics Theory", E. Bach and R. Harms(ede), p.i-90, 1968.FIMBEL Eric"Les reseaux miroirs : un mdcanisme d'infd-fence gdndraI ;appi icat ion hun  syst~med'aesimiiation de textes"Th~se de l'universitd Paris 6, mars 1985.GRIZE Jean-Blaise"Introduction h la logique naturelle etapproche logique du dialogue"Approches formelles de la sdmantique naturelle.Publication CNRS-UPS-UTM-ADI, 1982.GROSCOT Herbert, ROUSSELOT Franqois"Un langage ddc la ra t i f  uni forme et unanalyseur syntaxico-sdmantique"Proceedings of Cognitiva, Paris, juin i985.GROSS Maurice"Mdthodes en syntaxe"Hermann, 1975.KAY Martin"Unification Grammars"Xerox internal publication, 1981.McKEOWN Kathleen R."Generating natural language text in responseto questions about database structure"PH.D of the university of PennsyIvania, 1982.ROUSSELOT Francois"Rdalisation d'un programme comprenant destextes en utiIisant un formaiisme ddclaratifpour reprdsenter toutes les connaissancee"Th~se d' dtat, Paris 6, 1984.SIMONIN Nathalie"Utilisation d'une expertise pour engendrerdes textes structurds en fcan~ais"Th~se de l'universit~ Paris 6, mars i985.231
