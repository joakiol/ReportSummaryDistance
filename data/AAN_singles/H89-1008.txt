RAPID PORTING OF THE PARLANCE tmNATURAL LANGUAGE INTERFACEMadeleine BatesBBN Systems and Technologies Corp.10 Moulton StreetCambridge, Mass.
02138ABSTRACTDeveloping knowledge bases for AI systems takes too long and costs too much.Even a "portable" system may be expensive to use because its installation takesa long time or requires the labor of scarce, highly-trained people.
BBN hasrecently created a tool for acquisition which dramatically reduces the  time andcost of installing a natural language system.During 1988, BBN used its Learner tm tool to configure the Parlance tm databaseinterface to two different versions of a large Navy database.
Theconfiguration process was performed primarily with development versions ofthe Learner, which is a software tool for creating the knowledge bases,vocabulary, and mappings to the database that enable the Parlance interfaceto understand questions addressed to a particular database.
The Learnerreduced the time required to create Parlance configurations from months toweeks, and demonstrated that the Learner works effectively on databases withmany hundreds of fields.INTRODUCTIONTHE NAVY'S IDB DATABASEThe IDB (hereafter called the Navy database) is a large, evolving databasebeing used in the Fleet Command Center at the Navy's Pacif ic Fleetheadquarters in Pearl Harbor, Hawaii \[Ceruti, 1988\].
It has dozens of tables andhundreds of fields containing information about hundreds of U.S. ships,planes and other units, as well as more limited data on foreign units.Examples of the kind of information that may be available for a particular unitare: its home port, current location, current employments (an employment is acomplex concept including destination, projected arrival time, purpose, etc.
),type and amount of equipment on board, various types of readiness status(personnel readiness, equipment readiness, overall  readiness, etc.
), andoperat ing characterist ics (average cruising speed, maximum speed, fuelcapacity, etc.).
Other data in this database include detailed information aboutthe characteristics of various types of equipment (e.g., the firing rate of guns)and properties of geographic entities (e.g., for ports, the country they are in,and whether they have a deep channel).The Navy database provides basic data for systems under development at theFleet Command Center.
This database offers a rich environment for a naturallanguage interface, because the need to explore the database with ad hocqueries occurs frequently.83THE PARLANCE INTERFACEThe Parlance interface from BBN Systems and Technologies Corporation is anEnglish language database front end.
It has a number of component parts: agraphical user interface, a language understander that translates Englishqueries into database commands for relational database systems such as Oracleand VAX Rdb, a control structure for interacting with the user to clarifyambiguous queries or unknown words, and a dbms driver to call the databasesystem to execute database commands and to return retrieved data to the user.The Parlance system uses several domain-dependent knowledge bases:1.
A domain model, which is a class-and-attribute r presentation ofthe concepts and relationships that the Parlance user might employ inquer ies .2.
A mapping from this domain model to the database, which specifieshow to find particular classes and attributes in terms of the databasetables and fields of the underlying dbms.3.
A vocabulary, containing the lexical syntax and semantics of wordsand phrases that someone might use to talk about the classes andattr ibutes.4.
Miscellaneous additional information about how information is tobe printed out (for example, column headers that are different fromfield names in the database).The Learner is used to create these knowledge bases.The following queries illustrate the kinds of questions that one can ask theParlance system after it is configured for the Navy database:What's the maximum beam of the Kitty Hawk?Show me the ships with a personnel resource readiness of C3.1List the ships that are C1 or C2.Is the Frederick conducting ISE in San Diego?How many ships aren't NTDS capable?Which classes have a larger fuel capacity than the Wichita?How many submarines are in each gee region.Are there any harpoon capable C1 ships deployed in the Indian Ocean whoseASW rating is MI?List them.Show the current employment of the carriers that are C3 or worse, sorted byoverall readiness.Where is the Carl Vinson?
2What are the positions of the friendly subs?1 Readinessos of various types are categorized C1 (most ready) to C5 (unready), M1 to M5,and so on.2 This query is ambiguous.
It may be asking for a geographical region or for a latitudeand longitude.
The Parlance system recognizes the ambiguity and asks the user forclarification.84THE LEARNERThe Learner is a software tool that creates the domain-dependent knowledgebases that the Parlance system needs.
It "learns" what Parlance needs to knowfrom several sources:1.
The database system itself (i.e., the dbms catalogue that describesthe database structure, and the values in various fields of thedatabase).2.
A human teacher (who is probably a database administrator,someone familiar with the structure of the database, but who is not acomputational linguist or AI expert).3.
A core domain model and vocabulary that are part of the basicParlance system.4.
Inferences (about such things as morphological and syntacticfeatures) that the Learner makes (subject to correction andmodification by the teacher).Figure 1 shows the input and output structure of the Learner.
We call theprocess of using the  Learner configuring Parlance for a particularappl icat ion.The human teacher uses the Learner by stepping through a series of menusand structured forms.
The Learner incrementally builds a structure that canbe output as the knowledge bases shown in Figure 1.INPUTS OUTPUTSDatabaseAdministratorData in db~Data d io t ionarw~~Core domain / /informationLEARNER  Domain model Domain vooabularw Vocabulary from database Database mapping rulesColurnn headers & '~,idthsParaphrase informationFigure 1.
The Structure of the Learner85The teacher chooses particular actions and is led through steps which elicitrelated information that Parlance must know.
For example, when the teacherdesignates that a particular table or set of tables belong to a class named"ship", the Learner immediately allows the teacher to give synonyms for thisclass, such as "vessel".
The Learner will then infer that the plural form of thesynonym is "vessels", instead of making the teacher supply the plural form,although the teacher can easily correct the Learner if the word has anirregular plural.Whenever information is optional, the teacher can decline to specify it at thefirst opportunity, and can later initiate an action to provide it.
Both requiredand optional information can be changed by the teacher using the Learner'sedit ing capabil it ies.The ability to assign names freely, the freedom to do many operations in thesequence that makes the most sense to the person using the Learner, and thefact that the Learner expresses instructions and choices in database termswherever possible, make it easy for database administrators who are notcomputational linguists or AI experts to configure the Parlance interface.CONFIGURING PARLANCEBefore the Learner existed, Parlance configurations were created "by hand".That is, highly skilled personnel had to use a separate set of programs(including a Lisp editor) to create the appropriate configuration files.Figure 2 compares this by-hand conf igurat ion process with the firstexperience using the Learner on the Navy database.
The two examples useddifferent databases, but in each case we began with a large set of samplequeries in the target domain,  and periodical ly tested the developingconfiguration by running those queries through the Parlance system.
Wemeasured our progress by keeping track of the number of those queries thesystem could understand as the configuration process went on.
Figure 2actually considerably understates the productivity enhancement realized withthe Learner,  because the personnel  database used for the by-handconfiguration was much smaller and less complex than the Navy database.The Navy database used to test the first version of the Learner wasconsiderably restructured and enlarged, and we had an opportunity toconfigure Parlance for the  newer database.
Since we had a new, improvedversion of the Learner, we chose to configure Parlance to the second versionof the Navy database "from scratch", rather than by building on the results ofthe first configuration.
This gave us an opportunity to measure the effortrequired to use the Learner to do a much larger system configuration, sincethe size of the target database (measured in terms of the number of fields) hadnearly tripled.867006005004OOx p=3002O01000 "q-m-%'X "X- -X 'X  "X - -X  -X 'X - -X 'X -X - -X  "X'XNumber ofSuccessfulQueriesPersonnel DB, by handIDB, with LEARNER0 2 4 6 8 10 12 14 16 18 20Weeks of DevelopmentFigure 2.
Speed-up of acquisition using the LearnerThe results in Figure 3 and its accompanying notes show that the Learnerrobustly scaled up to the task, and that the time required to perform theconfiguration increased much less than the number of fields in the database,the vocabulary size, or any other simple metric of size.
In fact, for a modest1/3 increase in configuring effort, a configuration roughly 3 times larger wascreated.personnel 1st Navv 2nd Navv(~onfi~gration (01 Configuration ConfigurationElapsed time (1) 4 weeks 6 weeksTotal level of effort (2) (3) 6+ per.wks.
8+ per.
wks.Tables in database 3 1 3 2 75Fields in database 133 231 666Classes in domain model 218 8 3 303Attributes in domain model 316 160 680Estimated total vocabulary (4) 3000 5500 9800Root forms (5) 1700 3282 6354Proper nouns read from db 1170 2656 3907Verbs 65 6 36Words with semantics (6) 1600 3326 6073Figure 3.
Comparing the Configuration Processes and Results87Notes to accompany Figure 3:(0) Changes in the underlying system since this configuration was createdmake it impossible to measure some of the numbers in this column accurately,so the numbers dealing with vocabulary are estimates.
(1) Records were not kept at the time this configuration was created, but theconfiguration happened over a period of months.
(2) That this level of effort includes not just time spent using the Learner butalso time required to understand the domain, and to do some testing andrevision.
About 60% of this time was spent using the development version ofthe Learner.
(3) Records were not kept at the time this configuration was done, but itinvolved many person-months.
(4) This is an estimate which includes inflected forms of regular words andwords that were acquired directly from database fields.
(5) This includes words read from the database and all words directlyrepresented in the vocabulary; it excludes inflected forms of morphologicallyregular words.
(6) This is a rough measure of the semantic complexity of the domain, since itexcludes words that are abbreviations or synonyms.CONCLUSIONSThe Learner significantly reduces the time required to create configurationsof the Parlance natural language interface for databases with hundreds offields from months to weeks.
This dramatic speed-up in knowledge acquisitionscales up robustly, and works as effectively on large databases as it does onsmall ones.REFERENCESCeruti, M.G.
and Schill, J.P., FCCBMP Data Dictionarv.
Version 3, Naval OceanSystems Center, Code 423, San Diego, CA., May 25, 1988.|Parlance and Learner are trademarks of Bolt Beranek and Newman Inc. or its subsidiaries.VAX and Rdb are trademarks of Digital Equipment Corp. Oracle is a trademark of Oracle Corp.88
