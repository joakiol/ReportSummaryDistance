Proceedings of the 13th Annual Meeting of the Special Interest Group on Discourse and Dialogue (SIGDIAL), pages 275?279,Seoul, South Korea, 5-6 July 2012. c?2012 Association for Computational LinguisticsIntegrating Incremental Speech Recognition and POMDP-based DialogueSystemsEthan O.
Selfridge?, Iker Arizmendi?, Peter A.
Heeman?, and Jason D. Williams1?
Center for Spoken Language Understanding, Oregon Health & Science University, Portland, OR, USA?AT&T Labs ?
Research, Shannon Laboratory, Florham Park, NJ, USA1Microsoft Research, Redmond, WA, USA{selfridg,heemanp}@ohsu.eduiker@research.att.com jason.williams@microsoft.comAbstractThe goal of this paper is to present a firststep toward integrating Incremental SpeechRecognition (ISR) and Partially-ObservableMarkov Decision Process (POMDP) based di-alogue systems.
The former provides sup-port for advanced turn-taking behavior whilethe other increases the semantic accuracy ofspeech recognition results.
We present an In-cremental Interaction Manager that supportsthe use of ISR with strictly turn-based dia-logue managers.
We then show that usinga POMDP-based dialogue manager with ISRsubstantially improves the semantic accuracyof the incremental results.1 Introduction and BackgroundThis paper builds toward integrating two distinctlines of research in spoken dialogue systems: in-cremental speech recognition (ISR) for input, andPartially Observable Markov Decision Processes(POMDPs) for dialogue management.On the one hand, ISR improves on whole-utterance speech recognition by streaming results tothe dialogue manager (DM) in real time (Baumannet al, 2009; Skantze and Schlangen, 2009).
ISRis attractive because it enables sophisticated systembehavior such as interruption and back-channeling.However, ISR output is particularly error-prone, andoften requires a specialized dialogue manager to bewritten (Bu?
and Schlangen, 2011; Schlangen andSkantze, 2009).1Work done while at AT&T Labs - ResearchOn the other hand, POMDP-based dialogue man-agers improve on traditional approaches by (in part)tracking a distribution over many possible dialoguestates, rather than just one, thereby improving ro-bustness to speech recognition errors (Williams andYoung, 2007; Thomson and Young, 2010; Younget al, 2010).
The overall aim of combining thesetwo lines of research is to improve the robustness oferror-prone ISR output.To our knowledge only one study to date has com-bined ISR and POMDPs.
Lu et al (2011) showhow 1-best ISR hypotheses can be used within a sin-gle dialogue turn.
This work is different than thepresent paper, where we use N-Best lists of ISR re-sults across multiple turns of a dialogue.Specifically, this paper makes two contributions.First, as a foundation, we introduce an IncrementalInteraction Manager (IIM) that enables ISR to beused within the traditional turn-based dialogue man-agement framework.
The IIM confers many, but notall, of the benefits of ISR without requiring mod-ification to a traditional dialogue manager.
Thus,in theory, any existing dialogue system architecturecould use ISR with the addition of an IIM.
Second,we show that pairing our IIM with a POMDP-baseddialogue manager yields a substantial improvementin accuracy for incremental recognition results at thedialogue level.The paper is organized as follows.
Section 2 de-scribes the IIM, section 3 describes the POMDP in-tegration, sections 4 and 5 describe experiments andresults, and section 6 concludes.275Table 1: Example IIM operation.
P = partial ISR result; A = dialogue action.Original CopiedISR IIM DM state DM state DM ActionPrompt: ?Where are you leaving from?
?yew Rej.
P 0 0 -ridge Acc.
P / Rej.
A 0 0 ?I?m sorry...?mckee Acc.
P / Acc.
A 0 1 ?Ok, Mckee...?mckeesport Acc.
P / Acc.
A 0 2 ?Ok, Mckeesport..?mckeesport center Acc.
P / Rej.
A 0 2 ?Ok, Mckeesport..?Prompt: ?Ok, Mckeesport.
Where are you going to?
?pitt Acc.
P / Rej.
A 2 4 ?I?m sorry...?pittsburgh Acc.
P / Acc.
A 2 5 ?Ok, Pittsburgh...?2 Incremental Interaction managerThe Incremental Interaction Manager (IIM) medi-ates communication between the incremental speechrecognizer and the DM.
The key idea is that theIIM evaluates potential dialogue moves by apply-ing ISR results to temporary instances of the DM.The IIM copies the current state of the DM, pro-vides the copied DM with a recognition result, andinspects the action that the copied DM would take.2If the action does not sufficiently advance the dia-logue (such as re-asking the same question), the ac-tion is rejected and the copied DM is discarded.
Ifthe action advances the dialogue (such as asking foror providing new information), then that action isimmediately executed.The system should gracefully handle revisionsfollowing a premature action execution, and a copy-ing procedure is a viable solution for any DM.
Whena revision is received, a second copy of the originalDM is made and the new ISR result is passed to thatsecond copy; if that second copy takes an action thatadvances the dialogue and is different from the ac-tion generated by the first copy, then the first actionis terminated, the first copy of the DM is discarded,the second action is initiated, and the second copyassumes the position of the first copy.
Additionalrevisions can be handled by following the same pro-cedure.
Terminating a speech action and immedi-ately starting another can be jarring (?Say a city /Ok, Boston...?
), which can be mitigated by preced-2If the DM design does not force a state transition followinga result then the DM supplies the the action without copying.ing actions with either a sound or simple silence (atthe expense of some response delay).
Once recog-nition is complete, the copied DM is installed as thenew original DM.Many ISR results can be discarded before passingthem to the DM.
First, only incremental results thatcould correspond to complete user utterance are con-sidered: incomplete results are discarded and neverpassed to the DM.
In addition, ISR results are of-ten unstable, and it is undesirable to proceed withan ISR result if it will very likely be revised.
Thuseach candidate ISR result is scored for stability (Sel-fridge et al, 2011) and results with scores below amanually-set threshold are discarded.Table 1 shows an example of the recognizer, theIIM, and the DM.
For sake of clarity, stability scoresare not shown.
The system asks ?Where are youleaving from??
and the user answers ?MckeesportCenter.?
The IIM receives five ISR results (calledpartials), rejecting the first, yew, because its stabil-ity score is too low (not shown).
With the second,ridge, it copies the DM, passes ridge to the copy,and discards the action of the copied DM (also dis-carded) because it does not advance the dialogue.
Itaccepts and begins to execute the action generatedby the third partial, mckee.
The fourth partial revisesthe action, and the fifth action is rejected since it isthe same.
The original DM is then discarded and thecopied DM state is installed in its place.Overall, the IIM enables a turn-based DM to en-joy many of the benefits of ISR ?
in particular, theability to make turn-taking decisions with a com-plete account of the dialogue history.2763 Integrating ISR with a POMDP-baseddialogue managerA (traditional) dialogue manager based on a partiallyobservable Markov decision process (POMDP DM)tracks a probability distribution over multiple hid-den dialogue states called a belief state (Williamsand Young, 2007).3 As such, POMDP DMs read-ily make use of the entire ASR N-Best list, evenfor low-confidence results ?
the confidence level ofeach N-Best list item contributes proportionally tothe probability of its corresponding hidden state.It is straightforward to integrate ISR and aPOMDP DM using the IIM.
Each item on the N-Best list of an incremental result is assigned a confi-dence score (Williams and Balakrishnan, 2009) andpassed to the POMDP DM as if it were a completeresult, triggering a belief state update.
Note that thisapproach is not predicting future user speech frompartial results (DeVault et al, 2009; Lu et al, 2011),but rather (tentatively) assuming that partial resultsare complete.The key benefit is that a belief state generatedfrom an incremental result incorporates all of thecontextual information available to the system fromthe start of the dialogue until the moment of thatincremental result.
By comparison, an isolated in-cremental result includes only information from thecurrent utterance.
If the probability models in thePOMDP are estimated properly, belief states shouldbe more accurate than isolated incremental results.4 Experimental designFor our experiments we used a corpus of 1037 callsfrom real users to a single dialogue system that pro-vides bus timetable information for Pittsburgh, PA(a subsequent version of Williams (2011)).
This di-alogue system opened by asking the caller to say abus route number or ?I don?t know?
; if the systemhad insufficient confidence following recognition, itrepeated the question.
We extracted the first 3 re-sponses to the system?s bus route question.
Oftenthe system did not need to ask 3 times; our exper-imental set contained 1037 calls with one or moreattempts, 586 calls with two or more attempts, and3It also uses reinforcement learning to choose actions, al-though in this paper we are not concerned with this aspect.356 calls with three or more attempts.
These utter-ances were all transcribed, and tagged for the busroute they contained, if any: 25% contained neithera route nor ?I don?t know?.We ran incremental speech recognition on eachutterance using Lattice-Aware Incremental SpeechRecognition (Selfridge et al, 2011) on the AT&TWATSONSM speech recognizer (Goffin et al, 2005)with the same rule-based language models used inthe production system.
On average, there were5.78, 5.44, and 5.11 incremental results per utter-ance (plus an utterance-final result) for the first, sec-ond, and third attempts.
For each incremental result,we noted its time stamp and interpretation: correct,if the interpretation was present and correct, other-wise incorrect.
Each incremental result included anN-Best list, from which we determined oracle accu-racy: correct if the correct interpretation was presentanywhere on the most recent ISR N-Best list, other-wise incorrect.Each incremental result was then passed to theIIM and POMDP DM.
The models in the POMDPDM were estimated using data collected from a dif-ferent (earlier) time period.
When an incrementalresult updated the belief state, the top hypothesisfor the route was extracted from the belief state andscored for correctness.
For utterances in the first at-tempt, the belief state was initialized to its prior; forsubsequent attempts, it incorporated all of the prior(whole-turn) utterances.
In other words, each at-tempt was begun assuming the belief state had beenrunning up to that point.5 Results and DiscussionWe present results by showing instantaneous seman-tic accuracy for the raw incremental result (base-line), the top belief state, and oracle.
Instantaneoussemantic accuracy is shown with respect to the per-cent of the total recognition time the partial is rec-ognized at.
An utterance is incorrect if it has no in-cremental result before a certain percentage.We show 2 sets of plots.
Figure 1 shows only in-cremental recognition results and excludes the end-of-utterance (phrase) results; Figure 2 shows incre-mental recognition results and includes phrase re-sults.
It is useful to view these separately since thephrase result, having access to all the speech, is sub-277Figure 1: Instantaneous semantic accuracy of incremental results, excluding phrase-final resultsFigure 2: Instantaneous semantic accuracy of incremental and phrase-final resultsstantially more accurate than the incremental results.Figure 1 shows that the POMDP is more accu-rate than the raw incremental result (excluding end-of-phrase results).
Its performance gain is minimalin attempt 1 because the belief is informed only bythe prior.
In attempt 2 and 3, the gain is largersince the belief also benefits from the previous at-tempts.
Since the top POMDP result in subsequentattempts is sometimes already correct (because itincorporates past recognitions), the POMDP some-times meets and occasionally exceeds the oracle dur-ing the early portions of attempts 2 and 3.Figure 2 shows that when end-of-phrase recog-nition results are included, the benefit of the beliefstate is limited to the initial portions of the secondand third turns.
This is because the POMDP mod-els are not fit well to the data: the models wereestimated from an earlier version of the system,with a different user base and different functionality.Identifying and eliminating this type of mismatchis an important issue and has been studied before(Williams, 2011).Taken as a whole, we find that using belief track-ing increases the accuracy of partials by over 8%(absolute) in some cases.
Even though the finalphrase results of the 1-best list are more accuratethan the belief state, the POMDP shows better ac-curacy on the volatile incremental results.
As com-pared to the whole utterance results, incremental re-sults have lower 1-best accuracy, yet high oracle ac-curacy.
This combination is a natural fit with thePOMDPs belief state, which considers the whole N-Best list, effectively re-ranking it by synthesizing in-formation from dialogue history priors.6 ConclusionThis paper has taken a step toward integrating ISRand POMDP-based dialogue systems.
The Incre-mental Interaction Manager (IIM) enables a tradi-tional turn-based DM to make use of incrementalresults and enjoy many their benefits.
When thisIIM is paired with a POMDP DM, the interpreta-tion accuracy of incremental results improves sub-stantially.
In the future we hope to build on this workby incorporating Reinforcement Learning into turn-taking and dialogue action decisions.AcknowledgmentsThanks to Vincent Goffin for help with this work,and to the anonymous reviewers for their commentsand critique.
We acknowledge funding from theNSF under grant IIS-0713698.278ReferencesT.
Baumann, M. Atterer, and D. Schlangen.
2009.Assessing and improving the performance of speechrecognition for incremental systems.
In Proc.
NAACL:HLT, pages 380?388.
Association for ComputationalLinguistics.O.
Bu?
and D. Schlangen.
2011.
Dium?an incremen-tal dialogue manager that can produce self-corrections.Proceedings of semdial.David DeVault, Kenji Sagae, and David Traum.
2009.Can i finish?
learning when to respond to incrementalinterpretation results in interactive dialogue.
In Pro-ceedings of the SIGDIAL 2009 Conference, pages 11?20, London, UK, September.
Association for Compu-tational Linguistics.V.
Goffin, C. Allauzen, E. Bocchieri, D. Hakkani-Tur,A.
Ljolje, S. Parthasarathy, M. Rahim, G. Riccardi,and M. Saraclar.
2005.
The AT&T WATSON speechrecognizer.
In Proceedings of ICASSP, pages 1033?1036.D.
Lu, T. Nishimoto, and N. Minematsu.
2011.
Decisionof response timing for incremental speech recogni-tion with reinforcement learning.
In Automatic SpeechRecognition and Understanding (ASRU), 2011 IEEEWorkshop on, pages 467?472.
IEEE.D.
Schlangen and G. Skantze.
2009.
A general, ab-stract model of incremental dialogue processing.
InProceedings of the 12th Conference of the EuropeanChapter of the Association for Computational Linguis-tics, pages 710?718.
Association for ComputationalLinguistics.E.O.
Selfridge, I. Arizmendi, P.A.
Heeman, and J.D.Williams.
2011.
Stability and accuracy in incremen-tal speech recognition.
In Proceedings of the SIGdial2011.G.
Skantze and D. Schlangen.
2009.
Incremental dia-logue processing in a micro-domain.
In Proceedingsof the 12th Conference of the European Chapter ofthe Association for Computational Linguistics, pages745?753.
Association for Computational Linguistics.B.
Thomson and S. Young.
2010.
Bayesian update of di-alogue state: A pomdp framework for spoken dialoguesystems.
Computer Speech & Language, 24(4):562?588.J.D.
Williams and S. Balakrishnan.
2009.
Estimatingprobability of correctness for asr n-best lists.
In ProcSIGDIAL, London, United Kingdom.J.D.
Williams and S. Young.
2007.
Partially observablemarkov decision processes for spoken dialog systems.Computer Speech & Language, 21(2):393?422.J.D.
Williams.
2011.
An empirical evaluation of a sta-tistical dialog system in public use.
In Proceedings ofthe SIGDIAL 2011 Conference, pages 130?141.
Asso-ciation for Computational Linguistics.S.
Young, M. Gasic, S. Keizer, F. Mairesse, J. Schatz-mann, B. Thomson, and K. Yu.
2010.
The hiddeninformation state model: A practical framework forpomdp-based spoken dialogue management.
Com-puter Speech & Language, 24(2):150?174.279
