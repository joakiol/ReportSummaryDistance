						ISYS GroupAI DepartmentTechnical University ofMadridBoadilla del Monte, 28660Madrid, Spainagarcia@ dia.fi.upm.es	Advanced DB GroupCS DepartmentUniversidad Carlos IIIde MadridAvda.
Universidad 30Legan?s 28911, Madrid,Spainpmf@inf.uc3m.es	ISYS GroupAI DepartmentTechnical University of MadridBoadilla del Monte, 28660Madrid, Spainlrodrigo@isys.dia.fi.upm.esThis paper presents the adaptation andcustomization of two lexical resources:Brill tagger, Brill (1992), andEuroWordNet, Vossen et al (1998), tobe used in the ADVICE projectdevoted to build an intelligent virtualreality sales and service system thatuses human language technology. The work described in this paper iscomprised in the ADVICE1 project, whichconsists of the development of a new interfacefor a craftsmanship tools e-commerce system.With the aim of providing full support tocustomers of online shops and to the users ofelectronic services on the Internet during thecomplete customer service lifecycle; theADVICE system will provide:An advanced multimedia user interfacesupporting natural language text input andoutput, as well as an animated assistant, thatensures a high level of user-system interaction.A software environment for building intelligentsales assistants for two types of selling andmarketing services: sales-service and after salesservice.The virtual assistant supported by thisapplication will be capable of interacting withthe user in natural language, adapt itsrecommendations to the requirements and1Virtual Sales Assistant for the Complete Customer ServiceProcess in Digital Markets.
IST Project 1999-11305characteristics of the customers and provideexplanations of the advised products as well asof the different interesting alternatives.The dialogue is focussed on accomplishinga specific task, ordering products in an e-commerce system as well as getting adviceabout those products.
The complexity of thisdomain lies in the broad product range withspecialization of the crafts for particular tasksand applications.One of the main aspects of the buying-selling interaction in the web is the capability ofthe web site of generating some kind of trustfeeling in the buyer, just like a human shopassistant would do in a person-to-personinteraction.
Things like understanding the buyerneeds, being able to give him technical advice,assisting him in the final decision are not easythings to achieve in a web selling site.
Naturallanguage (NL) techniques can play a crucial rolein providing this kind of enhancements.Another good motivation to integratenatural language technology in this kind of sitesis to make the interaction easy to those peopleless confident with the Internet or evencomputer technologies.
Inexperienced users feelmuch more comfortable expressing themselvesand receiving information in natural languagerather than through the human standard ways.An ADVICE project objective is to build ageneric language processing componentfollowing a language engineering approach, thatis, to achieve maintainability, time optimization,robustness, flexibility, domain adaptability andgenerality.
These features require profiting fromthe existing resources taking into account thatthe goal is to achieve systems that work in realdomains.
Therefore, resources adaptation is acrucial step when developing this kind ofsystems, because these resources are not usuallycompatible with domain requirements.At current state two linguistic resourceshave been analyzed and adapted in order to beincorporated into the ADVICE project: Brilltagger, Brill (1992), and EuroWordNet, Vossenet al (1998).The paper is structured as follows: nextsection focuses on a brief description of the NLmodule of ADVICE project; section 3 is devotedto explain how the corpus study has influencedthe customization of the lexical resources;sections 4 and 5 outline the Brill tagger andEuroWordnet extension to cover specificdomain peculiarities and, finally, in section 6some conclusions and future work are presented. !
""#	 $	 %	 Figure 1 shows the architecture of theADVICE system.
The Interface Agent includesthe  	  componentthat is in charge of analyzing the user utterancesas well as of generating the appropriate answersaccording to the dialogue.The input sentence is interpreted in order toobtain a semantic representation.
At thismoment, two interpretation strategies aredefined.
Firstly, message extraction techniquesuseful in specific domains are used in ADVICE,implemented by means of semantic grammarsreflecting e-commerce generic sentences andidioms, sublanguage specific patterns andkeywords.
Secondly, if the pattern matchinganalysis does not work successfully, a robustprocessor that makes use of several linguisticresources (Brill tagger, EuroWordNet and aPhrase Segmenter) integrates syntactic andsemantic analysis in different ways.
The aim isto attach the identified (syntactic or semantic)segments of the sentence in a partial structure togo on with the dialogue.Concerning the generation of answers, adomain-specific template-based approach isproposed.
The templates used to generate naturallanguage answers can be propositional (if theyrequire arguments to fill the slots in) or notpropositional (for instance, agreements,rejections and topic movements).The information gathering for the 	  involves differentsources: dialogues collected from users, thedatabase of products and users and commonsense about human-computer interaction.& '	When dealing with such a restricteddomain, a great amount of the possibilities ofsuccess relies on the domain adaptationcapability that the system proves.
As long as anintelligent, open domain and human-computerdialogue is far from being realistic, the designersusually focus on the customization of theavailable resources so that they are astrustworthy as possible when applied to selectedinput, even though this implies a loss ofaccuracy when it has to do with out-of-the-domain texts.The decision of directly adapting existingresources comes from the fact that the initial()	'*+,	-()		"#	$$	GUI,17(5)$&$*(1SHOPInternetWAP,17(5$&7,2$*(1,17(//,*(1$*(1Session ModelNL Interpreter andGeneratorDialogue ManagerUser ModelProblem SolverDomain Modelupdateddiscoursememory3D CharacterPatternMatchingAnalysiRobustProcessinSemanticGrammarsBrillTaggerPhraseSegmenterEuroWordnetUserUtteranceNL InterpreterSemanticStructuresInteraction AgentAnsweGenerationDomainTemplatesNL GeneratorSemanticStructuresOutputUtterancesMATERIALFEATURESMODELTYPETOOLTYPEACCESSORIESACTIONOBJECTFEATURESuseful for hasacts onmade ofis acontainscharacterized bybelongs tocharacterized byamount of data available was almost non-existent.
In other situation we could haveconsidered the possibility of developing theresources from scratch or, at least, training them(specially the tagger) so that its knowledge wascompletely acquired for this application, but thatwas too time consuming.A Wizard of Oz experiment was conductedto gain some domain specific data to work with.A corpus of 527 sentences resulted from thisexperiment, which were lexically andsyntactically annotated.
As a side effect of thisexperiment, the members of the developmentteam considerably increased their knowledgeand familiarity with the domain characteristics.The corpus analysis has been performedkeeping in mind the need to separate domain-independent aspects of the system from thedomain-specific components that serve to definespecific application domains.Regarding the adaptation of the resources,both of them (Brill tagger and EuroWordnet)were affected by the results of the above-mentioned process.
As long as more and moreterminology was studied, it became evident thehighly structured way in which it could beorganized.Although both lexical resources areexplained in detail in sections 4 and 5, somespecial issues relating to domain-basedcustomization are outlined below.After a careful study, the ontologyshown in figure 2 was developed, having each ofthe boxes a complete set of specific terminology(see figure 3).At this stage EuroWordnet had beenunderstood to bring robustness to the NLanalysis contributing with its huge amount ofwords in the form of a semantic network, but thesimilarity of the proposed ontology withEuroWordnet built-in structure lead us to aproposal of extending the EuroWordnetsemantic network with the specific vocabularyregarding our context and, even more important,the relationships among them.
To carry out thisproposal, it was firstly considered the option ofmaking use of the existing relations ofEuroWordnet and its domain labels.
We will addthe terminology and definitions that were notpreviously integrated, and tag all the specificterminology with a domain label, so that it couldbe directly identified as a word of specialinterest for our needs and related to other wordsin the domain.
Unfortunately the first study ofthis possibility revealed that it turned to be aprocess much less intuitive than it appears atfirst sight, and a deeper study about how thisprocess could be implemented is being carriedout at the moment of writing this paper.Concerning Brill tagger, its revision wasalso affected by the aforementioned corpusanalysis.
First, the sentences extracted from thecorpus were analyzed in order to obtain a set ofgeneric patterns (about 90 patterns).
This haddirect repercussions in the set of contextual rules(the rules that the tagger uses to select thecorrect tag for a word considering the context inwhich it appears) which were adapted to fit thedomain peculiarities detected in the patterns, asshown in figure 4.
Some new rules weredeveloped and some of the existent weremodified.The set of tags was also changed to help inthe domain customization process.
A new tag?XX?
was defined to tag the words not present inthe lexicon.
The words tagged with this tag aregood candidates to be domain terminology andare stored in a special file to be analyzed.
As aresult of this process, after the tagging of asufficient amount of text, we have a collectionof words that are good candidates to build up aspecialized lexicon.
This lexicon can be used asa support for the original one, filling the gaps(&)	'	$	-	$		$	-MATERIALaluminumplasticalloysteel...PVCchipboardplasterwood...(.)
$$		is the best choice for                                       ?What Keyverb ObjectWhich6HQWHQFHSDWWHUQcontextual_rule([?for?/Tag1,Word2/?NN?|InputRest],[?for?/Tag1,Word2/?VBG?|OutputRest]):-ps(Word2,TagList),belongs(?VBG?,TagList),!,apply_cr(InputRest, OutputRest).&RQWH[WXDOUXOHthat it may have when dealing with specificlanguage, and can be further refined as more andmore terms are tagged as ?XX?.Next sections focus on the main topics ofBrill tagger and EuroWordnet extension andadaptation.. 	/	0The Brill tagger, Brill (1992), is a rule-basedpart of speech tagger programmed in Perl forEnglish language.
A morphological analysis of aword form produces a set of possible base formswith associated inflectional information.
Foreach occurrence of a word form in context, aPOS (Part-of-Speech) tagger discriminateswhich of these base forms is more likely in thecontext.
Our objective with this tagger wastwofold.
Firstly, the tagger was translated (andsoftly modified) into Prolog, and then, anexhaustive study was carried out in order toadapt it to ADVICE domain.The development environment used inADVICE project, Ciao Prolog, Bueno et al(1999), motivates the translation of resourcesinto Prolog.
Furthermore, Prolog allows rapiddevelopment and facilitates efficient and real-time processing.The tagger has three kinds of knowledge: abase lexicon, contextual rules and lexical rules.The  is a long list of words with one ormore possible tags associated.
It is used to thefirst assignment of tags to the input text.
Theoriginal knowledge is stored in a text file whereeach line contains the word and the possible tagsthat can be associated to the word.
There are93696 different entries.
This lexicon wasdirectly translated into Prolog facts, having thefollowing structure: ps(Word,ListOfTags).
The words are stored as Prologterms and have been alphabetically sorted totake advantage of the indexing capabilities ofProlog.
Here is a glance at the file contents:ps(?charts?,[?NNS?,?VBZ?]).ps(?chary?,[?JJ?]).ps(?chase?,[?NN?,?JJ?,?VB?,?VBP?).ps(?chased?,[?VBN?,?VBD?]).ps(?chasers?,[?NNS?]).ps(?chasing?,[?VBG?,?NN?
]).The   manage the knowledgerelative to the suitable tags for a word regardingthe context in which it appears.
It considers boththe words and the tags that surround the wordunder consideration and decides about thecorrectness of the preassigned tag.
The originalfile contains 284 rules, stored in a text file in thefollowing format: NN VB PREVTAG TO,which means ?change a NN (noun, singular ormass) tag to VB (verb, base form) if theprevious tag is TO?.
These contextual rules havebeen translated into a set of Prolog rules plus apredicate that goes through the input and appliesthe appropriate rule if necessary until it reachesthe end of the text to tag.
Every time it changesa tag, it checks that the new tag is contained inthe set of allowed tags for that word.
In othercase, the rule is not applied.
Below, the mainpredicate and an example rule are shown:apply_cr([],[]).apply_cr(List1,List2):-contextual_rule(List1,List2).contextual_rule([Word1/?TO?,Word2/?NN?|InputRest],[Word1/?TO?,Word2/?VB?|OutpRest]):-ps(Word2,TagList),belongs(?VB?,TagList),!,apply_cr(InputRest,OutpRest).As in the case of the original Brill, the orderof the rules is relevant to the final result, as oneof the early rules may affect the context of aword so that a later rule may (or may not) beapplicable.The   are used to infer the mostpossible tag for a word considering its lexicalshape, specially its prefixes and suffixes.
Fromthe 148 original rules, only the 63 regarding tosuffixes have been translated at this moment.The structure of the original rules is: lyhassuf 2 RB representing ?if the word hasthe suffix, of length 2, "-ly", assign the tag RB(adverb)?.
The structure of the Prolog predicatescontaining these lexical rules is equal to the onefrom the contextual rules; we have an "apply_lr"predicate and several "lexical_rule", combinedin the same way.Finally, once all the resources have beentranslated, the last part was the simulation of thetagging process.
This has been carried outconsidering the information in Brill (1992), Brill(1994) and Brill (1995), taken as a referencestarting point.
The designed process works asfollows: first of all, the input is pre-processed todecompose the possible contractions.
Next, eachword in the input is attached its most probabletag, taking as the most probable the first one inthe list of the lexicon.
If a word is not present inthe lexicon, it is assigned a special tag XXrepresenting  instead of the nountag that it was assigned in the original tagger.Then, lexical rules are applied (if possible)trying to disambiguate the words that were notfound in the lexicon.
Once every word has a tag,we apply the contextual rules, resulting in thedefinitive tagged text.Apart from the already mentionedmodification of the general process of tagging,some modifications in the knowledge bases havebeen made, basically in order to adapt theresource to our domain (craft tools).
Regardingthe , we have adapted the punctuationmark?s tags to our needs, changing the tags thatthe original Brill tagger used.
The objective wasto assign a different tag to every punctuationmark, giving them a treatment equal to thewords.
These symbols are relevant when we arelooking for a sentence syntax analysis or asentence pattern.
Another change to the lexiconis related with the order of the tags in certainwords, and is further explained in the nextparagraph.The original set of contextual rules wasfirstly translated as is.
With this set of rules, acorpus of 20 dialogues restricted to the domainlanguage obtained by the wizard-of-Ozexperiments was tagged.
We compared theresults to the manually tagged text and weextracted some common mistakes that the taggerwas making (Table 1).
These mistakes couldlead us in two directions.
If it was a mistaggingof a particular word frequently repeated, the bestway to fix it was to change the order of the tagsassociated to that word in the lexicon.+	1 -Mistagging of aparticular word.-Change the tag preferencein the lexicon.-Problems tagging wordcategories.-Modifications in the set ofrules.-Lexical rules applied toalready known words.-Assign tag ?XX?
to unknownwords.0)	0For example, in our domain the word "saw"appears most of the times as a noun while thepreferred tag in the lexicon for that word wasverb.
In this case, placing the noun tag beforethe verb one in the tag list turns to be a good andsimple solution.
If the problem we were facingwas not related to particular words, but to wordcategories, the way to fix it was through theadding/deleting/modification of the contextualrules.
After the study of the errors, wedeveloped several new rules.
For instance, a rulefor ?changing a tag 'IN' (meaning preposition orsubordinating conjunction) to RB (adverb) in thecollocation As ... as?.Finally, concerning the lexical rules, themain change comes from the fact that the wordsthat were not in the lexicon, in the original Brilltagger were annotated as 'NN', while now theyhave an special tag 'XX'.
As these lexical rulestry to disambiguate these kind of words,whenever an original rule was applied to a wordtagged as 'NN', it has been adapted to act on thewords tagged as 'XX'.
Finally, only if none ofthe rules has been able to disambiguate it, it isautomatically changed to 'NN'.2 	,3The first step in adapting EuroWordNetdatabase was to translate it into Prolog.EuroWordNet stores its knowledge in file textsthat are organized in a very structured way.
As afirst approach, the information extracted fromthe databases has been the synonymy,hyponymy and hyperonymy basic relations.
Thisis the minimum information needed to preservethe semantic structure that lies beyondEuroWordNet.
The resulting lexical databasestores the information in the predicate ewn/5 asProlog facts.
The first field references the wordof interest, the second stores the grammaticalcategory of the word, and the following, thesynonyms, hyperonyms and hyponyms,respectively, as is shown below:ewn(?phonograph?, n,sin([?record player?]),hyper([?machine?
]),hypo([?acoustic gramophone?,?jukebox?
])).From the analysis of domain application, anontology of concepts incorporating theterminology has been obtained (a partial viewwas shown in Figure 2).
Intensive work is beingmade in order to merge EuroWordNet anddomain ontology structures, resulting in anenlarged resource fully adapted to our needs anduseful both as a lexicon and as a semanticnetwork.Figure 4 shows an EuroWordNet partialstructure from Vossen et al (1998) on which thevocabulary corresponding to two kinds ofconcepts from the domain ontology (OBJECTand ACTION) have been integrated (coloredrounded boxes with a dotted line).
Moreover, anew semantic relation named  is alsoshown to represent the association betweenOBJECT and ACTION.
However, some of therelationship provided by EuroWordNet (apartfrom synonymy, hiponymy, and meronymy)could probably cover some of the relationspresent in the domain ontology.In the same way, TOOL terminology isinserted as ; terminology MATERIAL , etc.4 +The most important aspects of Brill taggerand EuroWordNet adaptation to a specificapplication domain and a development platformhave been explained.
These resources are goingto be used in a dialogue system in order to giverobustness to the NL interpretation process.We are currently involved in the process ofimplementation of the enhancements proposedin the paper.
Concerning Brill tagger, onlypreliminary tests have been carried out.
The firsttranslation of the tagger was used to tag theavailable corpus, showing an accuracy of0.9163.
Although this result is far from the stateof the art taggers, it is hopeful result, as theimprovements concerning the full terminologyand complete set of contextual rules had stillbeen incorporated.
Results up to state of the artlevels are expected as the enhancements areimplemented.Related EuroWordNet, we are studying if thesemantic relations (apart from synonymy,hiponymy, meronymy) supported byEuroWordNet are enough to cover therelationships shown in the domain ontology ofFigure 2.
For instance, there are semanticrelationships such as ! ", #", !! , #  andmany others that are useful in the applicationdomain of crafts selling.
(2)	 	 $	 	 $	*57RSVW2UGHU(QWLW\ QG2UGHU(QWLW\6LWXDWLRQ7\SH 6LWXDWLRQ&RPSRQHQW/RFDWLRQ3K\VLFDO6WDWLF '\QDPLF$UWLIDFW,QVWUXPHQW 3DUW&RPSRVLWLRQ 2ULJLQ)XQFWLRQ )RUPEtc?.Etc.2EMHFW 3XUSRVHVDZ$FWVRQVDQGSROLVKFXWURXWHPLOOFKDQJHRISRVLWLRQGLYLGHORFRPRWLRQPRWLRQ'LUHFWLRQGLVWDQFHVSDWLDOSURSHUW\VSDWLDOUHODWLRQFRXUVHSDWKKXPDQDGXOWDGXOWIHPDOHDGXOWPDOHFKLOGQDWLYHRIIVSULQJEHYHODSHUWXUHERDUGSDQHOERG\SDUWFHOOPXVFOHRUJDQVNLQKDLUERG\FRYHULQJOBJECT ACTION$Alonge (1996) Alonge, A., $""#  " !   #  	%&Technical report, Deliverable D006.Bloksma (1996) Bloksma, L., D?ez-Orzas, P.,Vossen, P., ' ( "	"" #  	%&Technical report, Deliverable D001.Brill (1992) Brill, E&)  	 *"	# ++& Proceedings of the ThirdConference on Applied Natural LanguageProcessing, ANPL, ACL, Trento, Italy, pp.
152-155.Brill (1994) Brill, E.,!  *"	#+++& Proceedings of the TwelfthNational Conference on Artificial Intelligence(AAAI-94),  Seattle, Wa.
, pp.
722-727.Brill (1995) Brill, E., ,"*- *$! +  ++.+/  0   ." 	#,+++& Computational Linguistics, 21(4): 543-565Bueno et al (1999), F. Bueno, D. Cabeza, M. Carro,M.
Hermenegildo, P. L?pez, and G. Puebla.
,#0 .+ /    +.++ !) 1102'& The Ciao System DocumentationSeries Technical Report CLIP 3/97.1, The CLIPGroup School of Computer Science TechnicalUniversity of Madrid.Climent (1996) Climent, S., Rodr?guez, H., Gonzalo,J., $""# "#  	%& Technical report,Deliverable D005.Gonzalo et al (1998) Gonzalo, J., Verdejo, M.F.,Chugur, I., L?pez, F., Pe?as, A., 3  4    ! 5& Revista SEPLN n?
23, 1998.Hepple (2000) Hepple, M., 	/ 	 "  +"*.
++& 38th Annualmeeting of the Association for ComputationalLinguistics (ACL-2000), pp 278-285, Hong Kong,October 2000.Kilgarriff (1997) Kilgarriff, A., ++    + " " & Proc.Workshop on Lexicon Driven InformationExtraction, Frascati, Italy, July 1997.Mart?nez et al (2000), Mart?nez, P.; Garc?a-Serrano,A., ,# " +* #+ ++ !& ExpertSystems with Applications 19 , 31-44, 2000.Miller et al (1990), Miller, G. A., Beckwith, R.,Fellbaum, C., Gross, D., Miller, K.,  5/  *  $&(Revised August 1993).
Princeton University,New Jersey.Vossen et al (1998), Vossen, P., Bloksma, L.,Rodr?guez, H., Climent, H., Calzolari, N.,Roventini, A., Bertagna, F., Alonge, A., Peters,W., ,# 5 - 0	 ,+& 67& EuroWordNet (LE 4003)Deliverable.
