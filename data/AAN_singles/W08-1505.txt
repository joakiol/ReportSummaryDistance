Coling 2008: Proceedings of the workshop on Speech Processing for Safety Critical Translation and Pervasive Applications, pages 24?31Manchester, August 2008??2008.
?Licensed?under?the Creative?CommonsAttribution?Noncommercial?Share?Alike?3.0?Unported li?Cense?(http://creativecommons.org/licenses/by?nc?sa/3.0/).Some?rights?reserved.Interoperability?and?Knowledge?Representation?in?Distributed?Healthand?Fitness?Companion?Dialogue?SystemJaakko?HakulinenDepartment?of?Computer?Sciences33014?University?of?Tampere,?Finlandjaakko.hakulinen@cs.uta.fiMarkku?TurunenDepartment?of?Computer?Sciences33014?University?of?Tampere,?Finlandmarkku.turunen@cs.uta.fiAbstractAs?
spoken?
dialogue?
systems?
move?
be?yond?task?oriented?dialogues?and?becomedistributed?
in?
the?
pervasive?
computingenvironments,?
their?
growing?
complexitycalls?
for?
more?
modular?
structures.?
Whendifferent?
aspects?
of?
a?
single?
system?
canbe?
accessed?
with?
different?
interfaces,knowledge?
representation?
and?
separationof?
low?
level?
interaction?
modeling?
fromhigh?
level?reasoning?on?domain?
level?be?comes?
important.?
In?
this?
paper,?
a?
modelutilizing?a?dialogue?plan?to?communicateinformation?from?domain?level?planner?todialogue?management?and?from?there?to?aseparate?
mobile?
interface?
is?
presented.The?
model?
enables?
each?
part?
of?
the?
sys?tem?
handle?
the?
same?
information?
fromtheir?
own?
perspectives?
without?
contain?ing?overlapping?logic.1 IntroductionMost?
existing?
spoken?
dialogue?
systems?
pro?vide?
a?
single?
interface?
to?
solve?
a?
well?definedtask,?
such?
as?
booking?
tickets?
or?
providing?
time?table?
information.?There?are?
emerging?areas?thatdiffer?
dramatically?
from?
task?oriented?
systems.In?
domain?oriented?
dialogues?
(Dybkjaer?
et?
al,2004)?
the?
interaction?
with?
the?
system,?
typicallymodeled?as?a?conversation?with?a?virtual?human?like?character,?can?be?the?main?motivation?for?theinteraction.?These?systems?are?often?
multimodal,and?may?take?place?in?pervasive?computing?envi?ronments?
where?
various?
mobile,?
robotic,?
andother?untraditional?
interface?are?used?
to?commu?nicate?with?
the?system.?For?example,?
in?
the?EU?funded?
COMPANIONS?project?
(Wilks,?
2007)we?
are?
developing?
a?
conversational?
Health?
andFitness?
Companion?
that?
develops?
long?lastingrelationships?
with?
its?
users?
to?
support?
theirhealthy?
living?
and?
eating?
habits?
via?
mobile?
andphysical?agent?interfaces.?Such?systems?have?dif?ferent?
motivations?
for?
use?
compared?
to?
tradi?tional?
task?based?
spoken?
dialogue?
systems.?
In?stead?of?helping?with?a?single,?well?defined?task,the?system?aims?at?building?a?long?term?relation?ship?
with?
its?
user?
and?
providing?
support?
on?
adaily?basis.1.1 Mobile?and?Physical?Agent?InterfacesNew?
kinds?of?
interfaces?
are?used?
increasinglyoften?
in?
conjunction?
with?
spoken?
dialogue?
tech?nology.?
Speech?
suits?
mobile?
interfaces?
well?
be?cause?it?can?overcome?the?limited?
input?and?out?put?modalities?of?
the?small?
devices?and?can?alsobetter?
support?
using?
during?
the?
moments?
whentheir?hand?or?eyes?are?busy.?Physical?agent?inter?faces,?on?
the?other?hand,?have?been?used?
in?sys?tems,?which?
try?
to?
make?
dialogue?systems?
morepart?of?people?s?life.?In?many?cases,?they?includerich?multimodal?input?and?output?while?providinga?physical?outlook?for?the?agent.?While?naturalis?tic?
human?like?
physical?
robots?
are?
under?
devel?opment,?
especially?
in?
Japan,?
there?
is?
room?
for?
avariety?
of?
different?
physical?
interface?
agentsranging?
from?
completely?
abstract?
(e.g.,?
simpledevices?with?lights?and?sound)?to?highly?sophisti?cated?
anthropomorphic?
apparatus.?
For?
example,Marti?and?Schmandt?(2005)?used?several?toy?ani?mals,?
such?
as?
bunnies?
and?
squirrels,?
as?
physicalembodied?
agents?
for?
a?
conversational?
system.Other?example?is?an?in?door?guidance?and?recep?tionist?
application?
involving?a?
physical?
interfaceagent?
that?
combines?
pointing?gestures?
with?
con?versational?speech?technology?(Kainulainen?et?al.,2005).?Some?physical?
agent?
technology?has?
also24been?
commercialized.?For?
example,?
the?
wirelessNabaztag?
/tag?
rabbits(http://www.nabaztag.com/)?
have?
been?
successand?
an?
active?
user?
community?
has?
emergedaround?it.Both?
mobile?
use?
and?
physical?
agent?
interfacecan?
support?
the?
goal?
of?
making?
a?
spoken?
dia?logue?
system?
part?
of?
users??
everyday?
life?
andbuilding?
a?
meaningful?
relationship?
between?
thesystem?and?the?user.?It?has?been?found?that?mereexistence?
of?
a?
physical?
interface?
changes?
users?attitude?
toward?a?
system?and?
having?access?
to?
asystem?throughout?the?day?via?a?mobile?interfaceis?likely?to?further?support?this?relationship.In?
this?work,?we?have?used?
the?Nabaztag?as?amultimodal?physical?interface?to?create?a?conver?sational?
Health?
and?
Fitness?
Companion?
and?
amobile?
version?
interface?
for?
outdoor?
usage?
hasbeen?implemented?on?Windows?Mobile?platform.1.2 Inter?component?
Communication?
andKnowledge?Representation?ChallengesIn?
systems,?
where?
multiple?
interfaces?
can?
beused?to?access?parts?of?the?same?functionality?andthe?system?interacts?with?a?user?many?times?overa?
long?
time?period,?modeling?
the?
interaction?anddomain?
easily?
becomes?
complex.?
For?
example,the?system?should?model?interaction?history?on?alonger?timescale?than?a?single?session.?With?mul?tiple?
interfaces,?
at?
least?
some?
such?
informationcould?be?useful?if?they?can?be?shared?between?theinterfaces.?Furthermore,?the?system?must?includea?model?
capable?of?
reasoning?about?
the?domain,and?
learn?from?the?user?and?his?or?her?actions?toprovide?
meaningful?
interaction,?
such?
as?
to?
pro?vide?
reasonable?
guidance?
on?
user?s?
health?
andprogress?
as?
the?user?s?condition?alters?over?
timein?our?case?with?the?Health?and?Fitness?Compan?ion.?
Such?
reasoning?
should?
be?
concentrated?
onone?
component,?
instead?
of?
duplicating?
the?
logicto?keep?the?system?maintainable.?Still,?
the?
infor?mation?
must?
be?
communicated?
over?
differentinterfaces?and?the?component?inside?them.?There?fore,?modularization?of?the?system?and?appropri?ate?knowledge?representation?become?vital.On?
dialogue?
management?
level,?
a?
commonway?to?take?some?complexity?away?from?the?dia?logue?
manager?
and?
limit?
its?
tasks?
more?
specifi?cally?
to?
dialogue?
management?
is?
to?
separate?do?main?
specific?
processing,?
such?
as?
database?
que?ries,?into?a?back?end?component.?Many?research?ers?have?worked?with?separating?generic?dialoguemanagement?processes?from?the?domain?specificprocesses.?
Example?
solutions?
include?
shells(J?nsson,?
1991)?
and?
object?
oriented?
program?ming?methods?(Salonen,?
et?al.,?2004,?O?Neill,?etal.,?2003).?On?the?other?hand,?a?simple?back?endinterface,?
e.g.,?
SQL?
queries,?
can?
be?
included?
asconfiguration?
parameters?
(Pellon?
et?
al.,?
2000).Since?
dialogue?
management?
is?
usually?
based?
onstate?
transition?
networks,?
form?
filling,?
or?
someother?
clearly?
defined?
model,?
separating?
domainspecific?processing?to?the?back?end?makes?it?pos?sible?
to?
implemented?
dialogue?
managementpurely?with?the?selected?model.Health?and?Fitness?Companion,?as?discussed?inthe?
following,?
is?
based?
on?
a?
model?
where?
thedomain?specific?
module?
is?more?than?just?a?sim?ple?
interface?
and?
includes?
active?
processing?
ofdomain?information,?reasoning,?learning,?or?othercomplex?
processes.?
We?
call?
such?
a?
componentthe?cognitive?model.?While?the?task?of?a?dialoguemanager?is?to?maintain?and?update?dialogue?state,the?
cognitive?
model?
reasons?
using?
the?
domainlevel?
knowledge.?
In?
our?
case,?
we?
have?
two?
dia?logue?managers,?one?for?the?home?system?with?aphysical?
interface?agent?and?one?for?mobile?sys?tem?(yet?another?
is?
in?development,?but?not?con?sidered?here).?The?two?handle?somewhat?separatetasks?but?
each?
provides?
input?
to?
another?
and?
thecognitive?
model.?
Separation?of?
the?
task?betweenthe?
different?
parts?
is?
not?
trivial.?
For?
example,managing?
dialogue?
level?
phenomena,?
such?
aserror?
handling?
and?
basic?
input?
processing,?
aretasks?
clearly?
in?
the?
areas?
of?
respective?
dialoguemanagers.?However,?cognitive?modeling?can?helpin?
error?
handling?
by?
spotting?
input?
that?
seemssuspicious?
based?
on?
domain?
level?
informationand?
input?
parsing?
by?
providing?
information?
onpotential?discussion?topics.?The?solution?we?havedevised?is?to?have?the?cognitive?model?produce?adialogue?
plan?
for?
the?
dialogue?
management?
inhome?
system.?
The?
dialogue?
management?
in?
thehome?
system?
provides?
parsed?
user?
inputs?
to?
thecognitive?
model?
and?
to?
the?
mobile?
system.?
Themobile?system?provides?similar?input?back?to?thehome?system,?which?communicates?it?back?to?thecognitive?model.In?
the?
following?
we?
describe?
the?
Health?
andFitness?dialogue?system?in?general.?Then?we?dis?cuss?
the?
mobile?
interface,?
the?
dialogue?
managerof?the?home?system?and?the?cognitive?model,?be?fore?
going?
into?
details?
on?
how?
the?
componentshave?
been?
separated.?
The?
solution,?
which?
pro?vides?
great?
flexibility?
for?
each,?
is?
discussed?
be?fore?conclusions.252 Health?and?Fitness?CompanionThe?Health?and?Fitness?Companion?(H&F)?is?aconversational?
interface?
for?
supporting?
healthylifestyle.?The?companion?plans?each?day?togetherwith?
its?
user?
at?
home,?
and?
suggests?
healthy?
ac?tivities,?such?as?walking?to?work,?when?possible.During?
the?
day,?
a?
mobile?
interface?
to?
the?
Com?panion?
can?
be?
used?
to?
record?
various?
physicalactivities,?
such?
as?
those?
walks?
to?
work.?
After?wards,?the?user?is?able?to?report?back?to?the?com?panion?on?the?day,?and?get?more?advice?and?sup?port.?
At?
this?
point?
information?
recorded?
by?
themobile?
system?
is?
automatically?used?by?
the?
sys?tem.?Figure?1:?Health?and?Fitness?Companion?Sce?nario.As?
seen?
in?
Figure?
1,?
H&F?
home?
system?
uses?
aNabaztag/tag?
WLAN?
rabbit?
as?
a?
physical?
inter?face.?
Nabaztag?
provides?
audio?
output?
and?
push?to?talk?input,?and?is?able?to?move?its?ears?and?op?erate?
four?
colored?
lights?
to?
signal,?
for?
example,emotions.?The?mobile?interface,?as?seen?in?figure2,?
runs?
on?
a?
Window?
Mobile?
platform?
and?
usespush?to?talk?
speech?
input,?
speech?
output?
and?
agraphical?interface?with?key?and?stylus?input.?Thegraphics?include?Nabaztag?graphics?and?the?samevoice?as?in?the?home?system?is?used?for?output?tohelp?users?associate?
the?
two?
interfaces.?The?
mo?bile?
Companion?
follows?
the?
user?
for?
physicalactivities,?
such?
as?
jogging,?
and?
collects?
data?
onthe?
exercises?
and?
feeds?
this?
back?
into?
the?
mainsystem.?
While?
it?
includes?
a?
multimodal?
speechinterface,?the?main?input?modality?for?the?mobileCompanion?
can?
be?
considered?
to?
be?
GPS?
posi?tioning.?It?is?used?to?collect?information?on?user?sexercise?
and?
provide?
feedback?
during?
the?
exer?cise.?It?is?also?used?as?the?detection?for?the?com?pletion?
of?
the?
exercises,?
which?
information?
isthen?forwarded?to?the?home?system?and?the?cog?nitive?model.From?technical?viewpoint,?H&F?is?a?multimo?dal?
spoken?
dialogue?
system?
containing?
compo?nents?
for?
speech?
recognition?
(ASR),?natural?
lan?guage?
understanding?
(NLU),?
dialogue?
manage?ment?
(DM),?
natural?
language?generation?
(NLG),and?
speech?
synthesis?
(TTS).?
Furthermore,?
it?
in?cludes?
a?
separate?
cognitive?
model?
(CM),?
whichworks?
in?
close?
co?operation?
with?
DM?
of?
thehome?
system,?
as?presented?
in?
the?
following?
sec?tions.?The?dialogue?system?in?the?home?system?isimplemented?
using?
Java?
and?
Jaspis?
framework(Turunen?
et?
al.,?
2005)?
with?
jNabServer(http://www.cs.uta.fi/hci/spi/jnabserver/)?
for?
Na?baztag?
connectivity.?
The?
cognitive?
model?
is?
im?plemented?
in?Lisp?and?
integrated?
into?
the?
Jaspisframework.?The?mobile?interface?is?implementedin?Java?with?native?C++?code?for?speech?technol?ogy?
components.?
It?
uses PART(http://part.sourceforge.net/)?
for?
persistent?
stor?age?and?HECL?for?scripting?in?dialogue?manager(http://sourceforge.net/projects/hecl).?Figure?2:?Mobile?Companion?Interface.GPS?status?barExercisestatus?barAvatar?and?textoutput?area??Good?morning,?anything?interesting?organizedfor?today???I?m?going?for?a?walk.??Is?that?walk?before?dinner???No,?I?think?I?ll?walk?after?I?ve?eaten.??OK,?so?you?are?going?for?a?walk?after?dinner,?isthat?correct???Yes.??Great,?why?don?t?you?cycle?to?work???Okay,?I?can?do?that.??How?about?picking?up?lunch?from?the?shops?26For?
speech?
recognition?
and?
synthesis,?
H&Fuses?
Loquendo?
ASR?and?
TTS.?
Current?
recogni?tion?
grammars?
for?
the?
home?
system,?
derivedfrom?
a?
WOZ?
data?
and?
extended?
using?
user?
testdata,?have?a?vocabulary?of?1090?words?and?a?to?tal?of?436?grammar?rules.?Recognition?grammarsare?
dynamically?
selected?
for?
each?
user?
input,based?on?the?dialogue?state.?The?mobile?interfaceuse?
mobile?
versions?
of?
Loquendo?
technology.Due?
to?
the?
technological?
limitations,?
more?
chal?lenging?acoustic?
environment,?
potential?physicalexhaustion?of?users,?and?more?restricted?domain,the?recognition?grammars?in?the?mobile?interfacewill?
remain?
significantly?
smaller?
than?
those?
ofthe?home?system.NLU?
is?
based?
on?
SISR?
semantic?
tags(http://www.w3.org/TR/semantic?interpretation/)embedded?
in?
the?
recognition?
grammars.?
In?
thehome?system,?
where?
mixed?
initiative?
interactionis?possible,?
the?tags?provide?parameters?compati?ble?with?predicates?used?to?represent?informationon?the?dialogue?management?level.?Input?parsingunifies?
these?
parameters?
into?
full?
predicatesbased?
on?
the?
current?
dialogue?
state.?
In?
mobilesystem,?
more?
strict?
state?
based?
dialogue?
model?ing?
can?
results?
in?
unambiguous?
output?
straightfrom?the?SISR?tags.Natural?
language?
generation?
is?
a?
mixture?
ofcanned?strings?and,?
in?
the?home?system,?
tree?ad?joining?
grammar?
based?
generation.?
In?
addition,control?
messages?
for?
Nabaztag?
ears?
and?
lightscan?be?generated.As?
discussed?
previously,?
distribution?
and?
co?ordination?
of?
the?
different?
tasks?
between?
differ?ent?
components?
can?
become?
rather?
complex?
insystems?
such?
as?
H&F?
without?
proper?
modelingof?
interaction,?
domain,?
and?
reasoning?
compo?nents.?
Next,?
we?
present?
a?
model?
which?
allowsflexible?
interaction?between?
the?
cognitive?
modeland?the?dialogue?management.3 Dialogue?
Management?
and?
CognitiveModelingThere?is?great?consensus?that?components?of?adialogue?
system?
can?
be?
split?
into?
at?
least?
threeparts:?an?input?module,?which?receives?user?inputand?parses?
it?
into?
a?
logical?
form,?dialogue?
man?agement,?
which?
maintains?
and?
updates?
dialoguestate?
based?
on?
user?
input?
and?
generates?
outputrequests,?and?an?output?module,?which?generatesnatural?
language?output?
to?user?
based?on?
the?
re?quests.?
In?
the?
case?
of?
H&F,?
we?
have?
also?
sepa?rated?
a?
cognitive?
model?
(CM)?
from?
dialoguemanager?(DM),?as?seen?in?Figure?3.?We?call?thismodule?
the?
cognitive?
model,?
because?
it?
containswhat?
can?
be?
considered?
higher?
level?
cognitiveprocesses?of?the?system.?Next,?we?present?DM?ofthe?
home?
system,?
CM?
component,?
and?
the?
mo?bile?interface,?focusing?on?their?interaction.Figure?3:?Information?passed?between?thecomponents.3.1 Cognitive?Model?ResponsibilitiesThe?
task?
of?
CM?
is?
to?
model?
the?
domain,?
i.e.,know?
what?
to?
recommend?
to?
the?
user,?
what?
toask?
from?
the?user?
and?
what?kind?
of?
feedback?
toprovide.?CM?
in?H&F?uses?hierarchical?
task?net?works?
(HTNs)?
(Cavazza?
et?
al.,?
2008)?
as?
themethod?of?planning?healthy?daily?activity?for?
theuser.?Part?
of?
a?network?can?be?
seen?
in?Figure?4.In?the?current?H&F?implementation,?the?planningdomain?included?16?axioms?and?111?methods,?49operators,?42?semantic?tags,?113?evaluation?rulesand?
there?
are?17?different?
topics?
to?be?discussedwith?the?user.TravelActive PassiveCyclingWalkingN?Stop?BusN?Stop?SubwayN?Stop?TrainFigure?4:?Hierachical?Task?Network.CM?
is?
aware?
of?
the?
meaning?
of?
the?
conceptsinside?
the?
system?
on?
a?
domain?
specific?
level.?
Itgenerates?and?updates?a?dialogue?plan?accordingto?
the?
information?
received?
from?
the?
user.?
Theplan?is?forwarded?to?DM.
?Interaction?level?issuesare?not?directly?visible?to?CM.273.2 Dialogue?Management?in?the?Home?Sys?temThe?
task?
of?
DM?
is?
to?
maintain?
and?
update?
adialogue?
state.?
In?
the?H&F?system,?
the?
dialoguestate?
includes?
a?
dialogue?
history?
tree?
(currentlylinear),?a?stack?of?active?dialogue?topics,?and?cur?rent?user?input,?including?ASR?confidence?scoresand?N?best?
lists.?
In?
addition,?
two?pools?of?
itemsthat?
need?
to?
be?
confirmed?
are?
stored;?
one?
foritems?
to?
be?
confirmed?
individually?
and?
anotherfor?
those?
that?
can?
be?
confirmed?
together?
in?
onequestion.DM?
receives?
user?
inputs?
as?
predicates?
parsedby?
the?
NLU?
component.?
If?
an?
utterance?
is?
suc?cessfully?
parsed?
and?
matches?
the?
current?
dia?logue?plan?
(see?Section?3.3),?
DM?does?
not?
needto?know?what?the?meaning?of?the?input?actually?is.It?
just?
takes?
care?
of?
confirmations?
and?
providesthe?
information?
to?CM.?
When?
generating?
outputrequests?based?on?
the?plan,?DM?can?also?be?un?aware?of?
the?specific?meaning?of?
the?plan?
items.Overall,?DM?does?not?need?to?have?the?deep?do?main?understanding?CM?specializes?in.DM,?however,?
is?aware?of?
the?relations?of?
thepredicates?
on?
the?
topics?
level,?
i.e.,?
it?
knows,which?
predicates?
belong?
to?
each?
topic.?
This?
in?formation?
is?
used?
primarily?
for?
parsing?
input.DM?
also?
has?
understanding?
of?
the?
semantics?
ofthe?
predicates?
which?
relates?
to?
interaction.Namely,?
relations?
such?
as?
question?
??
answerpairs?
(suggestion?
??
agreement,?
confirmation?
?acceptance/rejection,?etc.)?are?modeled.On?
implementation?
level,?
dialogue?
manage?ment?
is?
implemented?
as?
a?
collection?
of?
separatesmall?dialogue?agents,?following?the?principles?ofthe?
underlying?
Jaspis?
architecture.?
These?
agentsare?small?software?components,?each?taking?careof?
a?
specific?
task?and?
in?
each?dialogue?
turn?
oneor?
more?
agents?
are?
selected?
by?
DM.?
In?
the?
cur?rent?
H&F?
prototype,?
there?
are?
over?
30?
dialogueagents.?
There?
is?
a?
separate?
agent?
for?
each?
topicthat?can?occur?
in?
the?plan.?
In?practice,?one?
topicmaps?
to?
a?
single?plan?
item.?These?
agents?
are?
allinstances?of?a?single?class?with?specific?configu?rations.?Each?agent?handles?
all?
situations?
relatedto?its?topic;?when?the?topic?is?the?first?item?of?anactive?
plan,?
they?
produce?
related?
output?
andwhen?
the?
user?
provides?
input?
matching?
to?
thetopic?
they?
forward?
that?
information?
back?
to?
thecognitive?
model.?
In?
addition,?
topic?
specificagents?handle?explicit?topic?switch?requests?fromthe?
user?
(e.g.,??let?s?
talk?
about?
lunch?)?
and?
alsotake?
turn?
if?
the?
topic?
is?
found?on?
top?of?
the?dia?logue?
topic?
stack.?
A?
topic?
ends?
up?
in?
the?
stackwhen?it?has?not?been?finished?and?a?new?topic?isactivated.?
The?
other?
agents?
found?
in?
the?
systeminclude?
one?
that?
generates?
a?
confirmation?
if?
theASR?
confidence?
score?
is?
too?
low,?
one?
that?
re?peats?the?
last?system?utterance?when?the?user?re?quests?
it?
(?please?
repeat?
the?
last?
one?),?
and?
anagent?to?handle?ASR?rejection?errors.3.3 Mobile?SystemMobile?system?is?designed?mainly?to?support?us?ers??on?their?physical?exercises?and?collected?dataon?them?fro?the?home?system.?The?mobile?systemreceives?the?day?plan?that?the?user?has?made?withthe?home?system?and?it?is?used?as?basis?when?us?ers?activates?the?system.?This?way,?the?user?doesnot?need?to?re?enter?information?such?as?the?typeof?
an?
exercise.?
This?
is?
possible,?
however,?
withsimple?spoken?dialogue?or?by?using?the?graphicaluser?interface.?During?the?exercise,?GPS?informa?tion?is?used?by?the?system?to?provide?feedback?onpace?
to?
the?
user?
using?
speech?
output.?
For?
dia?logue?
management,?
the?
mobile?
system?
uses?
astate?based?
model,?
based?
on?
scripting.?
Since?
themobile?system?focuses?on?the?physical?exercises,it?
is?
aware?
of?
the?
meaning?
of?
the?
predicates?
itreceives?on?
that?
level.?
It?knows?more?about?run?ning?and?walking?
than?any?other?
component.?Atthe?same?time,?
it?
ignores?most?of?
the?day?plan?
itreceives.?
For?
example,?
eating?
related?
plan?
itemsare?not?relevant?to?the?mobile?system?in?any?wayand?are?ignored?
(however,?in?the?future?we?couldinclude?the?possibility?to?report?on?meals?as?well).3.4 Dialogue?Plan?and?Day?PlanThe?
communication?
between?
the?
dialoguemanagers?
and?
CM?
is?
based?
on?
a?
dialogue?
planand?a?day?plan.?Various?kinds?of?
dialogue?plans(Larsson?
et?
al.,?
2000,?
Jullien?
and?
Marty,?
1989)have?been?used?
inside?
dialogue?
managers?
in?
thepast.?A?plan?usually?models?what?the?system?seesas?the?optimal?route?to?task?completion.In?H&F,?CM?provides?a?plan?on?how?the?cur?rent?
task?
(planning?
a?
day,?
reporting?
on?
a?
day)could?proceed.?The?plan?consists?of?items,?whichare?
basically?
expressions?
on?
domain?
specificpropositional?
logic.?
Example?
1?
contains?
twoitems?
from?
the?
start?
of?
a?
plan?
for?
planning?
theday?
with?
the?user?
in?
the?
morning.?
The?
first?
planitem?
(QUERY?PLANNED?ACTIVITY)?
can?
berealized?
as?
the?
question?
?Anything?
interestingplanned?for?today???by?the?system.As?
new?
information?
becomes?
available?
(fromthe?user),?it?forms?a?plan?for?the?day?or?a?report?ofthe?
day.?
DM?
provides?
this?
information?
to?
CM,28piece?
by?
piece?
as?
it?
becomes?
available.?
At?
thesame?
time,?
the?
information?
is?
uploaded?
into?
aweb?
server,?
where?
the?
mobile?
interface?
can?
ac?cess?it?anytime.As?CM?receives?the?information,?it?updates?thedialogue?
plan?
as?
necessary.?
Query?
type?
items,whose?
information?
has?been?
gathered,?disappearfrom?the?plan?and?new?items?may?appear.The?messages?
sent?
to?CM?can?add?new?
infor?mation?
(predicates)?
to?
CM?
state.?
DM?
can?
alsoremove?
information?
from?
CM?
if?
previously?
en?tered?information?is?found?to?be?untrue.?Similarly,information?uploaded?
to?
the?
web?
server?
for?
mo?bile?
use?
can?
be?
modified.?
The?
information?
in?cludes?
statements?
on?
user?s?
condition?
(tired),user?s?
commitments?
to?
the?
system?
(will?
walk?
towork),?
user?s?
preferences?
(does?
not?
like?
cafete?rias)?
and?
user?s?
reports?
on?
past?
activity?
(took?
ataxi?
to?work),?which?can?be?accomplishments?orfailures?of?earlier?commitments.<plan>?<plan?name>Generate?Task?Model?Questions</plan?name>?<plan?item>???<action>QUERY?PLANNED?ACTIVITY</action>?</plan?item>?<plan?item>???<action>SUGGEST?TRAVEL?METHOD</action>???<param>CYCLING?TRAVEL</param>???<param>HOME</param>???<param>WORK</param>?</plan?item>?Example?1:?Start?of?a?plan.DM?
in?
the?
home?
system?
can?
follow?
the?
dia?logue?
plan?
produced?
by?
CM?
step?
by?
step.?
Eachstep?
usually?
maps?
to?
a?
single?
question,?
but?
cannaturally?result?
in?a?longer?dialogue?
if?
the?user?sanswer?
is?
ambiguous?
or?
error?
management?
isnecessary,?or?if?DM?decides?to?split?a?single?itemto?multiple?questions.?For?example,?
the?two?dia?logue?
turn?pairs?seen?
in?
example?2?are?
the?resultof?
a?
single?
plan?
item?
(QUERY?PLANNED?ACTIVITY).?
Since?
the?
first?
user?
utterance?
doesnot?result?in?a?complete,?unambiguous?predicate,DM?
asks?
a?
clarification?
question.?
A?
single?
userutterance?
can?
also?
result?
in?
multiple?
predicates(e.g.,?
will?
not?
take?
bus,?
has?
preference?
to?
walk?ing).When?
the?
mobile?
interface?
is?
activated,?
itdownloads?
the?
current?
day?
plan?
from?
the?
webserver?
and?
uses?
it?
as?
a?
basis?
for?
the?
dialogue?
ithas?
with?
the?
user.?The?
exercise?
which?
will?
thentake?
place?
can?
be?
linked?
to?
an?
item?
in?
the?
dayplan,?or?it?can?be?something?new.?As?the?exerciseis?
completed?
(or?
aborted),?
information?
in?
this?
isuploaded?
to?
the?web?server.?From?
there?
the?DMof?
the?home?system?can?download?
it.?This?
infor?mation?
is?
relevant?
to?
the?
DM?
when?
the?
user?
isreporting?on?a?day.?The?home?system?downloadsthe?
information?
provided?
by?
the?
mobile?
systemand?reports?it?back?to?CM?when?the?dialogue?planincludes?
a?
related?
item.?
DM?
may?
also?
providesome?feedback?to?the?user?based?on?the?informa?tion.?
It?
is?
noteworthy,?
that?CM?does?not?need?
todifferentiate?in?any?way,?whether?the?informationon?
the?
exercise?came?
from?the?mobile?system?orwas?gathered?in?a?dialogue?with?the?home?system.(??<plan?item>??
<action>QUERY?PLANNED?ACTIVITY</action>?</plan?item>)S:?Good?morning.?Anything?in?teresting?organized?for?today?U:?I?m?going?jogging.(<pred>??
<action>PLANNED?ACTIVITY</action>??
<param>ACTIVITY?JOGGING</param>??
<param>unknownTime</param></pred>?)S:?Is?that?jogging?exercisebefore?dinner?U:?No,?it?s?after.(??<pred>??
<action>PLANNED?ACTIVITY</action>??
<param>ACTIVITY?JOGGING</param>??
<param>AFTER?DINNER</param>?</pred>?)Example?2:?A?dialogue?fragment?and?a?corre?sponding?plan?item?and?predicates,?latter?ofwhich?is?forwarded?to?the?cognitive?model?andthe?mobile?interface.Similarly,?
clarifications?
and?confirmations?
arenot?
directly?
visible?
to?
CM.?
DM?
can?
confirmitems?
immediately?
(for?
example,?
when?
low?con?fidence?
is?reported?by?the?NLG?component)?or?itcan?delay?confirmations?to?generate?a?single?con?29firmation?
for?
multiple?
items?
at?
an?
appropriatemoment.Most?
importantly,?
when?
presenting?
questionsand?suggestions?to?the?user,?DM?is?free?to?chooseany?
item?
in?
the?
plan,?
or?
even?
do?
something?
notincluded?
in?
the?
plan?
at?
all.?
When?
informationfrom?the?mobile?system?is?available,?it?can?directwhere?we?start?the?dialogue?from.?DM?could?alsodecide?
to?
do?
some?
small?talk?
to?
introduce?sensi?tive?topics,?which?can?be?useful?in?managing?theuser?system?
relationship?
(Bickmore?
and?
Picard,2005).?In?the?future,?we?see?DM?to?have?variouskinds?of?knowledge?on?the?dialogue?topics:?it?canknow?how?personal?these?topics?are?and?how?top?ics?
are?
related?
to?
each?
other.?
It?
may?
also?
havesome?topics?of?its?own.?The?communication?
thatis?not?related?to?the?domain?does?not?reach?CM?atany?point.CM?
can?
include?
additional?
annotation?
in?
theplan.?One?such?example?is?the?
importance?of?theinformation.?
If?
information?
is?marked?
important,it?
is?
likely,?but?not?
certain,?
that?DM?
will?
explic?itly?
confirm?
it.?
It?
is?
also?possible?
for?CM?
to?
ex?plicitly?
request?
a?
confirmation?
by?
generating?
aseparate?plan?item.?For?example,?if?a?user?reportson?having?run?much?more?than?they?are?likely?tobe?capable?of?in?their?condition,?CM?can?generatea?confirmation?plan?item.?It?
is?worth?noting,?thatDM?cannot?do?reasoning?on?such?level?and?there?fore?
CM?
must?
participate?
in?
error?
handling?
insuch?cases.3.5 Benefits?of?the?ModelThe?
presented?
model?
for?
interoperability?
be?tween?
the?
mobile?
system,?
the?
DM?
of?
the?
homesystem?and?CM?has?provided?great?flexibility?foreach?component.?While?the?dialogue?plan?gener?ated?
by?
CM?
provides?
a?
base?
for?
dialogue?
man?agement,?which,?
in?most?cases,?
is?
followed,?DMcan?
deviate?
from?
it.?
DM?
can?
handle?
confirma?tions?as?it?pleases,?add?small?talk,?and?process?theplan?items?in?any?order.?The?model?also?supportsmixed?initiative?
dialogues;?
while?
DM?
may?
fol?low?
the?plan,?
the?user?may?discuss?
any?
topic.?
Inour?
current?
implementation,?
user?
input?
is?parsedfirst?
against?
the?
previous?
system?
output,?
next?
tothe?
current?
topic,?
and?
finally?
to?
the?
entire?
spaceof?
known?
predicates.?
If?
needed,?
we?
can?
alsomake?
parsing?
more?
detailed?
by?
parsing?
againstdialogue?history?
and?
the?current?plan.?This?way,the?information?produced?by?CM?is?used?in?inputparsing.?
The?
dialogue?
plan?
can?
be?
used?
in?
dy?namic?
construction?
of?
recognition?
grammars?
tosupport?this?on?ASR?grammar?level.Most?
importantly,?
all?
this?
is?
possible?
withoutincluding?
domain?
specific?
knowledge.?
All?
suchinformation?
is?
kept?
exclusive?
in?
CM.?
Similarly,CM?
does?not?
need?
to?know?
the?
interaction?
levelproperties?
of?
the?
topics,?
such?
as?
recognitiongrammars?
and?
natural?
language?
generation?
de?tails.?These?
are?
internal?
to?
their?
specific?
compo?nents.?The?
mobile?
system?uses?
the?
same?
knowl?edge?
representation?
as?
CM,?
but?
CM?
does?
notneed?to?be?aware?of?its?existence?at?all.?Similarly,the?mobile?system?can?use?any?part?of?
the?
infor?mation?
it?
receives,?
but?
is?
not?
forced?
to?
do?
any?thing?
specific.?
DM?
just?
feed?
all?
the?
informationto?
it?and?
lets?
it?
decide?
what?
to?do?with?
it.?Whenthe?
mobile?
system?
provides?
information?
back?
tothe?home?
system,?DM?handles?
this?
and?CM?canignore?completely?
the?fact?
that?different?parts?ofthe?
information?
it?
receives?were?generated?usingdifferent?
systems.?
Similarly,?
the?
mobile?
systemdoes?not?see?any?of?the?internals?of?the?home?sys?tem.On?
an?
implementation?
level,?
the?
model?
is?
in?dependent?of?the?mechanics?of?either?DM?or?CM.DM?
can?
be?
implemented?
using?
state?
transitionnetworks?(a?network?per?plan?item),?forms?(formper?
item),?agent?based?model,?
like?
in?
the?case?ofmobile?
system,?
or?
any?
other?
suitable?
method.Similarly,?
the?
plan?
does?
not?
tie?
CM?
to?
any?
spe?cific?implementation.4 ConclusionsWhen?
dialogue?
systems?
move?beyond?
limitedtask?
based?
domains?
and?
implement?
multimodalinterfaces?
in?
pervasive?
computing?
environment,their?
complexity?
increases?
rapidly.?
Dialoguemanagement,?
which?
in?
most?
cases?
is?
handledwith?well?understood?methods?such?as?
form?fill?ing?
or?
state?
transition?
networks,?
tends?
to?
growmore?complex.?Therefore,?a?model?to?modularizedialogue?
management?
and?
domain?
reasoning?
isneeded.?
At?
the?
same?
time,?
distributed?
systemsrequired?
various?
kinds?
of?
information?
to?
becommunicated?with?components?and?systems.While?
traditional?
spoken?
dialogue?
systemshave?
been?
task?based,?
the?
Health?
and?
FitnessCompanions?are?part?of?the?users??life?for?a?longtime,?
months,?
or?
even?
years.?
This?
requires?
thatthey?
are?
part?
of?
life?
physically,?
i.e.,?
interactionscan?
take?
place?
on?
mobile?
setting?
and?
in?
homeenvironment?
outside?
of?
traditional,?
task?basedcomputing?
devices.?
With?
the?
physical?
presenceof?the?interface?agent?and?spoken,?conversationaldialogue?
we?
aim?
at?
building?
social,?
emotionalrelationships?between?the?users?and?the?Compan?30ion.?Such?relationships?should?help?us?in?motivat?ing?the?users?towards?healthier?lifestyle.?The?mo?bility?
of?
the?
interface?
integrates?
the?
system?
intothe?physical?activities?they?aim?at?supporting?us?ers?in.We?
have?
presented?
a?
model,?
which?
separatescognitive?
modeling?
from?
dialogue?
managementand?enables?flexible?interoperability?between?
thetwo?and?also?enables?sharing?the?gathered?knowl?edge?
to?
the?
mobile?part?
of?
the?
system?and?back.This?
division,?
while?
similar?
to?
separation?
of?
aback?end?
from?
dialogue?
management,?
draws?
theline?
deeper?
into?
the?
area?
of?
interaction?
manage?ment.?
The?
cognitive?
model?
processes?
domainlevel?
information?
and?
generates?
dialogue?
plans.The?
dialogue?
manager?
focuses?
only?
on?
interac?tion?level?phenomena,?such?as?initiative?and?errormanagement,?
and?other?
meta?communication.?
Inorder?to?enable?flexible?interaction,?the?plan?pro?vides?
a?
potential?
structure?
for?
the?
dialogue,?
butthe?dialogue?
manager?
is?
free?
to?handle?
things?
indifferent?
order,?
and?
even?
add?
new?
topics.?
It?
canalso?include?input?from?a?mobile?interface?of?thesystem?without?making?this?explicit?to?the?cogni?tive?
model.?
One?
example?
of?
flexibility?
is?
errormanagement;?while?
the?actual?error?correction?
isthe?
task?
of?
the?
dialogue?
manager,?
domain?
levelknowledge?can?reveal?
errors.?Using?the?dialogueplan,?
the?
cognitive?
model?
can?
provide?
such?
in?formation?
to?
the?
dialogue?
manager?
withoutknowledge?
on?
details?of?
error?
management.?Themodel?
also?
enables?
user?
initiative?
topic?
shifts,management?
of?
user?system?
relationship?
andother?
novel?
issues?
relevant?
in?
domain?orienteddialogue?systems.Overall,?
the?
model?
presented?
has?
enabled?
aclear?division?and?interoperability?of?the?differentcomponents?handling?separate?parts?of?
the?
inter?action.?
The?
presented?
model?
has?
been?
imple?mented?
in?
the?
Health?
and?
Fitness?
Companionprototype,?and?it?has?enabled?the?cognitive?model,the?dialogue?manager,?and?the?mobile?interface?tobe?
developed?
in?
parallel?
by?
different?
groups?
us?ing?various?programming?languages?an?integratedsystem.5 AcknowledgementsThis?
work?
is?
part?
of?
the?
EU?funded?
COM?PANIONS?project?
(IST?34434).?
The?
CognitiveModel?
has?
been?
developed?
by?
University?
ofTeesside,?
UK,?
while?
the?
mobile?
interface?
hasbeen?
implemented?
in?Swedish?
Institute?
of?
Com?puter?Science.ReferencesDybkjaer,?L.,?Bernsen,?N.?O.,?Minker,?W.,?Evaluationand?
usability?
of?
multimodal?
spoken?
language?
dia?logue?
systems,?
Speech?
Communication,?
43,?
1?2,?
,June?2004,?pp.?33?54.Wilks,?
Y.,?
Is?
There?
Progress?
on?
Talking?
Sensibly?
toMachines?,?Science,?9?Nov?2007.Marti,?S.?and?Schmandt,?C.?Physical?embodiments?formobile?
communication?
agents.?
Proceedings?
of?
the18th?
annual?
ACM?
symposium?
on?
User?
interfacesoftware?and?technology:?231???240,?2005.Kainulainen,?A.,?Turunen,?M.,?Hakulinen,?J.,?Salonen,E.?P.,?Prusi,?P.,?and?Helin,?L.?A?Speech?based?andAuditory?Ubiquitous?Office?Environment.?Proceed?ings?
of?
10th?
International?
Conference?
on?
Speechand?Computer?(SPECOM?2005):?231?234,?2005.J?nsson,?A.?A?Natural?Language?Shell?and?Tools?
forCustomizing?the?Dialogue?in?Natural?Language?In?terfaces,?
Research?
Report,?
LiTH?IDA?R?91?10,1991.Salonen,?E.?P.,?
Hartikainen,?M.,?Turunen,?
M.,?
Haku?linen?
J.,?
Funk,?
J.?
A.?
Flexible?
Dialogue?
Manage?ment?
Using?
Distributed?
and?
Dynamic?
DialogueControl.??Proceedings?of?ICSLP?2004.?pp.?197?200.O'Neill,?
I.?
Hanna,?
P.?
Liu,?
X.,?
McTear,?
M.,?
TheQueen's?
Communicator:?
An?
Object?Oriented?
Dia?logue?
Manager,?
Eurospeech?
2003,?
Geneva,?
Swit?zerland?(2003),?pp.?593?596.Pellom,?B.?Ward,?W.?Pradhan,?S.,?The?CU?Communi?cator:?An?Architecture?
for?Dialogue?Systems,?Pro?ceedings?of?ICSLP?2000,?Beijing?China,?November2000.Turunen,?M.,?Hakulinen,?J.,?R?ih?,?K.?J.,?Salonen,?E.?P.,?
Kainulainen,?
A.,?
and?
Prusi,?
P.?
An?
architectureand?applications?for?speech?based?accessibility?sys?tems.?
IBM?Systems?
Journal,?
Vol.?
44,?No?
3,?2005,pp.?485?504.Cavazza,?M.,?Smith,?C.,?Charlton,?D.,?Zhang,?L.,?Tu?runen,?M.?and?Hakulinen,?J.,?A??Companion??ECAwith?Planning?and?Activity?Modelling,?Proceedingsof?AAMAS08,?2008?(to?appear).Larsson,?
S.?
Ljungl?f,?
P.?
Cooper,?
R.?
Engdahl,?
E.,Ericsson.?
S.?
GoDiS?
??
an?
accommodating?
dialoguesystem.?
ANLP?
/?
NAACL?
'00?
Workshop?
on?
Con?versational?Systems,?May?2000.Jullien?
C.,?
Marty,?
J.?C.?
Plan?
revision?
in?
person?machine?
dialogue,?
Proceedings?
of?
ACL?89,?
Man?chester,?England,?April?1989,?pp.153?160.Bickmore,?
T.?
W.,?
Picard,?
R.?
W.?
Establishing?
andmaintaining?
long?term?
human?computer?
relation?ships.?
ACM?
Trans.?
Computer?Human.?
InteractionVol.?12,?No.?2.?(June?2005),?pp.
?293?327.31
