Generating Numerical ApproximationsRichard Power?Open UniversitySandra Williams?
?Open UniversityWe describe a computational model for planning phrases like ?more than a quarter?
and ?25.9per cent?
which describe proportions at different levels of precision.
The model lays out the keychoices in planning a numerical description, using formal definitions of mathematical form(e.g., the distinction between fractions and percentages) and roundness adapted from earlierstudies.
The task is modeled as a constraint satisfaction problem, with solutions subsequentlyranked by preferences (e.g., for roundness).
Detailed constraints are based on a corpus of numer-ical expressions collected in the NUMGEN project,1 and evaluated through empirical studies inwhich subjects were asked to produce (or complete) numerical expressions in specified contexts.1.
IntroductionWe describe in this article a computational model for planning phrases that expressproportions (e.g., ?more than a quarter?
and ?25.9 percent,?
among others, as alternativedescriptions of the proportion 0.259).
This task is of interest for several reasons.
First,such expressions are very common in factual discourse?they will be found on almostany page in a newspaper or scientific journal.
Second, any numerical value can beexpressed in a variety of ways, differing along such dimensions as precision, formality,and mathematical sophistication; generating the range of suitable phrases is thereforenon-trivial.
Third, the matter has been largely ignored in the literature on NaturalLanguage Generation (NLG), even though many NLG systems are designed to producetext from numerical data in domains like weather forecasting (Reiter et al 2005), stockmarket trends,2 and medical records (Hallett, Scott, and Power 2007).
Finally, and moresubtly, the task provides a convenient microcosm of the general pragmatic problemof determining optimal information content?for instance, of balancing preferences forprecision and brevity (Krifka 2002).The work reported here was carried out in the NUMGEN project, and exploits theNUMGEN corpus of numerical expressions drawn from families of texts describing the?
Department of Computing, Open University, Milton Keynes MK7 6AA, UK.E-mail: r.power@open.ac.uk.??
Department of Computing, Open University, Milton Keynes MK7 6AA, UK.E-mail: s.h.williams@open.ac.uk.Submission received: 1 August 2009; revised submission received: 31 March 2011; accepted for publication:25 May 2011.1 NUMGEN: Generating intelligent descriptions of numerical quantities for people with different levels ofnumeracy (http://mcs.open.ac.uk/sw6629/numgen).
NUMGEN was funded by the Economic and SocialResearch Council under Grant Ref.
RES-000-22-2760.2 http://www.ics.mq.edu.au/lt-gdemo/StockReporter/.?
2012 Association for Computational LinguisticsComputational Linguistics Volume 38, Number 1same facts.
Because the same quantitative fact is mentioned within and across multipletexts, the corpus provides many examples of linguistic expressions that describe exactlythe same quantity.
For instance, the following excerpt from an article in the UK news-paper The Daily Telegraph contains several expressions representing proportions, includ-ing the two phrases given as examples in the opening sentence of this article (and shownhere in italics), both of which describe the proportion of A-level papers3 that receivedthe top grade (A) in 2008:A-level results show record number of A gradesRecord numbers of teenagers have received top A-levels grades.
More than a quarter ofpapers were marked A as results in the so-called gold standard examination reach anew high.The overall pass rate also rose beyond 97 per cent for the first time ?
the 28th straightincrease ?
fuelling claims that A-levels are now almost impossible to fail.
[.
.
. ]
Today?sresults for 300,000 students in England, Wales and Northern Ireland were expected totrigger a scramble to get into university, with experts predicting a record rise in thenumber of applicants going through the clearing system.
Applications to universityhave already increased by nine per cent this year.According to figures released today by the Joint Council for Qualifications, 25.9 per centof A-level papers were awarded an A grade this summer, compared to 25.3 per cent12 months earlier ?
and just 12 per cent in 1990.
(Daily Telegraph, 14th August 2008)The NUMGEN corpus contains 14 articles reporting this story, mostly from UK news-papers; in total, it has nearly 100 articles covering ten stories.
The numerical facts foundin the corpus include cardinalities (e.g., ?300,000 students?)
and measures (?28 years?
)as well as proportions, but the project focused on proportions as a convenient subset.Elsewhere we have shown that proportions tend to be expressed differently at dif-ferent locations within a document (Williams and Power 2009).
The phrases ?more thana quarter?
and ?25.9 percent?
in the example extract provide a convenient illustrationof the nature of these differences.
First, there is an obvious disparity in precision.
Next,the phrases differ in mathematical form (fraction vs. percentage); we have argued that thisdistinction is conceptual as well as notational, because fractions are accessible to a widerreadership than percentages?as testified by the levels at which they are introducedin the UK mathematics curriculum (Qualification and Curriculum Authority 1999).Finally, one of the phrases contains not only a quantity (?a quarter?)
but a modifier(?more than?
); such modifiers have been called hedges (Lakoff 1973; Crystal 1988), andthey serve (among other things) to indicate the arithmetical relationship between thequantity that follows and the actual value (0.259 > 1/4).
Our corpus study showed thatfractions and round numbers tend to occur in the opening of a document, whereassubsequent references to the same fact are more likely to use precise percentages.These differences in precision and formality raise two questions, one concerningmotivation (why do speakers/writers approximate?
), the other concerning technique(how do they approximate?).
On the first point, various motives have been proposed.Speakers might aim at conceptual simplicity (Krifka 2007)?for example, because roundnumbers are easier to remember and calculate with; or they might wish for various rea-sons to avoid commitment (van Deemter 2009).
Also, as implied by Grice?s (1975) qual-ity and quantity maxims, the benefits of precision need to be balanced against the costs;this trade-off has been discussed within the framework of optimality theory (Dekker3 The A-level examination is taken by British 18-year-olds in their final year of school; university places areusually conditional on the grades obtained in this examination.114Power and Williams Generating Numerical Approximationsand van Rooy 2000; Krifka 2002; Blutner and Zeevat 2011).
Little attention has been paid,however, to the second question?regarding the technique of approximation?despite itsintrinsic interest and its practical importance in applications of NLG.Our aim in this article is to explain formally how speakers/writers are able toproduce numerical expressions with varying degrees of precision and formality.
Wepropose a two-stage generation process, the first stage producing a language-neutralsemantic form such as > 1/4, the second stage realizing this semantic form in Englishor some other natural language (e.g., ?over a quarter?, ?more than 1/4?).
Our modelconsiders the first stage only, and aims to generate the set of alternative semanticforms underlying acceptable numerical expressions.
Choosing the most appropriatealternative from this set would depend on the pragmatic context; here, for generality,the model identifies a number of criteria (roundness, accuracy, etc.)
but leaves openhow they should be weighted (or otherwise combined).4The structure of the article is as follows.
In the next section we review previ-ous linguistic and philosophical work on numerical expressions and approximation.Section 3 adapts some important insights from this literature to propose a new formalmodel for planning the semantic forms of proportion expressions; we then describean implementation of this model in Section 4, followed by an empirical evaluation inSection 5.
Section 6 discusses the outcome of the evaluation, and concludes.2.
Previous Work2.1 Linguistic BackgroundMathematically, a proportion is the cardinality of a set divided by the cardinality ofa superset.
If S is a set, its cardinality CS is defined as the number of elements that Scontains; thus if SS is a superset of S (meaning that every element in S is also in SS), thenCS/CSS is a proportion.
From this it follows that a proportion must lie between 0.0 and1.0, because it will have its minimum value when S is empty, and its maximum valuewhen S is identical to SS.
Typically, S and SS can be identified by descriptions, with Sdistinguished by an extra attribute.
Thus in our A-level example, SS is the set of A-levelpapers marked in 2008, and S is the subset of these papers that received an A grade.
Tocalculate the proportion 25.9%, somebody or something (probably a computer program)must have counted the total number of papers, then counted those distinguished by anA-grade, then divided the latter number by the former.Syntactically, proportion expressions usually occur as pre-modifiers in nounphrases, in constructions of the form P of Ns where N is a noun.
Both mentions of theA-grade proportion in our sample text fit this pattern:More than a quarter of papers were marked A25.9 per cent of A-level papers were awarded an A grade this summerIn general, such expressions comprise a numerical value, optionally preceded by ahedge.
It is important to note that the numerical value in the expression may differ fromthe actual value of the proportion, just as a place can be described with reference toa convenient (but different) landmark (e.g., ?beyond the church?).
For this reason we4 The program actually prints out solutions in order of accuracy, so that precise descriptions occur towardsthe beginning and round ones towards the end.115Computational Linguistics Volume 38, Number 1will introduce the term given value for the numerical value found in the quantifyingexpression.
To understand the expression, a reader must infer the relationship betweenthe given value (call it VG) and the actual value (VA).
One important clue is provided bythe hedge; thus in ?more than a quarter?
the hedge ?more than?
indicates that VA > VGwhere VG = 1/4.
Another clue, it has been argued, is provided by the given value itself,because round numbers are likely to be interpreted as approximations (Krifka 2002).Thus in ?a quarter of papers were marked A?
the given value is a simple fraction,suggesting that VG has been selected by the writer as a round number convenientlynear VA, and that the relationship is accordingly VA ?
VG.The term hedge was introduced by Lakoff (1973) and subsequently applied to nu-merical descriptions by Dubois (1987), who studied imprecision in oral scientific presen-tations and listed some common numerical hedges (e.g., ?about?, ?almost?, ?nearly?,?of the order of?, ?a little over?
); Crystal (1988) added a few more.
Because Crystalapplied the term to any expression indicating imprecision or uncertainty, he includedsome terms like ?maybe?, ?usually?, ?probably?, which are not relevant here.
However,restricting the field to numerical hedges, all Dubois?s examples concern the relationshipbetween given value and actual value, and in particular VA ?
VG.
In the NUMGENcorpus, the most common hedge was ?more than?
(expressing VA > VG), followed by?about?
(VA ?
VG), ?under?
(VA < VG), ?almost?, and ?nearly?.5 In marking up thecorpus, the modifier ?exactly?
was also counted as a hedge, even though its purposeis to confirm rather than to disclaim a precise commitment, since in common with theother hedges it indicates a relationship between a given and an actual value (VA = VG).We have discussed informally the possible forms and meanings of hedges; whatof the given value itself?
From preliminary analysis of the NUMGEN corpus, threebasic forms for proportion values were identified, and used subsequently for mark-up:fractions, percentages, and ratios.
Fractions almost invariably had simple denominators(2, 3 or 4) and were expressed in words rather than digits (e.g., ?two-thirds?
rather than?2/3?).
Percentages were by contrast expressed almost always in digits?
?25 percent?
(or ?25%?)
rather than ?twenty-five percent?
; the numerical part was often a decimal,usually with just one digit after the point.
Ratios were sometimes used as an alternativeto fractions (e.g., ?one in four students obtained an A grade?
), but with more freedom inchoosing denominators, which were sometimes large or non-round numbers (?roughlyone in 17 Britons?
); because they were relatively rare, they are not included in the modelpresented here.6Stepping back, one could ask whether these are merely distinctions in surfaceform, because the underlying quantities are always expressible as rational numbers(i.e., Num/Den where numerator Num and denominator Den are both integers).
Wehave several reasons for treating mathematical form as a deeper conceptual distinc-tion, however.7 Firstly, as we will show later, fractions and percentages typically havedenominators from different sets?low integers for fractions, powers of ten and related5 Note that the hedges ?almost?
and ?nearly?
do not mean the same as ?less than?, because they canalso be used when VA > VG (e.g., ?the temperature fell to nearly zero?).
However, it has been pointedout to us that they do not mean the same as ?about?
(i.e., VA ?
VG) either; rather, they imply that VAapproaches VG from a direction indicated by the context, which might be either from above or below(e.g., ?fell?, ?rose?
)?a more subtle relation that we have not attempted to cover in the present article.6 Note that by ratio here we refer not to the abstract mathematical operator, but to linguistic realizationslike ?N in M?, ?N out of M?, ?N of any M?, where N and M are integers.7 In terms of the standard NLG pipeline architecture (Reiter 1994), this would mean that mathematicalform is already decided in the phase of content determination, so that the distinction between fractions,ratios, and percentages is an input to the subsequent phases (sentence planning, surface realization, etc.
).116Power and Williams Generating Numerical Approximationsintegers for percentages.
They also represent distinguishable levels of numerical compe-tence, as evidenced by the UK mathematics curriculum (Qualification and CurriculumAuthority 1999) in which percentages are introduced later than fractions and dependconceptually upon them.
Finally, judgments of roundness can only be made relativeto a given mathematical form: thus in fractions 1/3 is rounder than 3/10, whereas inpercentages 33.33% is less round than 30%.
This means that any program planning todescribe a proportion VA by relating it to a round number VG will have to take accountof mathematical form in selecting VG.2.2 RoundnessIt is a matter of common observation that some numbers are perceived as rounderthan others, and hence more likely to be employed in approximations.
You mightapproximate 0.259 by saying ?about a quarter?, but you would never approximate 0.25by saying ?about 25.9 percent.?
But what exactly is meant by roundness?
Linguists andpsychologists have approached this question in various ways.In Hurford?s book The Linguistic Theory of Numerals (Hurford 1975), numbers aredistinguished according to the roles they can play in verbal numerals.
A few privilegednumbers can serve as multiplicands: In English and most European numeral systemsthese would include 100, 1000, 1000000, and also perhaps 10 if we take account of wordmorphology (i.e., if we think of ?forty?
as meaning 4 ?
10).
An important (although lessexalted) set can be named by forming a product with one of the multiplicands (e.g.,?twenty?, ?two hundred?).
Finally, at the bottom of the heap, we find the numberstypically named as the sum of a product and another (smaller) number: thus ?sixtyfive?
is the sum of 60 and 5, or ?three hundred sixty five?
is 300 + 65.An alternative three-tier classification has been proposed by Pollmann and Jansen(1996), on the basis of empirical evidence including number frequencies, currency sys-tems, and approximations of the form ?30 or 35 people.?
At the top level of roundnessare ?favorite numbers,?
defined thus:In any numeration system in base N, there is a set of favourite numbers comprising(a) any integer power of the base, and (b) half, double, and half of half of any integerpower of the base.
(Pollmann and Jansen 1996, page 225)With a numerical system based on 10, this definition yields the set F(10) defined asfollows:F(10) = { f |f = 10n ?
K} where K is 1, 2, 1/2 or 1/4, and n is any integer.Note that this definition allows n to take negative values, or zero; hence 0.05 is alsoclassified as a favorite number because it can be formed by f = 10?1 ?
1/2.The special status of F(10) numbers is attested by currency systems: For instance,in pounds sterling there are coins for ?0.01, 0.02, 0.05, 0.1, 0.2, 0.5, 1.0, and 2.0, as wellas notes for ?5, 10, 20, 50, 100, and so forth.
In a survey of currencies from 84 countries(Pollmann and Jansen 1996), only 13 out of about 1,000 coins/notes lay outside F(10)(e.g., a three-dollar banknote in the Cook Islands).
Frequency data also support theprinciple: Using a corpus of Dutch newspaper articles, Jansen and Pollmann (2001)found spikes (local maxima) in the frequency plot for numbers belonging to F(10) (thus10 was more common than 9 or 11).
From experiments on phrases like ?30 or 35 people,?117Computational Linguistics Volume 38, Number 1they also arrived at a wider group of round numbers (termed ?sequences?
), formedby multiplying any favorite number F by a low integer M with values in the rangeM = 1 .
.
.
20: This set would include for example 5, 10, 15, .
.
.
95, 100, which are multiplesM*F of the favorite number 5.Another approach to roundness is to think of measurements as taken from scalesof different granularity, as suggested for example by Krifka (2007).
A scale is definedas a set of evenly spaced points, so that consecutive points are always separated by aunit distance d?it is equivalent, in other words, to Pollmann and Jansen?s concept of?sequence.?
However, scales can be organized into systems of varying granularity, sothat for example in the metric system for measuring length we have meters, decimeters,centimeters, millimeters, and so forth, with granularity increasing tenfold from eachscale to the next.
Less obviously, we can think of the minutes in an hour as belongingto the following four scales, in which the units are respectively one hour, half an hour, aquarter of an hour, and five minutes (example from Krifka 2007):0---------------------------------60----------------------...--1200---------------30----------------60----------------90----...--1200------15-------30-------45-------60-------75-------90----...--1200-5-10-15-20-25-30-35-40-45-50-55-60-65-70-75-80-85-90-95-...--120The roundness of a number, relative to a scale system, can then be equated with thecoarsest-grained scale to which it belongs (i.e., the earliest scale, if they are arrangedin order of increasing granularity).
Thus in this scale system 45 is rounder than 40,although in most systems (e.g., metric distance) 40 would be rounder than 45.3.
Formal Model for ProportionsWe have reviewed some insights from the literature on hedging, mathematical form,and roundness; we now aim to draw these together into a formal model that can beimplemented and evaluated.The first crucial insight from linguistic work on hedging is that proportions (andindeed other quantities) are expressed by relating them to another, typically differentquantity that we have called the given value VG, with the hedge (if present) indicatingthe nature of this relationship.
Thus in expressing the proportion 0.259 by ?over aquarter,?
we have an actual value VA (0.259), a given value VG (1/4), and a relationshipVA > VG.
This leads to the idea that underlying any numerical expression there willbe some kind of arithmetical relationship between VA and VG.
The task of producingthe expression can therefore be divided into two stages: (a) choosing an appropriatesemantic relationship such as VA > 1/4 or VA ?
26/100; (b) choosing an appropriatelinguistic realization of this relationship, such as ?over a quarter?
or ?about 26 percent.
?The second crucial insight, from the work on favorite numbers and roundness, isthat given numbers can be conceptualized as points along scales, of varying granularity,organized into systems.
This is obvious in Krifka?s (2007) example of time measures,and also for distance measures where we are familiar with different systems such asimperial units (inches, feet, yards, etc.)
and metric units (centimeters, meters), but itcan be applied also to representing proportions.
Adopting the simplest and most directapproach, we can measure proportions on scales that divide the interval from 0.0 to 1.0into N equal segments, where N is an integer greater than 1.
A scale system can thenbe defined as a set of scales ordered by increasing granularity (and hence increasingN).
Thus if we denote a scale with N segments by SN, an example of a scale systemwould be the set [S10,S100,S1000], for which the units correspond to 10%, 1%, and 0.1%.118Power and Williams Generating Numerical ApproximationsTo specify a given value VG we must choose (a) a system, (b) a scale from the system,and (c) a point from the scale?the points on a scale SN being represented by integersfrom 0 to N.This formalization of the given value has the advantage of distinguishing not onlydegrees of roundness, but also different mathematical forms, which can be equated withscale systems.
Thus the system including [S10,S100,S1000] corresponds to the mathemati-cal form percentages, whereas simple fractions use instead a system with very low valuesof N, including [S2,S3,S4].
Equating roundness with the N value of the scale, it followsthat simple fractions are rounder than percentages, and that within any scale system,earlier scales are rounder than later ones.
For instance, within the percentage system,40% would be considered rounder than 45%, because it first appears on the S10 scalewhereas 45% first appears on S100.Conceptualized in this way, the semantic form of a proportion expression is theresult of four choices, each from a finite domain of options.8 Choose an arithmetical relation between VA and VG (e.g., from theset {=,?,>,<}). Choose a scale system for expressing VG (e.g., either fractions orpercentages). Choose a scale from this system. Choose a point from this scale.Thus to obtain the semantic form for ?over a quarter,?
starting from VA = 0.259, wewould choose (1) the relation >, (2) the scale system [S2,S3,S4, .
.
.]
(fractions), (3) thescale S4, and (4) the point 1.
Alternatively, to obtain the semantic form for ?about 26 per-cent,?
the choices would be (1) the relation ?, (2) the scale system [S10,S100,S1000, .
.
.
](percentages), (3) the scale S100, and (4) the point 26.3.1 Scale SystemsWe have described the outline of a model for planning proportion expressions; to im-plement this model in an actual generator, we need to make specific assumptions aboutthe scale systems to be employed.
We have suggested earlier that there are two majorscale systems for proportions, corresponding to fractions and percentages, the formerbased on very low values of N (e.g., [S2,S3,S4]), the latter based on powers of ten.
As apreliminary test of this idea, we have taken all VG values for fractions and percentages inthe NUMGEN corpus, and re-expressed them as rational numbers of the form Num/Den,reduced to their minimal terms so that numerator Num and denominator Den have nocommon factor, and counted the frequencies of all denominators.9 The results (Table 1)show a clear difference in the two distributions, with fractions having denominators inthe range 2?4 (apart from a couple of outliers), and percentages spread more widely,with peaks in powers of 10 or their multiples.8 Note that in a constraint-based model these choices are not sequentially ordered, so we are not, forinstance, implying that the arithmetical relation should be chosen first.9 Thus, for example, 50% would be expressed as 1/2, which is 50/100 reduced to minimal terms; similarly,7.5% would be expressed as 3/40 after reducing 75/1000.119Computational Linguistics Volume 38, Number 1Table 1Denominators for fractions and percentages in NUMGEN corpus.FrequenciesDenominator Fractions Percentages1 0 132 33 163 29 04 18 115 0 1210 0 2414 2 020 0 1325 0 3540 0 450 0 21100 0 54Other 0 139Total 82 324These data support an initial calibration of the model with separate scale systemsfor fractions and percentages, the system for fractions being simply [S2,S3,S4].
Forpercentages, we need to decide (a) how far to extend the granularity (e.g., whether toinclude S10000, S100000, etc.
), and (b) which intermediate scales to include (e.g., whetherto include S20, which would cover percentages divisible by 5, such as 5% and 15%).For practical convenience in presenting and testing the model, we have decided to limitgranularity to S1000, so that we cover, for instance, 25.9% but not 25.95%.
Regardingintermediate scales, Table 1 provides support for S20 but even stronger support for S25,which would yield percentages like 16% divisible by 4 rather than 5.
This result couldalso be due to bias in our (fairly small) corpus, however; searching for phrases of theform ?X percent?
in the Google Labs Ngram Viewer10 showed a clear preponderanceof percentages divisible by 5 compared with neighbors divisible by 4 (Table 2).
Wetherefore begin by limiting the scale system for percentages to [S10,S20,S100,S1000]11?that is, powers of ten up to 1,000 with a single intermediate scale for percentagesdivisible by 5.3.2 Imposing ConstraintsHaving specified two scale systems and a set of arithmetical relations (=,?,>,<), wecan generate a large (but finite) set of semantic forms, most of which will of course beunsuitable for describing any particular input proportion such as 0.259.
To narrow thesedown, we need to impose constraints which can be separated into three categories: (1) Isthe description true?
(2) Is the description competent?
(3) Is the description appropriate,given the context and the speaker?s goals?10 The search was performed in July 2011 at http://ngrams.googlelabs.com/.11 These initial settings of the scale systems are motivated by a trade-off between keeping the model simplewhile covering the most likely solutions; they could and should be modified if, for example, a domainhas special requirements or conventions (such as the use of eighths in U.S. stock prices).120Power and Williams Generating Numerical ApproximationsTable 2Hits on Google Labs Ngram Viewer (millions) for percentages divisible by 5, and close neighborsdivisible by 4.
The data were obtained by searching for bigrams such as ?15 percent?
in theGoogle English Books corpus for the years 1800?2000.Divisible by 5 Divisible by 4Percentages Frequencies Percentages Frequencies15 2.1 16 0.725 2.4 24 0.535 1.3 36 0.445 0.9 44 0.455 0.6 56 0.365 0.7 64 0.275 1.5 76 0.285 1.0 84 0.295 1.2 96 0.2Total 11.7 Total 3.1To obtain a true description, the generator must obviously ensure that the relation-ship asserted between VA and VG actually holds.
Thus for VA = 0.259, the solutionVA > 26/100 (choosing the 26th point along the S100 scale from the percentage scalesystem, with the relation >) should be rejected as untrue, because the actual value 0.259is less than the given value 26/100, not greater.Having overcome the hurdle of truth, a candidate solution can be checked for whatwe have called ?competence.?
By this we mean that a solution should be excluded ifanother solution is superior in all contexts.
Consider, for example, the solution VA < 4/10(again for the input VA = 0.259), in which VG is represented by the fourth point alongthe S10 percentage scale.
As a method for approximating 0.259 we would argue that thisis incompetent, because using the same arithmetical relation < and the same scale S10,a closer approximation could have been obtained by choosing the third point insteadof the fourth.
Of course the generator could get even closer by choosing, for instance,VA < 26/100, but VA < 3/10 has the potential benefit of using a rounder scale, so bothare competent.Finally, from the set of true and competent solutions, the generator needs to selectthe semantic form that is most appropriate pragmatically.
Here many factors come intoplay, some of which have been mentioned previously (e.g., technical sophistication ofthe reader/hearer, ease of comprehension, utilities of different levels of precision, eval-uation of the proportion as higher or lower than expected).
We have not included suchfactors in the model described and evaluated in this article, but it is worth commentingbriefly on how this could be done, through optimization methods typical of constraint-based applications.In broad terms, what is required is a function that associates a contextually basedcost with each solution, so that the set of true and competent solutions can be rankedfrom most to least appropriate.
Plausibly, this function would measure various featuresof the solution, including mathematical difficulty, emphasis, roundness, and accuracy,and combine them through a weighted sum, with weights reflecting the contextualrevelance of the features.
Thus, for contexts in which readers lack mathematical so-phistication, solutions using the percentage scale system should incur extra cost; if thewriter?s aim is to emphasize that the actual value is higher than expected, solutions121Computational Linguistics Volume 38, Number 1using the arithmetical relation < should be penalized; where small differences in theactual value have important practical consequences, accuracy should receive a higherweighting than roundness; and so forth.4.
Implementation of the GeneratorThe input to the generator is a proportion, specified as a real number between 0.0and 1.0 correct to three places of decimals; the output is a set of alternative semanticforms describing the proportion, where each semantic form is constructed by makingfour choices from finite domains: (1) a scale system, (2) a scale from this system, (3) apoint from this scale, and (4) an arithmetical relation.
To implement a generator of thiskind, it is convenient to formulate the task as a constraint satisfaction problem, which ischaracterized by the following components (van Hentenryck 1989): A set of variables V1.
.
.Vn For each variable Vi a finite domain Di of possible values A set of constraints on the values of the variablesA solution assigns to each variable Vi a specific value from its domain Di, whilerespecting all constraints.
In implementations using Constraint Logic Programming(CLP), programs typically have a three-part structure: first, the domains of the variablesare initialized; secondly, constraints over the variables are imposed; finally, values forthe variables are chosen?a process sometimes called ?labeling.?
The labeling stageintroduces backtracking points whenever a variable can take one of several values,so that multiple solutions can be generated if desired (and if they exist).
However,by using the constraints before labeling in order to reduce the domains of the vari-ables, CLP can achieve substantial efficiency gains over algorithms that rely ongenerate-and-test, and has been used successfully for a variety of NLP tasks (Kollerand Niehren 2000).4.1 Assigning Domains to Solution VariablesAny solution is defined by four variables which we will call System, Scale, Point, and Re-lation.
For two of these variables, domains can be assigned during initialization: Systemmust belong to {Fraction, Percentage} and Relation to {=,?,>,<}.
For the other vari-ables, the domain can be assigned only during the search phase, because it depends onthe values of other variables.
For instance, the domain of Scale can be set to {S2,S3,S4}as soon as System receives the value Fraction, or alternatively to {S10,S20,S100,S1000} ifSystem receives instead the value Percentage.
Similarly, the domain of Point can be setonly when a value of Scale has been chosen?in general, if Scale has the value SN, Pointshould have the domain 0. .
.N.4.2 ConstraintsHaving initialized the domains of the variables (where possible), the program nextapplies five constraints which rule out solutions that are ill-formed (i.e., outside ourscale systems), untrue, or incompetent; for convenience these will be given names (see122Power and Williams Generating Numerical Approximationssubsequent list).
The first two (Scale Domain, Point Domain) perform the conditionaldomain assignments just described, thus ensuring that solutions lie on the scales thatwe have prescribed.
The third (Correct Description) is concerned with correctness, andthe final two (Minimal Distance, Extreme Point) with competence.1.
Scale Domain: The scale must belong to the selected scale system.
Forinstance, if System = Fraction, the domain of Scale is {S2,S3,S4}.2.
Point Domain: The point chosen as given value must belong to theselected scale.
For instance, if Scale is S4, the domain of Point is 0..4.3.
Correct Description: The relation must be adapted to the given value sothat the proportion is described correctly.
For instance, if VA is 0.259 andVG (i.e., Point/Scale) is 1/4, then Relation must be one of {?,>}.4.
Minimal Distance: For a given relation and scale, the point selected asgiven value should be as close as possible to the actual value of theproportion.
For instance, if VA is 0.259, Relation is >, and Scale is S4, Pointmust be 1, not 0.5.
Extreme Point: If extreme points (equivalent to 0.0 and 1.0) are usedas given values, the relation should not be either > or < (i.e., whenapproximating one should avoid expressions like ?more than 0%?and ?less than 100%?
).Whereas the first three constraints are straightforward and obviously necessary, Mini-mal Distance and Extreme Point make more interesting claims that require discussionand empirical testing.4.2.1 Minimal Distance.
The assumption here is that when making an approximation, thegenerator should make the best possible use of the chosen scale, by considering onlypoints that are adjacent to the actual value.12 This means, for instance, that if VA = 0.259and Scale = S10, the only points that should be considered are 2 and 3.
Which of these ischosen will depend on the relation: for ?
it will be 3 (which is closer); for < and > thechoice will depend on correct description.
Note that we have not excluded > 2 on thegrounds that < 3 is closer, because there might be pragmatic reasons for preferring onerelation to the other.134.2.2 Extreme Point.
This constraint prohibits the use of the relations > and < in associa-tion with given values at the extreme points of the scale (e.g., 0/10 and 10/10 if Scale =10); such combinations are not found in the NUMGEN corpus and it is hard to imaginecontexts when they would be appropriate as approximations.1412 Note that we are assuming that the purpose of the given value is to approximate the actual value.
Theminimal distance constraint would not apply when the given value had a special practical significance:For instance, in a country where a referendum was valid only with turnout exceeding 55%, a journalistmight report ?Turnout was more than 55%?
when the actual value was 93%.13 Intuitively, ?more than 20%?
seems to emphasize how high the proportion is compared with what wasdesired or expected, and ?less than 30%?
how low.14 One sometimes hears pronouncements like ?I will not accept less than 100% effort?
(e.g., in a team talk),but this seems more a rhetorical flourish than an attempt to approximate an actual value.123Computational Linguistics Volume 38, Number 14.3 PreferencesThe constraints just described yield multiple solutions for any given input value; tocomplete the model, we need to consider contextual reasons why speakers/writersmight prefer some solutions to others.
Regarding for example the System variable,we have already pointed out some reasons why writers might prefer fractions to per-centages (or vice versa), including location within the document, and the educationallevel of the reader.
Similarly, with regard to Relation, considerations of emphasis mightfavor > over < (or vice versa), as in the sentence ?More than a quarter of paperswere marked A. .
.
?
in our initial example, which focuses attention on how easy theA-level examinations have become.
For present purposes, nothing can be said aboutthese choices except that they depend on contextual features outside the scope of ourcurrent model.
However, regarding the choice of Scale, we can filter out some solutionson the assumption that speakers/writers apply a trade-off between roundness andaccuracy.
That is, we can show that however these two factors are weighted (providedthat they are not judged irrelevant or even undesirable), some solutions will be inferiorto others and can therefore be discarded.
This is done by the following rule:Roundness PreferenceIf two solutions have the same values for System and Relation, and different values forScale, then the solution with the larger Scale value should be discarded unless it hashigher accuracy.A similar rule could be formulated for solutions along the same scale with differentaccuracies, but in our implementation this case is already covered by the MinimalDistance constraint.One advantage of the Roundness Preference rule is that it avoids duplicate solutionsin which the values for Point/Scale are arithmetically equivalent, such as 5/10 and 10/20(values for System and Relation being the same).
According to Krifka?s Round NumberRound Interpretation principle, readers of a phrase like ?about 50%?
will apply aninterpretation bias favoring coarse-grained representations (i.e., scales with a relativelylow N-value), and writers will take this bias into account.
We can therefore prefer 5/10to 10/20, 50/100, and any other equivalent given value with Scale exceeding 10, andfilter out these dispreferred duplicates.15In our implementation, filtering through the Roundness Preference is applied afterlabeling, because it relies on comparing each candidate solution with the other can-didates.
In general this kind of procedure can lead to computational inefficiency; inplanning descriptions of proportions, however, the number of candidates should not belarge enough for this to be a problem, given that most combinations will already havebeen eliminated by the constraints applied before labeling.1615 Note incidentally that this principle has empirical consequences, because different Scale values implydifferent degrees of approximation.
Thus if ?more than 50 percent?
means ?> 5/10,?
the implied rangeof the proportion (applying the Minimal Distance Constraint) is from 50.1% to 59.9%, whereas if itmeans ?> 10/20?
the implied range is from 50.1% to 54.9%.16 If efficiency became an issue, owing for instance to very complex scale systems, it could be increased byusing branch-and-bound search, which discards any solution (even if incomplete) as soon as its costexceeds the best alternative found so far, thus avoiding the need to generate all solutions before filtering.Some simple efficiency tests using the Sicstus Prolog statistics operator showed that with our current scalesystems (two systems each with four scales), runtimes averaged over 100 trials were 3.5 milliseconds;extending each system first to 8 then to 12 scales increased average runtimes to 6.0 and 11.9 milliseconds;extending the number of systems first to three then four increased them to 5.5 and 11.4 milliseconds.124Power and Williams Generating Numerical ApproximationsTable 3Solutions generated for VA = 0.259.System Point/Scale Relation RealizationPerc 259/1000 = exactly 25.9 percentPerc 26/100 ?
about 26 percentPerc 26/100 < less than 26 percentFrac 1/4 ?
about a quarterFrac 1/4 > more than a quarterPerc 5/20 ?
about 25 percentPerc 5/20 > more than 25 percentPerc 3/10 ?
about 30 percentPerc 3/10 < less than 30 percentFrac 1/3 ?
about a thirdFrac 1/3 < less than a thirdFrac 1/2 ?
about a halfFrac 1/2 < less than a half4.4 Example of OutputTable 3 gives a full listing of output for our original A-level example (VA = 0.259),with solutions ordered by accuracy.17 For convenience, the table includes a possibleverbalization of each semantic form.5.
EvaluationOverall, we would like the generator to satisfy two requirements: First, it should allowall the good solutions; second, it should exclude the bad ones.
This assumes (a) thatwe can measure ?goodness,?
and (b) that we can draw a line separating wheat fromchaff.
Theoretically these are difficult tasks to achieve, because we are dealing withdimensions of judgment that are continuous and partly subjective, but this shouldnot stop us from looking for practical evaluation criteria which can support roughassessments and comparisons of different algorithms.To evaluate a proposed linguistic solution, the two criteria in common use are thejudgments of native speakers, and frequency in a corpus.
Using the former method, wecould ask people to judge whether the 13 plans proposed previously for describing 0.259are all appropriate (to some context), and whether there are other acceptable solutionsthat have been omitted.
Using the latter method, we could collect from a corpus allphrases describing a given proportion (say 0.259), identify the plans behind them, andfind out whether (i) the solutions actually found in the corpus are all generated by ourmodel, and (ii) solutions absent from the corpus are not generated.We would argue, however, that the overall performance of the program is actuallynot the most instructive aspect to evaluate.
Any reasonably complex system is basedon a number of methods and assumptions, some of which might be correct and some17 We have preferred to include some very inaccurate solutions such as ?about a half?, in order to caterfor all positions along the roundness/accuracy trade-off.
For instance, ?half of the birds flew away?seems acceptable in a context in which the exact proportion is unimportant, whereas the more accurate?a quarter?
or ?a third?
might sound fussy.125Computational Linguistics Volume 38, Number 1incorrect; separate evaluations of these components should provide more useful evi-dence on how the model can be improved.
We have therefore designed the empiricalstudy so that as well as assessing overall coverage and quality, it allows us to evaluatethe Minimal Distance and Extreme Point Constraints, the Roundness Preference, andthe suggested scale systems for fractions and percentages.5.1 MethodThe model was evaluated through two surveys in which participants were asked tofill in gaps in sentences describing proportions, with reference to data from which theactual value VA could be easily computed.
The surveys were presented on-line usingSurveyMonkey18 through a link sent to two computational linguistics mailing lists(SIGGEN and SIGDIAL).
Survey 1, completed by 50 participants, tested the predictionsof the model concerning given (VG) values for percentages.
Survey 2, completed by62 participants,19 investigated given (VG) values for fractions, and their relationship tothe decision whether to use a fraction or a percentage; it also included four questionstesting the Extreme Point constraint.
The content of all questions was adapted fromnewspaper articles in the NUMGEN corpus.
In detail, the composition of the surveyswas as follows:A.
Eight questions where subjects were asked to provide the given number(VG) in a sentence that already contained a hedge, with reference to datadetermining an actual value (VA).
The context of the VG response wasvaried systematically to cover the three approximation relations (?,<,>)with actual values at different distances from a convenient round number.
[Survey 1]B.
Ten questions where subjects were asked to complete a sentence byproviding a fraction/percentage (possibly including a hedge).
The datawere varied so that the actual value was sometimes close to a convenientVG value from the fraction scale system [S2,S3,S4] (i.e., halves, thirds,quarters), and sometimes close to VG values on other scales (e.g., fifths,sixths, tenths).
[Survey 2]C. Four questions where subjects were asked to choose a hedge for a sentencethat already contained a given (VG) number, in each case either 0% or100%.
Their purpose was to test the Extreme Point constraint on the choiceof relation.
[Survey 2]Examples of each kind of question are shown in Figure 1.
The instructions in bothsurveys were as follows, with the italicized paragraph occurring only in Survey 2.This survey will take about 5 minutes to complete.
Its purpose is to investigate howpeople choose numerical descriptions.
It is not a test where answers are either rightor wrong.18 http://www.surveymonkey.com/.19 In fact, 65 people completed Survey 2, but three were eliminated, one for responding at random, and twofor giving responses that were not proportions.
Our policy was to eliminate participants only when alltheir responses were nonsensical, therefore as can be seen, a few obviously mistaken responses remain.126Power and Williams Generating Numerical ApproximationsFigure 1Snapshots of questions from the surveys, illustrating the three question types.Imagine that you are the subeditor of a newspaper.
You have been asked tocomplete an article which has some gaps where data were not yet available to theoriginal author.You are given the incomplete sentence, and the data which it should describe.
Yourtask is to choose a suitable expression to complete the sentence, leaving the rest of thewording unchanged (even if you disagree with it).Each expression should use either a fraction or a percentage, and may also includemodifying words like ?over?, ?about?
(e.g., ?55 percent?, ?over a half?
).The data are fictional, but assume they are correct.
We are interested in your choiceof numerical expression, not in the validity of the data.Schematically, each question presented the raw data of a proportion in the form CS/CSS(cardinality of set divided by cardinality of superset)?for instance, 712 out of 1,000 UKteenagers?so that the actual value VA could be calculated.
The values of CSS were chosenso that this calculation would be relatively simple (1,000).20The whole design is shown in Table 4, where the questions are numbered in orderof presentation, and the gaps to be filled by the subjects are shown by question marks.In Survey 1, all participants viewed questions A1?A8 in the same order on separate20 There is a possible bias here in that the denominator used in presenting the data (1,000) might leadparticipants to favor scales that easily divide this number (e.g., 10 in preference to 3).
Without a controlwe cannot rule out this possibility, but the results for fractions, where 3 was actually the most commondenominator (46.8% of responses), show no evidence that non-decimal scales were handicapped.127Computational Linguistics Volume 38, Number 1Table 4Design of the surveys.
Questions A1?A8 were presented in Survey 1, and questions B1?B10 andC1?C4 in Survey 2.
VA is the actual value, derived from data supplied in the question; VG is thegiven value; the Relation holds between VA and VG.
Responses required from subjects areshown by ??
?.Q VA Relation VGA1 0.712 ?
?%A2 0.437 > ?%A3 0.625 ?
?%A4 0.336 < ?%A5 0.475 ?
?%A6 0.561 < ?%A7 0.286 ?
?%A8 0.619 > ?%B1 0.372 ?
?B2 0.493 ?
?B3 0.894 ?
?B4 0.744 ?
?B5 0.661 ?
?B6 0.056 ?
?B7 0.257 ?
?B8 0.170 ?
?B9 0.605 ?
?B10 0.339 ?
?C1 0.983 ?
100%C2 0.028 ?
0%C3 0.962 ?
100%C4 0.021 ?
0%pages.21 In Survey 2, similarly, questions B1?B10 were presented on separate pages,followed by questions C1?C4 presented on a single page (see Figure 1).225.2 ResultsBefore presenting the results schematically, we will look in detail at the responsesactually typed for the question A1 (top of Figure 1).
Subjects were asked to completethe sentence About [.
.
. ]
percent of UK teenagers under 16 have used sunbeds during thelast year given the data 712/1,000, equivalent to VA = 0.712.
Reproduced as strings, thefollowing responses were received (some more than once):70, 71, 71.2, 70%, seventy, 75, 20, 15, 2As can be seen, the same answer was sometimes given in different forms (70, sev-enty, 70%); in collating the results, these were all normalized to 70.
Occasional bizarre21 Questions A1?A8 were ordered so that Relation values varied from one question to the next and wereevenly distributed.22 To check that there were no effects of question order, questions B1?B10 were presented to half thesubjects in one order, and to the other half in the reverse order.
Because no differences wereapparent?the preferred response was the same for every question?the data were then amalgamated.For questions C1?C4, the order was randomized.128Power and Williams Generating Numerical ApproximationsTable 5Results for questions A1?A8 (50 participants).
VA is the actual value indicated by the questiondata; R is the arithmetical relation implied by the hedge in the question text.
Responsefrequencies for VG (given value) are shown in parentheses, or unspecified if the responseoccurred only once.Q R VA Responses (frequencies)A1 ?
0.712 70 (33), 71 (8), 71.2 (5), 75, 20, 15, 2A2 > 0.437 40 (26), 43 (21), 30 (2), 45A3 ?
0.625 60 (19), 62 (17), 63 (10), 62.5 (2), 30, 20A4 < 0.336 35 (30), 34 (17), 50, 40, 1A5 ?
0.475 50 (17), 48 (12), 47 (12), 45 (5), 47.5 (2), 46, 25A6 < 0.561 60 (27), 57 (17), 56 (3), 55 (2), 30A7 ?
0.286 30 (28), 29 (15), 28 (4), 25, 28.6, 1A8 > 0.619 60 (38), 61 (9), 62 (2), 50Table 6Results for questions B1?B10 (62 participants).
Questions marked with an asterisk werepredicted to favor fractions because their actual values are close to fractions from scales 2?4;nearest fractions are shown in column F. Response frequencies are shown in parentheses, orunspecified if the response occurred only once.Q VA F Fraction responses Percentage responsesB1 0.372 3/8 1/3 (28) 37 (13), 40 (9), 37.2 (6), 33, 30, 38B2* 0.493 1/2 1/2 (45) 50 (9), 49.3 (5), 49 (3)B3 0.894 9/10 90 (46), 89.4 (5), 89 (4)B4* 0.744 3/4 3/4 (28), 2/3 75 (17), 74.4 (5), 74 (4), 70 (2), 80B5* 0.661 2/3 2/3 (34), 1/2 (4) 66 (13), 66.1 (5), 60 (2), 70B6 0.056 1/20 1/2 5 (25), 5.6 (10), 6 (10), 56 (2), 10, 60, 1.2, 1B7* 0.257 1/4 1/4 (34) 25 (15), 25.7 (6), 26 (5)B8 0.170 1/6 1/6 (3), 1/5, 1/4 17 (48), 20 (6), 1.7 (2)B9 0.605 3/5 1/2 (8), 2/3 (8) 60 (37), 60.5 (6), 61B10* 0.339 1/3 1/3 (39) 34 (10), 33.9 (6), 30 (2), 35 (2), 40responses (20, 15, 2) were not excluded.
Collating in this way, and ordering by frequency,the results for the first eight questions were as shown in Table 5.For questions B1?B10, we were interested in whether subjects would choose afraction or a percentage, and whether fractions would conform to the proposed scalesystem (favoring denominators in the range 2?4).
Responses such as ?a quarter?, ?twothirds?, ?1/4?, ?2/3?, were classified as fractions; responses like ?one out of four?, ?2of every 3?
were instead classified as ratios.
For each actual value, a convenient fractionwas located within a distance of 0.01 on the proportion scale: for instance, 0.257 is just0.007 above 1/4, and 0.372 just 0.003 below 3/8.
Five of these fractions lay within theproposed scale system (denominators 2?4) and five lay outside (denominators 5, 6, 8,10, 20); questions in the former category are marked by an asterisk in Table 6.For questions C1?C4, subjects had to choose from the four hedging options about,less than, more than, and approximately.23 The purpose of these questions was to test the23 The plausible option ?almost?
was omitted because, as pointed out earlier, this denotes a subtler relationof approaching the given value either from above or below.
We hope in future work to extend the modelso that it includes this relation as well as the four treated here.129Computational Linguistics Volume 38, Number 1Table 7Results for questions C1?C4 (62 participants).
Response frequencies are shown in parentheses.For these questions, actual and given values (VA, VG) were specified in the question, andparticipants were asked to choose the hedge?and thus, implicitly, the arithmetical relation.Q VA VG Responses (frequencies)C1 0.983 100% about (25), approximately (31), less than (6)C2 0.028 0% about (30), approximately (19), more than (13)C3 0.962 100% about (29) approximately (23), less than (10)C4 0.021 0% about (28), approximately (27), more than (8)Table 8Predictions for questions A1?A8.
Coverage reports the number of responses conforming to thepredictions.
Quality reports the number of predicted solutions that were produced by at leastone subject.Q R Actual Predictions Coverage QualityA1 ?
0.712 70, 71 41 (82%) 2/2A2 > 0.437 40, 43 47 (94%) 2/2A3 ?
0.625 60, 62, 63 46 (92%) 3/3A4 < 0.336 35, 34, 40 48 (96%) 3/3A5 ?
0.475 50, 48, 47 41 (82%) 3/3A6 < 0.561 60, 57 44 (88%) 2/2A7 ?
0.286 30, 29 43 (86%) 2/2A8 > 0.619 60, 61 47 (94%) 2/2Extreme Point constraint?our hypothesis was that when constrained to use the extremepoints 0% or 100% as given values, people would avoid the relations< and>.
Two otherhedges were employed so that on a random response the frequencies would be equallydivided, with half favoring either < or >.
Results for these questions are presented inTable 7, which shows that the hedges ?less than?
and ?more than?
(corresponding to <and >) were strongly dispreferred for extreme given values.245.3 Analysis of Issues5.3.1 Overall Performance.
Comparing the solutions generated by the program with thoseproduced by human authors (including participants in our survey), we can ask (a) howmany solutions produced by humans were generated by the program, and (b) howmany solutions generated by the program were produced by humans?thus addressingthe competing criteria of coverage and quality.
A model that generates many solutionswill increase coverage at the expense of quality, because it accepts some solutions thatcompetent authors would never produce.Considering coverage first, the results predicted for questions A1?A8 are shown inTable 8; comparing these with the actual results in Table 5, we observe that participantschose one of the predicted given values in 357 out of 400 responses, giving an overall24 Collating the results for VG = 100% we obtain the frequency distribution 54-54-16 for the three choices?about,?
?approximately,?
?less than?
(?2 = 23.3, df = 2, p < 0.00001).
For VG = 0% the correspondingdistribution is 58-45-21 for the three choices ?about,?
?approximately,?
?more than?
(?2 = 17.1, df = 2,p < 0.0002).130Power and Williams Generating Numerical Approximationscoverage rate of about 90%.
Turning to quality, the final column of Table 8 shows thatall of the predicted solutions occurred at least once in a sample of 50 responses, givinga quality rate of 100%.
This confirms that the fairly high coverage rate was not achievedby the artifice of generating an overlarge set of predicted solutions.For questions B1?B10 (Survey 2), considering only responses that were fractions orpercentages, we obtained 576/588 responses conforming to the predicted given values(98% coverage), and 49 out of 76 predicted given values used at least once (64% quality).Here the quality rate is lower because our model generates some very rough approxima-tions using fractions (e.g., < 1/2 for actual values like 0.257 and 0.170)?responses thatwould only occur in contexts where roundness overwhelmingly dominates precision.5.3.2 Fraction and Percentage Scales.
Responses to questions B1?B10 supported our as-sumption that fractions are normally drawn from a scale system with denominators inthe range 2?4.
This is shown (a) by the preponderance of fractions using these scales,and (b) by the tendency of subjects to prefer percentages when the closest fraction usedanother scale (e.g., fifths or tenths).Out of 235 fraction responses overall, only 5 denominators were used, covering therange 2?6, with frequencies as follows: halves 58 (24.7%), thirds 110 (46.8%), quarters63 (26.8%), fifths 1 (0.4%), and sixths 3 (1.3%).
Thus overall, 98.3% of fraction responsesused the proposed scales.
Strikingly, none of the subjects chose three-fifths as a givennumber for 0.605 (question B9), where the 16 fraction responses divided equally be-tween half and two-thirds.
Similarly, no subjects chose nine-tenths for VA = 0.894 (ques-tion B3), for which the overwhelming preference was 90%, and there were no fractionresponses at all.
The data thus supported a clear division into fraction and percentagescale systems, with most subjects staying within a fraction system with scales limited tothe range 2?4.Regarding the decision whether to use a fraction or a percentage, the actual valueswere chosen so that five were close to convenient fractions in the range 2?4, and fivewere not (see Table 6).
For the former group, fractions outnumbered percentages by185 to 114; for the latter group, percentages outnumbered fractions by 237 to 50?aclear crossover (on a 2 ?
2 association test, ?2 = 120.5, df = 2, p < 0.00001).
Anotherway of showing this result is to correlate fraction frequencies with the distance betweenthe actual value and the nearest fraction with a denominator in the range 2?4: As thisdifference increases, fraction frequencies decline, so that we obtain a strong negativecorrelation (product-moment correlation r = ?0.9, df = 8, p < 0.01).5.3.3 Minimal Distance.
The Minimal Distance constraint relates the choice of the givenvalue VG to the choices made for the relation and the scale.
It states that VG shouldbe chosen from the scale so as to minimize the distance from the actual value VA,while obtaining a true description.
Applied for example to question A1, for which therelation is ?
and VA = 0.712, the only point along the S10 scale satisfying the constraintwill be VG = 7/10, yielding a distance from VA of 0.012 (compared with a distanceof 0.088 when VG = 8/10, the nearest rival).
For the other scales, the nearest pointsare respectively, 14/20, 71/100, and 712/1,000, with the result that there are only twopredicted VG values, 7/10 and 71/100 (realized as 70% and 71%): 14/20 is a duplicateof 7/10 removed by the Roundness Preference, and 712/1,000 is inconsistent with therelation ?
because it is exactly equal to VA.Excluding non-serious responses such as ?about 15 percent?
as an approximationof 0.712, we can find in Table 5 (questions A1?A8) only seven violations of minimaldistance (2%), compared with 357 responses respecting the constraint (98%).
The only131Computational Linguistics Volume 38, Number 1violation that occurred more than once was ?about 28 percent?
as an approximationof 0.286.
For questions B1?B10 we counted only five violations (1%) compared with583 respecting the constraint (99%).
Four of these violations were obvious arithmeticalmistakes (e.g., 56% as a realization of 0.056); the other was the response 33% as anapproximation for 0.372, suggesting an attempt to realize the underlying form 1/3 asa percentage.255.3.4 Extreme Point.
The Extreme Point constraint states that the relations < and > willbe avoided with given values at the extremes of the scale (VG = 0%, 100%).
To test thisclaim, the survey contained four questions (C1?C4) in which subjects had to choose ahedge to accompany an extreme value of VG.
For instance in question C1, with VA =0.983, the sentence presented was A survey has found that [.
.
. ]
100 percent of people believethey are smarter than average, and subjects had to choose from the hedges about, less than,more than, approximately in order to fill the gap.
The arithmetically correct answers tothis question are < 100 (represented by ?less than?)
and ?
100 (represented by ?about?and ?approximately?
); most subjects, however, respected the Extreme Point constraintby opting for the latter, with only 6/62 choosing ?less than.?
Overall, 211/248 responsesto questions C1?C4 respected the constraint (85%), with 37 violations (15%).5.3.5 Roundness Preference.
Two questions in Survey 1 were included specifically to testthe Roundness Preference; both employed the relation ?
in combination with an actualvalue exactly midway between two round numbers, one on the scale S10 and the otheron the scale S20.
The prediction was that subjects would favor the VG value taken fromthe coarser-grained scale (S10).
Results were as follows: For question A3 (?, VA = 0.625), 19 subjects chose ?about 60 percent?
andno subjects chose ?about 65 percent.
? For question A5 (?, VA = 0.475), 17 subjects chose ?about 50 percent?
and5 chose ?about 45 percent.
?The overall count was therefore 36 to 5 in favor of the Roundness Preference (p <0.00001, binomial test), but there was at least a hint of some other factor intruding, withover 10% of responses going the other way.6.
ConclusionWe have proposed and tested a theoretical model for planning expressions that describeproportions, with varying degrees of formality and precision.
Our central idea is thatsuch expressions describe an arithmetical relationship between an actual value VA anda given value VG, where the relation belongs to the set {=,?,>,<} and the givenvalue is a point from a scale belonging to a scale system.
We use the concept of scalesystem in order to distinguish the two commonest mathematical forms for representingproportions?fractions and percentages.
In everyday usage, fractions are conceptually25 The use of 33% as an approximation suggests an alternative way of setting up the model using a singlescale system [S2,S3,S4,S10,S20,S100,S1000], and treating the choice between fraction and percentageas a subsequent step influenced but not determined by the scale value.
This approach receives somesupport from the peaks in Table 2 for 25% and 75%, which would correspond to points along the S4 scale.However, overall we obtained 67 responses of 1/3 as a fraction compared with only one as a percentage,confirming a strong association of the scales [S2,S3,S4] with a particular mathematical form.132Power and Williams Generating Numerical Approximationssimpler because they have low-valued scales (usually in the region 2?4), whereas per-centages use higher-valued scales based on powers of ten; both scales, however, couldbe extended to finer granularities, for instance, to meet the requirements of specializeddomains.
Scales for proportions are characterized by their SN numbers: lower SN valuesrepresent coarser granularities and are associated intuitively with rounder given values.The model provides a convenient formalization of the notions of mathematical form androundness, and a framework for investigating the detailed structure of scale systemsand the constraints and preferences that inform the planning process.In evaluating the model, we found that most given values produced by partici-pants in our survey were predicted by the model, with an overall coverage over 90%;quality was also high (i.e., most generated solutions were employed at least once byparticipants).
These results support our assumptions about the composition of the scalesystems for fractions ([S2, S3, S4]) and percentages ([S10, S20, S100, S1000, .
.
.
]), whichdetermine the range of generated given values.
Regarding the other assumptions ofthe model, we found overwhelming evidence for a Minimal Distance constraint, whichrequires speakers/writers to choose (for a specified scale and relation) the nearest pointto the actual value that yields a true description, and strong evidence for an ExtremePoint constraint, which disallows approximations in which the relations> or< are usedin combination with extreme points of a scale (e.g., with the percentages 0% or 100%).We also found clear evidence for a Roundness Preference which, all other things beingequal, favors solutions using coarser-grained scales within the selected system.We hope that with some calibration of the details, our model can provide a reliableset of plans for describing any proportion, although when incorporated into an NLGapplication it would obviously have to be complemented by a module for selectingthe best solution for a given pragmatic context.
Despite not covering this problemin the model, we have given examples of how pragmatic considerations might affecteach component of a solution (scale system, given value, arithmetical relation), thusproviding a framework for investigating such questions systematically.AcknowledgmentsNUMGEN was funded by the Economicand Social Research Council under GrantRef.
RES-000-22-2760.
We are grateful toour colleagues and reviewers for helpfulcomments and suggestions.ReferencesBlutner, Reinhard and Henk Zeevat.
2004.Optimality Theory and Pragmatics.
PalgraveMacMillan, Houndmills, Basingstoke,Hampshire.
Mouton de Gruyter, Berlin.Crystal, David.
1988.
On keeping one?shedges in order.
English Today, 15:46?47.Dekker, P. and R. van Rooy.
2000.Bi-directional optimality theory: Anapplication of game theory.
Journal ofSemantics, 17:217?242.Dubois, B. L. 1987.
Something of the orderof around forty to forty-four.
Languagein Society, 16(4):527?541.Grice, H. P. 1975.
Logic and conversation.In P. Cole and J. L. Morgan, editors, Syntaxand Semantics: Vol.
3: Speech Acts.
AcademicPress, San Diego, CA, pages 41?58.Hallett, Catalina, Donia Scott, and RichardPower.
2007.
Composing queries throughconceptual authoring.
ComputationalLinguistics, 33(1):105?133.Hurford, J. R. 1975.
The Linguistic Theory ofNumerals.
Cambridge University Press,Cambridge.Jansen, C. J. M. and M. M. W. Pollmann.2001.
On round numbers: Pragmaticaspects of numerical expressions.
Journalof Quantitative Linguistics, 8(3):187?201.Koller, Alexander and Joachim Niehren.2000.
Constraint programming incomputational linguistics.
In Proceedingsof 8th CSLI Workshop on Logic, Languageand Communication, pages 95?122, StanfordUniversity.Krifka, Manfred.
2002.
Be brief and vague!and how bidirectional optimality theoryallows for verbosity and precision.
In133Computational Linguistics Volume 38, Number 1D.
Restle and D. Zaefferer, editors,Sounds and Systems: Studies in Structureand Change: A Festschrift for TheoVennemann (Trends in Linguistics 141).Mouton de Gruyter, Berlin, pages 439?458.Krifka, Manfred.
2007.
Approximateinterpretation of number words:A case for strategic communication.In G. Bouma, I. Kra?mer, and J. Zwarts,editors, Cognitive Foundations ofInterpretation.
Koninklijke NederlandseAkademie van Wetenschapen,Amsterdam, pages 111?126.Lakoff, George.
1973.
Hedges: A study inmeaning criteria and the logic of fuzzyconcepts.
Journal of Philosophical Logic,2(4):458?508.Pollmann, M. M. W. and C. J. M. Jansen.1996.
The language user as anarithmetician.
Cognition, 59:219?237.Qualification and Curriculum Authority.1999.
Mathematics: the NationalCurriculum for England.
Department forEducation and Employment, London.Reiter, Ehud.
1994.
Has a consensus NLarchitecture appeared, and is itpsychologically plausible?
In Proceedingsof the 7th International Workshop on NaturalLanguage Generation, pages 163?170,Kennebunkport, ME.Reiter, Ehud, Somayajulu Sripada, JimHunter, Jin Yu, and Ian Davy.
2005.Choosing words in computer-generatedweather forecasts.
Artificial Intelligence,167(1-2):137?169.van Deemter, Kees.
2009.
What gametheory can do for NLG: the case ofvague language.
In Proceedings of the12th European Workshop on NaturalLanguage Generation, pages 154?161,Athens.van Hentenryck, P. 1989.
ConstraintSatisfaction in Logic Programming.MIT Press, Cambridge, MA.Williams, Sandra and Richard Power.2009.
Precision and mathematical formin first and subsequent mentions ofnumerical facts and their relation todocument structure.
In Proceedings ofthe 12th European Workshop on NaturalLanguage Generation, pages 118?121,Athens.134
