THE PARSODY SYSTEM : AUTOMATIC  PREDICT ION OF  PROSODIC  BOUNDARIESFOR TEXT-TO-SPEECHStephen MinnisNatural Language Group, Systems Research Division, BT Laboratories, Martlesham Heath, Ipswich IP5 7RE, UKtel +44-473-645384, e-mail : sminnis@bt-sys.bt.co.uk@unetAs commercial text-to-speech systems move above theword level to the sentence level, the prediction of thecorrect prosodic information becomes a significantfactor in the perceived naturalness of the synthesisedspeech.This article reports on "Parsody", an experimentalsystem which combines a partial parser with a prosodicmarking component to predict he location and relativestrength of prosodic boundaries in text.INTRODUCTIONModern text-to-speech (TTS) systems are quite good atword level synthesis, but tend to perform badly onconnected word sequences.
It has been suggested thatthe poor prosody of synthetic onnected speech is theprimary factor leading to difficulties in comprehension\[1,5\].
TTS systems must therefore incorporate bettermechanisms for prosodic processing.
For the purposeof this article, prosodic processing is narrowlyinterpreted as being the prediction of the location and ofthe relative strengths (salience) of prosodic boundaries(although, of course, there are several other importantaspects to prosody).
A prosodic boundary is a point in aspoken utterance associated with important acousticprosodic phenomena, such as pauses and pitch change.There are two main approaches tothe prosodic markingproblem : the rule-based approach and the stochastic-based approach.The rule-based approach stems from Gee and Grosjean'swork on performance structures 1 \[7\], which has beenthe focus of many extensions, uch as that reported byBachenko and Fitzpatrick \[2,4\].
Gee and Grosjean'swork sought o account for the (then) disparity betweenlinguistic phrase-structure theories and actualperformance structures produced by humans, andfocused on recreating the pause data of several analysedsentences from syntax (althougtt they claim that theirmethod could easily account for other prosodicfeatures).
The central tenet of their work was thatprosodic phrasing is a compromise between the need torespect he linguistic structure of the sentence and theperformance aspect (which manifests itself as a need tobalance the length of the constituents in the output).More recent efforts have extended the Gee and Grosjeanapproach in various ways.
Bachenko and Fitzpatricktake a similar rule-based approach but believe thatsyntax plays a lesser ole in determining phrasing, andthat certain prosodic performance constraints, uch aslength, override syntactic structure.
They allow prosodicboundaries to cross syntactic boundaries (under certainconditions), whereas Gee and Grosjean viewed their1 Performmme structures are "structures based on experimentaldata, such as pausing and parsing values" \[7\].rules as acting within basic sentence clauses.
Bachenkoand Fitzpatrick made several other changes to the basicGee and Grosjean algorithm, including countingphonological words 2 rather than actual words whendetermining node strengths.
Wightman et al haveproposed some further interesting extensions to theBachenko and Fi~patrick method \[12\].With the availability of large and accurately labelledprosodically annotated corpora, the stochastic-basedapproach will come more to the fore.
Wang andHirschberg \[11\], and Ostendorf et al \[9\], have bothdescribed methods for automatically predicting prosodicinformation using decision tree models.
Generally,decision trees are derived by associating a probabilitywith each potential boundary site in the text, andrelating various features with each boundary site (e.g.utterance and phrase duration, length of utterance (insyllables/words), positions relative to the start or end ofthe nearest boundary location etc.)
\[11\].
The resultingdecision tree provides, in effect, an algorithm forpredicting prosodic boundaries on new input texts.It is interesting to note that Ostendorf et al reportsimilar esults in their evaluations of the performance ofboth the rule-based and decision tree algorithms.THE PARSODY SYSTEMOur approach has been to implement a rule-basedmethod on top of a chart parser.
This was a purelypractical decision, as an efficient chart parser had beendeveloped in-house.
Also the larger and more detaileddescriptions of the rule-based methods in the literatureprovided an adequate starting point on which to build.The resulting system, the Parsody (from Parser +Prosody) system is designed to provide a test-bed forinvestigating the interface between syntactic parsestructures and the performance structures of actualspeech.
Results from the Parsody system are directlyled into BT's TTS system, Laureate.The fact that Laureate will be a commercial TPS systemplaces several requirements on the parser, it must berobust, it must be fast, and it must predict prosodicboundaries with a reasonable degree of accuracy.
Atpresent the emphasis i on the prediction of the locationof prosodic boundaries rather than on the strength of theboundaries.The Parsody system is implemented in C, under X-windows on a Sun Sparc station, and allows forinteractive editing of intermediate r sults throughout theparsing/prosodic marking process.
This provides us2A phonological word is one which effectively functions asone spoken item, as the internal word-word boundaries areresistant to pausing \[7\].
Typical examples are determiner-nounword groups, such as "the+man".992with a useful tool for investigating our algorithms, as A typical tree is shown in Figure I.
The partition odcswell as a debngging aid.
are denoted by the two "s" labels in this tree.A description of the main aspects of tile parser and theprosodic marking comlx)nents i now given.THE PARSER COMPONENTIt is interesting to note tlmt one of thc sentences in tileBachenko and Fitzpatrick appendix of sentences wasnot parsed bccausc of "tot) many parse t)roblems".Obviously this is not acceptable for a conunercial tcxt-to-speech system.
Thc Parsody parser is designcdalways to produce one result through a combination ofstochastic word tagging and partial parsing with aminimal grammar.
All processing is performed on achart data structure back-bone incorporating packing.This overall approach rcsnlLs in a very fast and efficientparser.A word's part-of-speech is important for TTS as it mayaffect ile word's pronunciation.
Stochastic word taggingenables the parser always to choose one word tag,althtmgh this may t)r may ut)t be the correct one (thecurrent accuracy is al)proximately 95% correct - thisfigure heing given tm the Bachenko and Fitzpatricksentences and on other test sentences).
Forttmately fori)ronunciation ptu'l)oses , the lmml)er of words havingmttltiple prontmciatitms is quite small - between 1 anti2% of words in our lexicon.
Initial investigations haveshown that there is less than a 0.3% chance of pickingthe wrong pronunciation li)r a word.Anothcr importaut aspect of the Parsody word-laggingapproach is that ill-limned input can be accommodatexl,and the prosodic marking component can still functiontt) protluce a result.
Some speech is better than none,even if it sounds ffangc.The minimal grannnar also helps the parser tt) prt)duceonly tree, anti always one, output.
The granmlar is asilnple LNP/PP grammar augmented by special'partition' rules.
An LNP is simply a 'longest noun12hrase' which is an unambiguous intcrpretation of thelongest NP in the parse result.
A PP is a 12rcpositionalI!hrase.
An example of a partition node is one which isinscrtcd I)ctween two immediately adjacent 'longestNPs' in the parse strncture 3..f.~sigma---..~since prio felt ill tMt ~ d~t ~ celled roundshe da9 her friendFigure I.
Example Parse "Free produccxt by Parsody3\[:or this reason, cach of the prosodic rules to be describedworks within the t)artition odes.
This is because the lx)undarybetween each partition node seems to mark the largestboundaries within the sentence, and tl~e later in the analysislhey are joined, the larger the prosodic botmdary will be.
Itmay well be that some analysis, perhaps verb adjacency,shoukl take place across partition node boundaries.
Furtherresearch will examine this.Tile partial syntactic tree is then passed to the prosodicm~u'king system.THE PROSODY COMPONENTThe prosodic nmrking algorithms arc founded on thcBachenko and Fitzpatrick extensions to the Gee andGrosjcan rules.There are essentially two main components in theBaehcnko and Fi~patriek model.
The first, concerningboundary location is basically adhered to in Parsody.tl(mndary location entails the grouping of words intophonological words, and then into phonological phrases.The boundaries separating prosodic phrases formpotential prosodic boundary location sites.The sccond component seeks to determine the boundarystrengths via a scries of rules.
Bachenko and Fi~patrickdescril)e a verb-balancing rule which attempts tobahmce matcrial around a vcrb, and a verb adjacencyrule which in effect extends the verb balancing rule,using 'lmndling' (the adjoining of adjaccnt phrases) tocontinue to centre material round a verb.
ttere, Parsodycmploys two main departures from the Bachenko andFitzpatrick rules.
The first is in the domain of verbadjacency.
Parsody's verb adjacency algorithm retainsthe notion of grouping nodes to lorm a balanced tree,bnt extends this rule to cover all nodes (with theexception of the vcry final PP).
The basic algorithm isalso different.By extending the grouping of nodes to cover all nodes,the confusion of Bachenko and Fitzpatrick's "generalbundling rulc" is avoided, since all nodes will have becngrouped at completion.
The change to the algorithm ismore subtle, yielding thc rule:if Count(X) + Cmmt(Y) < Count(Z)thenJoin to the Left(Y)elseJoin to tile Right(Y)where :Count(a) = Number of Phonological Wordsbeneath Node 'a'X = Previous NndeY = Current N(~leZ = Next NodeThis makes explicit the assumption in Bachenko andFitzpatrick's algorithm that tile adjoining of phrasespr(xluces abalancezt tree.
The above approach continuesto balance the structure created so far, with thephonological phrases which have not yet been joinedinto the structure.
By doing this, the boundary values(strengths/salience) r main dependent on the values ofthe constituent prosodic phrases.in the example shown in Figure 2, tile left-to-rightnature of application of this rule ensures that earliermaterial will generally be gronpcd lower in the structurethan later material.
This ties in with Gee and Gmsjean'swork on discourse semantics: the later in the sentence993Ihe information, the greater the prosodic offset.
It is atthis stage that PP's which p}ecede verbs are added intothe structure (assuming they haven't been already).
Theproviso is continued that PP's should always join to theleft, rather than the right.
The exception to this is thePP at the end of the sentence, if there is one, whichremains untouched.s|1It he+methodv tl nI I Iby+which+one conver ts+a+word  in to+phonemes+s7 ~ - _ _iI v n nI I I Ithe+method by+which+one conver ts+a+word  in to+phonemes ...Figure 2: Verb Adjacency exampleThe second main clmnge to the Bacbenko andFitzpatrick algorithm concerns boundary valueassignment.
Bachenko and Fitzpatrick choose to use theabsolute boundary values as their reference.
Parsodydoes not do this, since, according to the algorithm, thelonger tile sentence, the larger the values on eachboundary 4 (varying from a maximum of 5 in smallsentences, to 13 in the larger sample sentences).
Doesthis mean that s,nall sentences hould have smallerboundaries, perhaps none?
According to Gee andGrosjean \[7; footnote 10\], "It turns out (importantly)that the actual pause duration of the longest pause ineach sentence does not correlate all that well (is not afactor of) the overall length of the sentence (forexample, it is possible for a short, less complex sentenceto have a longer main break than a longer, morecomplex sentence)".
For this reason, in Parsody anormalisation algorithm is applied, so that sentences ofvarying lengths may trove their boundaries mapped toreasonable values.EVALUATIONUltimately the success of a prosody component of aTI'S system will be determined by perceptual tests onthe naturalness, or the acceptability, of the synthesisedspeech.
Such tests are subjective, as well as timeconsuming and costly to perform, so a more objectivepoint of reference is required.4The values on a boundary node can be seen in Figure 2.Values are computed by taking the sum of the phonologicalwords at each node and adding one.
A phonological word isone joined by a "+" symbol.
In Figure 2, each terminal nodehas only one phonological word.Our approach compares the prosodic boundariesassigned by Parsody with data provided in Bachenkoand Fitzpatrick's paper \[2\].
This data comprises a set of35 sentences with the prosodic boundaries marked byhand 5.
Of these sentences, 14 are the 'original' Gee andGrosjean sentences re-analysed by Bachenko andFitzpatrick.
Our evaluation was concerned only with theprimary and secondary boundaries assigned byBachenko and Fi~patrick.Some points should be noted about these sentences.
TileBachenko and Fi~patrick sentences (excluding the 14Gee and Grosjean sentences) have a fairly simplesentence structure, and should therefore be handled wellby the system (Parsody and Bachenko and Fi~patrick'ssystem).
In our opinion they do not constitute a rigoroustest for the prosodic component of a TTS system, butthey are useful for ev~duation nevertheless.The Gee and Grosjean sentences, however, have acomplex sentence structure, ,although this is similar foreach sentence.
Experience would suggest hat this isnot a realistic s,'unple of sentences from which to work.Bachenko and Fitzpatrick have converted thesesentences to their notation.
This results in catch sentencehaving only one primary boundary, and all but onesentence having eric secondary botmdary.Furthermore, the primary boundary nearly alwaysappears at the mid-point of the sentence.
These resultsseem intuitively simple for such complex sentenccs, oin this evaluation the data-set "Gee and Grosjean Re-analysed" is a test against he Gee and Grosjean data,with the boundaries marked according to thenormalisation algorithm employed by Parsody.Table 1 : l lachenko and Fitzpatrick SentencesParsc~dy B achenko &FitzpatrickCorrect Primary 21 16Close Primary 8 9Missed Primary 2 6Extra Primary -2 - 13Prhnary Score 0.778 0.490Correct 13 llSecondaryClose Secondary 3 10Missed 8 3SecondaryExtra Secondary 4 5Secondary Score 0.583 0.494Overgeneration 0.965 0.740FactorOverall Score 0.681 0.492Total Sentences - 21Total Primary Boundaries - 31Total Secondary Boundaries - 24Total Tertiary Boundaries - 25It is important to note that even though tile system assignedtyoundaries may be different to the human ones, file systemboundaries may actually be better according to a majorityexpert view.994Table 2 : Gee and (;rosjean SentencesParsody B achenko &FitzpatrickCorrect Primary .... 10 10Close Primary 2 0Missed Primary 2 4Extra IMmary 8 - 1i'rimary Score 01495 0.498Correct 7 5SecondaryClose Secondary 5 10Missed 3 0SecondaryExtra Secondary 9 -3Secondary Score 0.399 0.465Overgeneration 0.630 0.698FactorOverall Score 0.44"} 0.482Total Sentences - 14"lk)tal Primary Boundaries - 14Total Secondary Boundaries - 15Tolal Tertiary Boundaries - 31Table 3 : Gee and Grosjean Re-analysed SentencesI'arsody Bachenko &FitzpatrickCorrect Primary 10 10Close Primm-y 3 lr .
,Missed Primary 2 4Extra Primary 7 -2Primmy Score 0.700 0.342Correct 6 7S ccondaryClose Secondary 9 17Missed 12 3SecondaryExtra Secondary .-3 - 15Secondary Score 0.355 ' 0.280Overgeneration 0.913 .
.
.
.
.
0.488 ' "FactorOvelTafl Score " '~ t)..528 - 0.311Total Sentences - 14Total Primary Botmdaries - 15Total Secondary l~oundaries - 2"1Total TertiaJ T tk)undaries - 0Most of tile measurements giveu iu tile three tables areclear from their description.
A "correct" boundary ix aperfect match with the human-annotation.
A "close"botmdary is oue where another boundary appears ill itSplace (e.g.
a secondary instead of a primary).
"Extraboundary" refers to tile number ot!
boundaries producexlby the system greater than the actual number ofboundaries (a negative figure indicating that fewerboundaries el' that type were produced).The "~ores" presented, basically provide a figure bywhich systems can be compared (with each uther, orwith human-annotated results).
A score of 1 wouldindicate a perfect comparison of results.
The figureincludes both the successes and failures (includingovergeneration) of the system.
The overall score given,is the mean of the primary and secondm'y Scores.The scores are calculated according to the followinglormula.TotalBoundariesOverGenemtionFactor (OGF) = "l'olalSystemBoundariesScore = (2xCorrectl?,oundary)+CloscBouud:.~y x OGF2xActualBonndarywhere :TotalBotmdaries = Number  o fgouudar iesin textTotalSystemgoundaries = Number of Boundariesproduced by systemCorrectBoundary = Number of Boundariesmatched exactlyCloseBoundary = Number of boundariesmatched closely (ie.
aPrimary marked by aSecondary, or viceversa)Bonndary = Primary or SecondaryhoundaryThe CorrcctBoundary result is multiplied by 2 as aweighting factor.
Obviously it is better to have correctboundaries than close boundaries.
Accordingly, theActualBoumlary score is also doubled to maintain thescale.Note that the smaller the overgeneration factor, tilelarger the amount of overgeneration (a score greaterthin1 1 indicates undergenerafion).The results reported show that the Parsody systemcompares favourably, under this analysis, with tileBachenko and Fitzpatrick system - for example in Table1 the overall score is 68% for Parsody, and 49% forBachenko and Fitzpalrick's ystem.
What is encouragingis the better performance on the predictkm of primaryboundaries.
The automatic scoring program alsopresents the results in a useful way.
To relate theseresults to Bacbenko and Fitzpatrick's evaluation in \[12\],they quote a figure of 80%, given the assumption thatprima'y and secondary boundaries are basically similarfrom a comprehensibility, and acceptability, viewpointon the synthesised speech.
This score is given hysumming the Correct Primary and Close Primaryscores and dividing hy the total nmnber of Primarytxnmdaries, l'arsody scores 93% in this case ( calculatedfrom Table 1).As regards our evaluation metht~t proper, it is clear thatthe method requires improvement.
Future ,nethodsshould concentrate on punishing the inco~ect placementof boundaries, especially those that affect the perceptionof the synthesised speech, a viewpoint hat Bachenkoand l::itztmtrick also seem to hold.995This short article outlined the Parsody system, theessentials of which form a component ofBT's LaureateText-to-Speech system.
Key features of the Parsodysystem include its ability to provide accurate parsesrobustly, which allows it to handle ill-formed input withcase.
Parsody also provides a robust rule-basedprosodic annotation facility, that has been developedfrom algorithms presented in the literature, but whichhave been extended for greater performance.Most of the problems with the Parsody system currentlylie with the parser.
Despite the high performance of theword tagger, the effect of wrongly tagging a word islarge, since the prosody component uses thisinformation to construct aprosody tree in a bottom-upfashion.
To improve the tagging performance we ,areconsidering including word collocation statistics.
Also,it would be desirable to increase the range of syntacticstructures produced by the parser.
To improve theparser performance we are looking at extending theminimal grammar, but in such a way that processingspeed is maintained.
Future versions of the parser mayalso include special disambiguation roles concenlratingon words having multiple pronunciations.
Topic andfocus marking will also be introduced at some stage.We also hope to investigate he stochastic approach toprosodic marking.
Future work will focus onassembling a suitable corpus, it is likely that the bestprosodic marking procedare is one which is a hybrid ofboth the rule-based and stochastic-based approaches.
Aswas mentioned earlier, the immediate goal with respectto prosodic marking has been the prediction of prosodicboundary location and of the tx)undary strengths.
Futurework will concentrate on the interpretation f boundaryslrengths, for cxample by investigating the corrclafionof our normalised (hence gradable) boundaries withacoustic phenomena atIhcse boundaries.Finally, it is important to remember the intended goal oftext-to-speech systems is to synthesise unrestricted textinput, hfitial work has begun on extending theevaluation of the system to more 'normal' sentences.
Forexample, work in BT's Natural Language Groupincludes automatic text summarisation; i  tests on thesummarisation f newspaper articles the length ofsentences often exceeds 100 words.
Our text-to-speechsystem must be able to handle such sentences fficientlyboth at the parsing and prosody stage.
The lessonslearnt from more difficult input such as this, may serveto increase our understanding of the relationshipbetween syntax and prosody.AcknnwledgementsThe author would like to express his gratitude to thedirector of BT for permission to publish this paper.Thanks also go to my colleagues in the NaturalLanguage Group and the Text-to-Speech Group for theircomments on this report; Keith Preston, Andy Breen,Mike Edgington, Sandra Williams, Anna Cordon andPeter Wyard.
Special thanks go to Eddy Kaneen for hisinvaluable assistance in getting the Parsody systemoperable and for his contributions to many of theoriginal ideas implemented in the prosodic markingcomponent.\[1\] Allen, J.Synthesis of Speech from Unrestricted Text;Proceedings of the IEEE; Vol 4; pp.
433-442 (1976).\[2\] Bachenko, J. and Fitzpatrick, E.A Computational Grammar of Discourse-neutralprosodic phrasing in English.Computational Linguistics Volume 16, No.3, pp.155-170 1990\[3\] Bachenkn, J., and Fitzpatrick, E.Parsing for Prosody: What a Text-to-speech systemneeds from syntaxProceedings of lE~E Artificial Intelligence Systems inGovernment (AISIG), 1989\[41 Bachenko, J., Fitzpatrick, E., and Wright, C.E.The contribution of parsing to prosodic phrasing in anexperimental text-to-speech systemProceedings of the 24th Annual Meeting of theAssociation for Computational Linguistics, pp.
145-153,1986\[5\] Cahn, J.From Sad to Glad: Emotional Computer Voices;Proceedings of Speech Teeh '88; pp.
35-36 (1988).\[6\] Church K.W.A stochastic parts program and noun phrase parser forunrestricted textIn Proceedings of Second Conference on AppliedNatural Language Processing (ACL), pp.
136-143,Austin, 1988171 Gee J.P., and Grosjean F.Performance structures: A psycholinguistic andLinguistic AppraisalCognitive Psychology, 15: pp.
411-458, 1983\[8\] Grosjean F., Grosjean L., and Lane II.The patterns of silence: Performance structures insentence productionCognitive Psychology, 11: pp.
58-81, 1979\[9\] Ostendnrf M., Wightman, C.W.
and Veilleux,N.M.Parse scoring with prosodic inlbrmation: An analysis /Synthesis approachComputer Speech and Language (1993) 7, pp.
193-210\[10\] Selkirk, E.O.Phonology and Syntax: The Relation between Soundand Structure; M1T Press (1984).\[11\] Wang, M., aml Hirschberg J.Predicting Intonational Boundaries Automatically fromText : the ATIS DomainProceedings of the DARPA Speech and NaturalLanguage Workshop, Feb 199l, pp.
378-383\[1211 Wightman C.W., Veilleux N.M., and OstendorfM.Use of Prosody in syntactic disambiguation: AnAnalysis-by-synthesis approachProceedings of the DARPA Speech and NaturalLanguage Workshop, Feb 1991, pp.
384-389996
