Proceedings of the 54th Annual Meeting of the Association for Computational Linguistics, pages 306?312,Berlin, Germany, August 7-12, 2016.c?2016 Association for Computational LinguisticsVery quaffable and great fun: Applying NLP to wine reviewsIris Hendrickx11Centre for Language StudiesRadboud University, P.O.
Box 9103NL6500 HD Nijmegen, Netherlandsi.hendrickx@let.ru.nlEls Lefever22Language and Translation Technology TeamDep.
of Translation, Interpreting andCommunication, Ghent University, Belgiumels.lefever@ugent.beIlja Croijmans1, Asifa Majid1,3and Antal van den Bosch13Max Planck Institute forPsycholinguistics, P.O.
Box 310,6500 AH Nijmegen, The Netherlands{i.croijmans,asifa.majid,a.vandenbosch}@let.ru.nlAbstractWe automatically predict properties ofwines on the basis of smell and flavor de-scriptions from experts?
wine reviews.
Weshow wine experts are capable of describ-ing their smell and flavor experiences inwine reviews in a sufficiently consistentmanner, such that we can use their descrip-tions to predict properties of a wine basedsolely on language.
The experimental re-sults show promising F-scores when usinglexical and semantic information to predictthe color, grape variety, country of origin,and price of a wine.
This demonstrates,contrary to popular opinion, that wine ex-perts?
reviews really are informative.1 IntroductionDescribing smells and flavors is something the av-erage person is not particularly good at.
If peopleare asked to identify familiar smells such as cinna-mon and chocolate, they are only able to correctlyname the smell around 50% of the time (Cain,1979; Olofsson and Gottfried, 2015).
In compari-son to the elaborate vocabulary we have for visualand auditory phenomena, English and other lan-guages spoken in Western societies appear to havefew words to describe smells and flavors (Levin-son and Majid, 2014; Majid and Burenhult, 2014).Instead, speakers often refer to the source as thename of the smell (?it smells like banana?
).Flavor is a complex experience that combinesthe multisensory sensations of taste, touch andsmell.
Flavor descriptions contain basic taste de-scriptors (e.g., sweet, sour, salty, bitter), withmetaphorical (e.g., ?elegant?)
and source-basedterminology (e.g., ?it tastes buttery?
).The lack of vocabulary for smells and flavorscontrasts starkly with the interest people in theWest have for flavors and fragrances, and whatthey are willing to spend on such products.
Theflavor and fragrance industry is estimated to beworth over $20 billion in 20151.
In this context,experts?
recommendations are used by the pub-lic in order to help them make decisions aboutpurchases.
But are the expert recommendationsmeaningful, given the limitations of language forsmells and flavors?We are interested in the relation between lan-guage and sensory information, and how this in-formation is put into words.
We focus on de-scriptions produced by a select group of peoplewho have considerable experience naming smellsand flavors, i.e., sommeliers and wine journalists.Through their descriptions, wine experts can in-fluence consumers?
purchasing patterns (McCoy,2006; Horverak, 2009), suggesting their descrip-tions are written in an informative manner.
In thispaper we aim to discover whether we can extractthe properties of a wine based on the tasting noteswritten by a wine expert.
This should be possibleif wine experts are capable of translating their sen-sory experiences into words in a consistent man-ner.Previous experimental studies provide a mixedpicture as to whether wine experts?
language isconsistent.
Some studies find similar levels ofagreement in smell descriptions generated by wineexperts and those generated by novices (Lawless,1984; Parr et al, 2002), and wine experts use more1http://www.leffingwell.com/top_10.htm306metaphorical descriptions to describe wine (Ca-ballero and Su?arez-Toste, 2010; Paradis and Eeg-Olofsson, 2013), which potentially are not as in-formative about properties of the wine itself.
Incontrast, others find wine experts use more spe-cific vocabulary (Zucco et al, 2011; Sezille et al,2014), and find that wine experts are, in fact, moreconsistent than non-experts, when they describewines (Croijmans and Majid, 2016).We examined the following wine properties andaimed to predict these solely on the basis of the re-view content: color, grape variety, price, and coun-try of origin.
The outcomes of this investigationare interesting for two reasons.
First, we test theability of experts to review wines with consistentlanguage using naturalistic materials.
Most pre-vious studies about wine experts and their review-ing consistency are performed in experimental set-tings and cover some dozens of wine reviews (seefor example (Gawel and Godden, 2008; Hopferand Heymann, 2014)).
With automatic analysiswe are able to scale up to a much larger and morerepresentative set of reviews.Second, we gather new insights into the specificvocabulary and type of lexical descriptors used todescribe smells and flavors, and what words aremost distinctive for different wine characteristics.Market analyses (Vigar-Ellis et al, 2015) showthat consumers increasingly select wines basedon information provided by experts, for examplethrough expert descriptions and recommender sys-tems, and that wine apps become ever more pop-ular.
This is a positive development, as researchsuggests that informed consumers are able to ben-efit more from the loose relationship between priceand quality in wine (Oczkowski and Doucoulia-gos, 2014).In the long run, as we are training automaticsystems to predict wine properties, we could usesuch systems for automatic metadata predictionand error correction in wine review databases.These systems are also a first step towards arecommender system for wines based on reviewcontent and flavor descriptions.
Current recom-mender systems such as the mobile apps Vivino2or Delectable3work with metadata and user-basedfiltering, i.e.
the principle of ?other users alsobought .
.
.?.
So there is potential here for content-based recommender systems to be developed.2Vivino: http://www.vivino.com3Delectable: http://www.delectable.com2 Related workThe relationship between wines and wine reviewshas been studied from many different perspec-tives, aside from those discussed in the previoussection.
Economically, the relationship betweenprice, wine quality and wine ratings is interestingas a high rating by a famous wine expert can makea substantial difference to product sales (McCoy,2006).
Goldstein and colleagues (2008) inves-tigated whether a jury of wine experts vs non-experts can taste the difference between expen-sive and cheap wines, and found while wine ex-perts could distinguish the difference, non-expertscould not.
Lecocq and Visser (2006) investigatedwhat wine properties determine wine prices.
Theyshowed wine experts based their overall winequality ratings on sensory information, and thatexpert ratings together with features such as re-gion, vintage and designation explained price dif-ferences for a subset of French red wines.
Therelationship between the chemical substances in awine and wine quality have also been the focus ofresearch (Chen et al, 2009; Cortez et al, 2009).Brochet and Dubourdieu (2001) conducted alexical analysis of four corpora of wine reviewsfrom a cognitive linguistic perspective and con-cluded wine reviews are not only describing sen-sory properties of the wine, but also include ideal-istic and hedonistic information from wine proto-types based on previous experiences.
Anthropolo-gists have noted that wine experts form their owndiscourse community with a particular style andvocabulary (Silverstein, 2006).
In this research weaim to discover stylistic and lexical patterns withwhich we can relate wine reviews to wine proper-ties automatically.3 Data setThe website http://www.winemag.com/,owned by Wine Enthusiast Companies, hosts asubstantial catalog of wine descriptions.
Wedownloaded the available reviews4and gathereda total of 76,585 wine reviews.
The catalog datais structured and contains information about thewine such as the producer, appellation region andcountry, grape variety, color, alcohol percentage,price, and where to buy it.
The expert who writesthe wine review also rates the wine by assigning ita score between 80 and 100.
The reviews are writ-4Downloading took place in February 2015307ten by 33 different experts, and can be consideredconcise, with an average length of 39 words.Wine reviews have a distinct style and vocabu-lary, which tends to focus on smell and flavor de-scriptions, as shown in example reviews 1 and 2from our data.
As noted previously, wine expertsuse creative metaphors to characterize the smelland flavor of a wine, as well as source-based de-scriptions.
The metaphors perhaps add variation tootherwise dull or repetitive descriptions (Paradisand Eeg-Olofsson, 2013; Su?arez Toste, 2007).1.
There is not a great deal of dolcetto grown in the North-west, but this is the best version I?ve yet seen.
Itsvivid, spicy fruit core expresses the soil, the plant andthe grape in equal proportion.
Sappy flavors of spicedplum and wild berry hold the fort; it?s built like a racecar, sleek and stylish, with a powerful, tannic frame.2.
Here?s a fragrant and very aromatic Grillo withcheerful notes of peach, passion fruit and mango.
Thewine has an easy approach and would pair perfectlywith appetizers or finger foods.4 MethodologyIn our classification experiments, we evaluatedthe viability of predicting the following four wineproperties: color, grape variety, price, and countryof origin.
Wines can be categorized into three dif-ferent colors: white, red and ros?e.
The databaseof winemag.com is not complete in all metadatafields.
We excluded reviews with missing meta-data from our experiments, and performed this se-lection separately for each metadata field.
For in-stance, we excluded 5,328 wines without a colorlabel in the color labeling experiment.For grape variety we only considered thosewines that were produced from a single grapeand for which we had at least 200 reviews in thetraining set, leading to 33 categories.
We disre-garded all wines with grape blends, as these canhave different ratios of different grape varieties.When different names were used for the samegrape, we normalized these to the same category;e.g., Pinot Gris (French) and Pinot Grigio (Italian)were mapped together manually.The sample contained wines from 47 differentcountries, ranging from South Korea (3 wines)to USA (31,401 wines).
Even though price itselfis an objective value, a division into cheap andexpensive prices is a rather subjective choice.
Wetested two alternatives: a discretization wherecheap wine costs less than $10 and expensivewine at least $100; and a more relaxed versionwhere cheap means less then $15 and expensiveat least $50.
Wines between these prices were leftout in both price experiments.We pre-processed the data set automaticallywith the Stanford toolkit (Manning et al, 2014):we tokenized, PoS-tagged and lemmatized the re-views.
For the classification experiments, we splitthe randomized data set into an 80% training and20% test set.
As information sources, we use bothlexical and semantic features.
A first experimen-tal setup merely uses a bag-of-words (BoW) repre-sentation of the wine reviews.
To construct theseBoW features, we lowercased all lemmas in thereview and selected only the content words (PoS-tag noun, verb or adjective) that occurred at leasttwice in the training set.As the reviews are short and only contain about23 content words on average, we decided to alsoadd semantic features to reduce data sparsity.
Asshown by Kusner and colleagues (2015), seman-tic representations such as Latent Semantic In-dexing and Latent Dirichlet Allocation (LDA) canoutperform a BoW representation.
For our sec-ond experimental setup, we combined our set ofBoW features with (1) 100 topics generated withLatent Dirichlet Allocation (Blei, 2012), and (2)100 clusters based on word embeddings gener-ated with Word2Vec (Mikolov et al, 2013).
Weran initial experiments with exemplar-based clas-sification and experimented with different cluster(Word2Vec) and topic (LDA) sizes of 100, 500,1000, 2000 on the training set.
For LDA (McCal-lum, 2002), we also varied the threshold to assigna topic only to a text when it covered 1%, 2%, or5% of the text.
The best results were obtained with100 topics and a proportion threshold of 1%.
Weused these settings throughout our experiments.Two examples of LDA topics are shown here:LDA42 color ros?e strawberry raspberry pink flavor aromawine light red cherry pale rise dry freshLDA49 flavor acidity wine crisp dry clean lime peach citruslemon fruit pineapple white vanillaTo create the word embeddings we ranWord2Vec on the training corpus, applying theBoW model, a context size of 8, and a word vec-tor dimensionality of 200 features.
In a next step,K-means clustering (with k = 100) was appliedon the resulting word vectors.
As an example, weshow part of the terms contained by cluster 20,which all have the connotation of ?dark/intense?
:308Property #test Bag-of-Word combined: combinedinstances features BoW+LDA+W2V optimisedcolor 14,213 90.7 94.3 97.6country 15,317 44.4 58.0 78.2price big difference 1,135 60.9 61.0 94.6price small difference 4,922 65.0 80.8 90.6variety 9,946 30.5 36.6 70.6Table 1: F-scores per task for Bag-of-Word features, a combination of BoW, LDA and Word2Vec clus-ters, and combined & optimised LIBSVM parameters.Word2Vec20 asphalt black-fruit blackness burly dark deepinky masculine muscular purple roasted saturated sun-baked superconcentratedThe Word2Vec clusters were then implementedas binary features, meaning that for each instancecontaining a word occurring in one of the clusters,the respective cluster is coded by ?1?
in the featurevector, while the other cluster features are coded as?0?.As a classifier, we used LIBSVM (Chang andLin, 2011), with the RBF kernel and optimized pa-rameters c and g per prediction task.
The parame-ters for SVM were optimized by means of a Gridsearch on a randomized subset (5,000 instances)of the training data, resulting in the following pa-rameter settings:?
color: c = 8.0, g = 0.0078125?
variety: c =8.0, g =0.0078125?
country: c =32.0, g=0.00048828125?
price big difference: c =8.0, g=0.03125?
price small difference: c =8.0, g=0.00781255 ResultsTable 1 presents the classification results per wineproperty for three system flavors: (1) feature vec-tors including BoW, (2) feature vectors combin-ing BoW features, LDA and Word2Vec clusters,and (3) combined feature vectors trained with anSVM classifier with optimized hyperparameters cand g. The results confirm the initial hypothesisthat adding semantic information helps the classi-fier.
In addition, optimizing the c and g parametersfor the LIBSVM RBF kernel results in markedlyhigher classification scores.To get some insight into what terms are impor-tant for these classification results, we computedchi-square feature weights on the training set ofexamples for the different tasks.
The top-10 fea-tures with highest chi-square values are shown inTable 25.Figure 1: More training material leads to betterindividual F-scores, as shown for the 10 most fre-quent country classes.The classifier for color achieves a rather high F-score, as illustrated in Table 3.
The ros?e categoryis the odd one out with a markedly lower F-score.There are two main reasons for this.
First, ros?eis a low-frequency class compared to the othertwo classes.
Second, ros?e wine is made from redgrapes, but the grapes are processed in a differ-ent way to red wines.
Therefore, we expect tofind a certain amount of overlap between red andros?e.
When we examine the confusion matrix ofthe classifiers?
predictions on the test set, we seethat, indeed, most errors are due to misclassifyingros?e as red wine.One could argue color prediction from wine re-views is trivial where the wine color is actuallymentioned in the review.
Therefore, we also per-formed an additional experiment with a BoW fea-ture set (with optimized SVM parameters) wherethe words red, white, and ros?e were removed.
Thisaffected the overall F-score by 2.2 points, with the5The variety features are all grape names.
For the countryfeatures: prokubac is a Serbian grape variety, meoru is a Ko-rean grape that grows at mount Jiri.
Yves refers to a Frenchproducer.
Calatrasus is an erroneous lemma form predictedby the Stanford toolkit for the Italian wine producer Calatrasi.309color ros?e, cherry, tannin, apple, peach, citrus, pear, blush, black, pineapple, chardonnayvariety aglianico, barbera, prosecco, viognier, moscato, malbec, sirah, carmen`ere, chenin, zin, franccountry korea, jiri, rose-like, meoru, morocco, serbian, yves, calatrasus, chocolate-cherry, prokupacprice year, tannin, age, rich, blackberry, black, vineyard, cellar, currant, vintage, simpleTable 2: Top 10 features based on Chi-Square measures on the training set.class #number prec recall f-scorered 9296 97.7 99.0 98.4white 4582 97.6 97.1 97.4rose 335 94.5 66.3 77.9Table 3: Results with optimized and combinedSVM for color classification on the test set.decrease due mostly to the performance drop ofthe ros?e class from an F-score of 76.0 to 31.7.For the property country we see that more train-ing material has a positive effect on the individualscores, as visualized in Figure 1.For grape varieties we find individual F-scoresvarying between 82.4 (Chardonnay grape) and30.8 (Grenache).
The Tempranillo grape, for ex-ample, is known for its rather neutral profile,and as a consequence it is often used in blends.The classifier could only distinguish the Tem-panillo variety at a moderate rate (F-score 47.5),and the confusion matrix showed it is confusedwith Cabernet Sauvignon, Malbec, Pinot Noir,and Syrah.
Varieties that were relatively easy topredict were Gr?uner Veltliner (F-score 74.3) andNebbiolo (F-score 78.6).
These grapes are ratherstrictly bound to geographic areas (Nebbiolo isfrom the region Piemonte, Italy and Gr?uner Velt-liner is a typical Austrian grape).
Cabernet Sauvi-gnon (F-score 68.4) and Syrah (F-score 65.2) arecommon grapes for which we had many trainingexamples, but they were often wrongly predictedas labels, leading to low precision.
We are awarethe location of wineries can strongly influence thesensory properties of a wine.
The higher scoresfor grape varieties which are clearly tied to a par-ticular region further confirms this.With regard to the price, the more relaxed ver-sion (price big difference) does not seem to bene-fit from adding semantic features.
An analysis ofthe classification output revealed the trained SVMmodel nearly always predicts the majority class forboth the BoW and combined features, whereas theoptimised version predicts both classes with an F-score of 94.6%.
In future research, we intend torecast the price classification as a regression task.6 ConclusionsWe have demonstrated that wine experts are capa-ble of describing wines in a sufficiently consistentmanner that we can use their descriptions to pre-dict the properties of a wine based solely on itsreview.
Using existing NLP tools and techniques,we were able to produce classifiers that could pre-dict the color, grape variety, price and country oforigin of thousands of wines with high F-scores.This study is a first step in a larger investiga-tion into the relationship between expert languageand sensory descriptions.
We are particularly in-terested in lexical descriptors used for smells andflavors, and aim to study the specific terminologyat the phrase level.
It would also be informativeto know to what extent the wines were classifiedon the basis of smell and flavor descriptions perse, as opposed to other information provided inthe reviews, such as vineyard or producer descrip-tions, for example.
The present models cannot ad-dress this.
In addition, it is interesting to investi-gate questions of genre and style.
For example, wecould ask to what extent does the writing style ofan author, or the wine ratings, affect these results.Finally, we expect there are differences in the waywines are described in different countries and dif-ferent languages.
Ultimately a multilingual, multi-national comparison of wine reviews could un-cover further insights into the human linguistic po-tential for describing complex smells and flavors.AcknowledgmentsPart of this work was funded by The NetherlandsOrganization for Scientific Research: NWO VICIgrant ?Human olfaction at the intersection of lan-guage, culture and biology?, project number 277-70-011.ReferencesDavis M. Blei.
2012.
Probabilistic topic models.
Com-munications of the ACM, 55(4):77?84.310Fr?ed?eric Brochet and Denis Dubourdieu.
2001.
Winedescriptive language supports cognitive specificityof chemical senses.
Brain and Language, 77:187?196.Rosario Caballero and Ernesto Su?arez-Toste.
2010.
Agenre approach to imagery in winespeak: Issues andprospects.
Researching and applying metaphor inthe real world, 26:265?288.William S Cain.
1979.
To know with the nose: keys toodor identification.
Science, 203(4379):467?470.Chih-Chung Chang and Chih-Jen Lin.
2011.
LIB-SVM: A library for support vector machines.
ACMTransactions on Intelligent Systems and Technol-ogy, 2:27:1?27:27.
Software available at http://www.csie.ntu.edu.tw/?cjlin/libsvm.Deng-feng Chen, Qi-chun Ji, Liang Zhao, and Hong-cai Zhang.
2009.
The classification of wine basedon pca and ann.
In Bingyuan Cao, Tai-Fu Li,and Cheng-Yi Zhang, editors, Fuzzy Informationand Engineering Volume 2, volume 62 of Advancesin Intelligent and Soft Computing, pages 647?655.Springer Berlin Heidelberg.Paulo Cortez, Ant?onio Cerdeira, Fernando Almeida,Telmo Matos, and Jos?e Reis.
2009.
Modeling winepreferences by data mining from physicochemicalproperties.
Decision Support Systems, 47(4):547?553.Ilja Croijmans and Asifa Majid.
2016.
Not all flavorexpertise is equal: The language of wine and coffeeexperts.
PLoS ONE.Richard Gawel and Peter Godden.
2008.
Evaluation ofthe consistency of wine quality assessments from ex-pert wine tasters.
Australian Journal of Grape andWine Research, 14(1):1?8.Robin Goldstein, Johan Almenberg, Anna Dreber,John W Emerson, Alexis Herschkowitsch, and Ja-cob Katz.
2008.
Do more expensive wines tastebetter?
evidence from a large sample of blind tast-ings.
Journal of Wine Economics, 3(01):1?9.Helene Hopfer and Hildegarde Heymann.
2014.
Judg-ing wine quality: Do we need experts, consumersor trained panelists?
Food Quality and Preference,32:221?233.
?yvind Horverak.
2009.
Wine journalism?marketingor consumers?
guide?
Marketing Science,28(3):573?579.Matt Kusner, Yu Sun, Nicholas Kolkin, and Kilian QWeinberger.
2015.
From word embeddings to docu-ment distances.
In Proceedings of the 32nd Interna-tional Conference on Machine Learning (ICML-15),pages 957?966.Harry T Lawless.
1984.
Flavor description of whitewine by ?expert?
and nonexpert wine consumers.Journal of Food Science, 49(1):120?123.S?ebastien Lecocq and Michael Visser.
2006.
What de-termines wine prices: Objective vs. sensory charac-teristics.
Journal of Wine Economics, 1(01):42?56.Stephen C Levinson and Asifa Majid.
2014.
Differen-tial ineffability and the senses.
Mind & Language,29(4):407?427.Asifa Majid and Niclas Burenhult.
2014.
Odors are ex-pressible in language, as long as you speak the rightlanguage.
Cognition, 130(2):266?270.Christopher D. Manning, Mihai Surdeanu, John Bauer,Jenny Finkel, Steven J. Bethard, and David Mc-Closky.
2014.
The Stanford CoreNLP natural lan-guage processing toolkit.
In Association for Compu-tational Linguistics (ACL) System Demonstrations,pages 55?60.Andrew McCallum.
2002.
MALLET: Amachine learning for language toolkit.http://mallet.cs.umass.edu.Elin McCoy.
2006.
The Emperor of Wine: The Riseof Robert M. Parker, Jr., and the Reign of AmericanTaste.
Harper Perennial.Tomas Mikolov, ILya Sutskever, Kai Chen, Greg Cor-rado, and Jeff Dean.
2013.
Distributed representa-tions of words and phrases and their composition-ality.
Advances in Neural Information ProcessingSystems 26, pages 3111?3119.Edward Oczkowski and Hristos Doucouliagos.
2014.Wine prices and quality ratings: A meta-regressionanalysis.
American Journal of Agricultural Eco-nomics, page aau057.Jonas K Olofsson and Jay A Gottfried.
2015.
Themuted sense: neurocognitive limitations of olfactorylanguage.
Trends in cognitive sciences, 19(6):314?321.Carita Paradis and Mats Eeg-Olofsson.
2013.
Describ-ing sensory experience: The genre of wine reviews.Metaphor and Symbol, 28(1):22?40.Wendy V Parr, David Heatherbell, and K GeoffreyWhite.
2002.
Demystifying wine expertise: olfac-tory threshold, perceptual skill and semantic mem-ory in expert and novice wine judges.
ChemicalSenses, 27(8):747?755.Caroline Sezille, Arnaud Fournel, Catherine Rouby,Fanny Rinck, and Moustafa Bensafi.
2014.
Hedo-nic appreciation and verbal description of pleasantand unpleasant odors in untrained, trainee cooks, fla-vorists, and perfumers.
Front.
Psychol, 5:12.Michael Silverstein.
2006.
Old wine, new ethno-graphic lexicography.
Annual Review of Anthropol-ogy, 35:481?496.Ernesto Su?arez Toste.
2007.
Metaphor inside the winecellar: On the ubiquity of personification schemas inwinespeak.
Metaphorik.
de, 12(1):53?64.311Debbie Vigar-Ellis, Leyland Pitt, and Albert Caruana.2015.
Knowledge effects on the exploratory acquisi-tion of wine.
International Journal of Wine BusinessResearch, 27(2):84?102.Gesualdo M. Zucco, Aurelio Carassai, Maria RosaBaroni, and Richard J. Stevenson.
2011.
Label-ing, identification, and recognition of wine-relevantodorants in expert sommeliers, intermediates, anduntrained wine drinkers.
Perception, 40(5):598?607.312
